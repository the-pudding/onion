var Sa=r=>{throw TypeError(r)};var ka=(r,a,o)=>a.has(r)||Sa("Cannot "+o);var gi=(r,a,o)=>(ka(r,a,"read from private field"),o?o.call(r):a.get(r)),Nn=(r,a,o)=>a.has(r)?Sa("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,o),Kn=(r,a,o,d)=>(ka(r,a,"write to private field"),d?d.call(r,o):a.set(r,o),o);import"../chunks/CWj6FrbW.js";import"../chunks/TUPNF_ld.js";import{h as Ne,a as Br,aJ as du,aK as Uo,aA as Wo,J as Ks,P as Qr,Q as ar,R as vn,S as pu,c as Xi,U as Go,V as Ys,aL as gu,s as ir,i as vu,o as Y,a3 as Cn,L as Zo,M as jo,N as Aa,O as nr,C as Xo,av as Ko,aM as Jr,aN as $r,aO as Ia,y as xi,aP as Pa,ay as _u,ar as mu,T as Qs,aQ as Yo,aR as ms,Y as Ms,aS as Js,aT as Qo,g as Jo,aU as $o,ax as tl,aV as el,b as yu,aW as il,K as nl,aX as rl,e as sl,W as al,aY as ul,aZ as xu,v as wu,a_ as ol,a$ as ll,b0 as hl,b1 as cl,b2 as fl,l as ui,X as $s,b3 as dl,D as fe,aj as Ge,ak as Bt,t as pe,b4 as pl,E as Dt,B as ii,aF as oi,F as ni,I as xt,G as kt,ah as rn,z as Le,b5 as Qi,am as de,al as wi,aH as Ei,k as gl,b6 as sn,p as di,b7 as ta,b8 as vl,a1 as ys,b9 as Jn,ba as _l,an as ml,bb as yl,bc as Ea}from"../chunks/B5SNLfQh.js";import{i as Si}from"../chunks/Bh3ogdeY.js";import{p as Kt,i as Oe,r as _n,b as xl,s as wl}from"../chunks/BKhfVod7.js";import{i as bl,l as ea,b as Cl,c as Sl,w as mn,a as Be,e as Ns,d as kl,o as Al}from"../chunks/BAVO6VgZ.js";import{h as Li}from"../chunks/BBKBrMmp.js";import{s as fr,a as Mi,b as yn}from"../chunks/CDgqXtYR.js";function Il(r,a,o){Ne&&Br();var d=r,_=Go,p,N,z=null,q=du()?Uo:Wo;function D(){p&&Ys(p),z!==null&&(z.lastChild.remove(),d.before(z),z=null),p=N}Ks(()=>{if(q(_,_=a())){var j=d,G=pu();G&&(z=document.createDocumentFragment(),z.append(j=Qr())),N=ar(()=>o(j)),G?vn.add_callback(D):D()}}),Ne&&(d=Xi)}function Ze(r,a){return a}function Pl(r,a,o){for(var d=r.items,_=[],p=a.length,N=0;N<p;N++)$o(a[N].e,_,!0);var z=p>0&&_.length===0&&o!==null;if(z){var q=o.parentNode;tl(q),q.append(o),d.clear(),Vi(r,a[0].prev,a[p-1].next)}el(_,()=>{for(var D=0;D<p;D++){var j=a[D];z||(d.delete(j.k),Vi(r,j.prev,j.next)),Js(j.e,!z)}})}function je(r,a,o,d,_,p=null){var N=r,z={flags:a,items:new Map,first:null},q=(a&gu)!==0;if(q){var D=r;N=Ne?ir(vu(D)):D.appendChild(Qr())}Ne&&Br();var j=null,G=!1,$=new Map,V=Cn(()=>{var ot=o();return mu(ot)?ot:ot==null?[]:_u(ot)}),st,nt;function ut(){El(nt,st,z,$,N,_,a,d,o),p!==null&&(st.length===0?j?Qs(j):j=ar(()=>p(N)):j!==null&&Ys(j,()=>{j=null}))}Ks(()=>{nt??(nt=yu),st=Y(V);var ot=st.length;if(G&&ot===0)return;G=ot===0;let vt=!1;if(Ne){var ht=Zo(N)===jo;ht!==(ot===0)&&(N=Aa(),ir(N),nr(!1),vt=!0)}if(Ne){for(var _t=null,pt,k=0;k<ot;k++){if(Xi.nodeType===Xo&&Xi.data===Ko){N=Xi,vt=!0,nr(!1);break}var wt=st[k],Nt=d(wt,k);pt=Ls(Xi,z,_t,null,wt,Nt,k,_,a,o),z.items.set(Nt,pt),_t=pt}ot>0&&ir(Aa())}if(Ne)ot===0&&p&&(j=ar(()=>p(N)));else if(pu()){var qt=new Set,Lt=vn;for(k=0;k<ot;k+=1){wt=st[k],Nt=d(wt,k);var yt=z.items.get(Nt)??$.get(Nt);yt?a&(Jr|$r)&&bu(yt,wt,k,a):(pt=Ls(null,z,null,null,wt,Nt,k,_,a,o,!0),$.set(Nt,pt)),qt.add(Nt)}for(const[It,Ht]of z.items)qt.has(It)||Lt.skipped_effects.add(Ht.e);Lt.add_callback(ut)}else ut();vt&&nr(!0),Y(V)}),Ne&&(N=Xi)}function El(r,a,o,d,_,p,N,z,q){var Pt,Vt,Ft,ge;var D=(N&Qo)!==0,j=(N&(Jr|$r))!==0,G=a.length,$=o.items,V=o.first,st=V,nt,ut=null,ot,vt=[],ht=[],_t,pt,k,wt;if(D)for(wt=0;wt<G;wt+=1)_t=a[wt],pt=z(_t,wt),k=$.get(pt),k!==void 0&&((Pt=k.a)==null||Pt.measure(),(ot??(ot=new Set)).add(k));for(wt=0;wt<G;wt+=1){if(_t=a[wt],pt=z(_t,wt),k=$.get(pt),k===void 0){var Nt=d.get(pt);if(Nt!==void 0){d.delete(pt),$.set(pt,Nt);var qt=ut?ut.next:st;Vi(o,ut,Nt),Vi(o,Nt,qt),xs(Nt,qt,_),ut=Nt}else{var Lt=st?st.e.nodes_start:_;ut=Ls(Lt,o,ut,ut===null?o.first:ut.next,_t,pt,wt,p,N,q)}$.set(pt,ut),vt=[],ht=[],st=ut.next;continue}if(j&&bu(k,_t,wt,N),k.e.f&ms&&(Qs(k.e),D&&((Vt=k.a)==null||Vt.unfix(),(ot??(ot=new Set)).delete(k))),k!==st){if(nt!==void 0&&nt.has(k)){if(vt.length<ht.length){var yt=ht[0],It;ut=yt.prev;var Ht=vt[0],At=vt[vt.length-1];for(It=0;It<vt.length;It+=1)xs(vt[It],yt,_);for(It=0;It<ht.length;It+=1)nt.delete(ht[It]);Vi(o,Ht.prev,At.next),Vi(o,ut,Ht),Vi(o,At,yt),st=yt,ut=At,wt-=1,vt=[],ht=[]}else nt.delete(k),xs(k,st,_),Vi(o,k.prev,k.next),Vi(o,k,ut===null?o.first:ut.next),Vi(o,ut,k),ut=k;continue}for(vt=[],ht=[];st!==null&&st.k!==pt;)st.e.f&ms||(nt??(nt=new Set)).add(st),ht.push(st),st=st.next;if(st===null)continue;k=st}vt.push(k),ut=k,st=k.next}if(st!==null||nt!==void 0){for(var oe=nt===void 0?[]:_u(nt);st!==null;)st.e.f&ms||oe.push(st),st=st.next;var ft=oe.length;if(ft>0){var se=N&gu&&G===0?_:null;if(D){for(wt=0;wt<ft;wt+=1)(Ft=oe[wt].a)==null||Ft.measure();for(wt=0;wt<ft;wt+=1)(ge=oe[wt].a)==null||ge.fix()}Pl(o,oe,se)}}D&&Ms(()=>{var Ut;if(ot!==void 0)for(k of ot)(Ut=k.a)==null||Ut.apply()}),r.first=o.first&&o.first.e,r.last=ut&&ut.e;for(var xe of d.values())Js(xe.e);d.clear()}function bu(r,a,o,d){d&Jr&&Ia(r.v,a),d&$r?Ia(r.i,o):r.i=o}function Ls(r,a,o,d,_,p,N,z,q,D,j){var G=(q&Jr)!==0,$=(q&Yo)===0,V=G?$?xi(_,!1,!1):Pa(_):_,st=q&$r?Pa(N):N,nt={i:st,v:V,k:p,a:null,e:null,prev:o,next:d};try{if(r===null){var ut=document.createDocumentFragment();ut.append(r=Qr())}return nt.e=ar(()=>z(r,V,st,D),Ne),nt.e.prev=o&&o.e,nt.e.next=d&&d.e,o===null?j||(a.first=nt):(o.next=nt,o.e.next=nt.e),d!==null&&(d.prev=nt,d.e.prev=nt.e),nt}finally{}}function xs(r,a,o){for(var d=r.next?r.next.e.nodes_start:o,_=a?a.e.nodes_start:o,p=r.e.nodes_start;p!==null&&p!==d;){var N=Jo(p);_.before(p),p=N}}function Vi(r,a,o){a===null?r.first=o:(a.next=o,a.e.next=o&&o.e),o!==null&&(o.prev=a,o.e.prev=a&&a.e)}function Tl(r,a,o,d,_,p){let N=Ne;Ne&&Br();var z,q,D=null;Ne&&Xi.nodeType===il&&(D=Xi,Br());var j=Ne?Xi:r,G;Ks(()=>{const $=a()||null;var V=$==="svg"?rl:null;$!==z&&(G&&($===null?Ys(G,()=>{G=null,q=null}):$===q?Qs(G):Js(G)),$&&$!==q&&(G=ar(()=>{if(D=Ne?D:V?document.createElementNS(V,$):document.createElement($),sl(D,D),d){Ne&&bl($)&&D.append(document.createComment(""));var st=Ne?vu(D):D.appendChild(Qr());Ne&&(st===null?nr(!1):ir(st)),d(D,st)}yu.nodes_end=D,j.before(D)})),z=$,z&&(q=z))},nl),N&&(nr(!0),ir(j))}function Cu(r){var a,o,d="";if(typeof r=="string"||typeof r=="number")d+=r;else if(typeof r=="object")if(Array.isArray(r)){var _=r.length;for(a=0;a<_;a++)r[a]&&(o=Cu(r[a]))&&(d&&(d+=" "),d+=o)}else for(o in r)r[o]&&(d&&(d+=" "),d+=o);return d}function Ml(){for(var r,a,o=0,d="",_=arguments.length;o<_;o++)(r=arguments[o])&&(a=Cu(r))&&(d&&(d+=" "),d+=a);return d}function dr(r){return typeof r=="object"?Ml(r):r??""}const Ta=[...` 	
\r\fÂ \v\uFEFF`];function Nl(r,a,o){var d=r==null?"":""+r;if(a&&(d=d?d+" "+a:a),o){for(var _ in o)if(o[_])d=d?d+" "+_:_;else if(d.length)for(var p=_.length,N=0;(N=d.indexOf(_,N))>=0;){var z=N+p;(N===0||Ta.includes(d[N-1]))&&(z===d.length||Ta.includes(d[z]))?d=(N===0?"":d.substring(0,N))+d.substring(z+1):N=z}}return d===""?null:d}function Ll(r,a){return r==null?null:String(r)}function Je(r,a,o,d,_,p){var N=r.__className;if(Ne||N!==o||N===void 0){var z=Nl(o,d,p);(!Ne||z!==r.getAttribute("class"))&&(z==null?r.removeAttribute("class"):a?r.className=z:r.setAttribute("class",z)),r.__className=o}else if(p&&_!==p)for(var q in p){var D=!!p[q];(_==null||D!==!!_[q])&&r.classList.toggle(q,D)}return p}function Su(r,a,o,d){var _=r.__style;if(Ne||_!==a){var p=Ll(a);(!Ne||p!==r.getAttribute("style"))&&(p==null?r.removeAttribute("style"):r.style.cssText=p),r.__style=a}return d}function ku(r,a,o=!1){if(r.multiple){if(a==null)return;if(!mu(a))return ul();for(var d of r.options)d.selected=a.includes(rr(d));return}for(d of r.options){var _=rr(d);if(xu(_,a)){d.selected=!0;return}}(!o||a!==void 0)&&(r.selectedIndex=-1)}function Ol(r){var a=new MutationObserver(()=>{ku(r,r.__value)});a.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),wu(()=>{a.disconnect()})}function Rl(r,a,o=a){var d=!0;ea(r,"change",_=>{var p=_?"[selected]":":checked",N;if(r.multiple)N=[].map.call(r.querySelectorAll(p),rr);else{var z=r.querySelector(p)??r.querySelector("option:not([disabled])");N=z&&rr(z)}o(N)}),al(()=>{var _=a();if(ku(r,_,d),d&&_===void 0){var p=r.querySelector(":checked");p!==null&&(_=rr(p),o(_))}r.__value=_,d=!1}),Ol(r)}function rr(r){return"__value"in r?r.__value:r.value}const zl=Symbol("is custom element"),Vl=Symbol("is html");function ia(r){if(Ne){var a=!1,o=()=>{if(!a){if(a=!0,r.hasAttribute("value")){var d=r.value;Wt(r,"value",null),r.value=d}if(r.hasAttribute("checked")){var _=r.checked;Wt(r,"checked",null),r.checked=_}}};r.__on_r=o,fl(o),Cl()}}function Wt(r,a,o,d){var _=Dl(r);Ne&&(_[a]=r.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&r.nodeName==="LINK")||_[a]!==(_[a]=o)&&(a==="loading"&&(r[cl]=o),o==null?r.removeAttribute(a):typeof o!="string"&&Bl(r).includes(a)?r[a]=o:r.setAttribute(a,o))}function Dl(r){return r.__attributes??(r.__attributes={[zl]:r.nodeName.includes("-"),[Vl]:r.namespaceURI===ol})}var Ma=new Map;function Bl(r){var a=Ma.get(r.nodeName);if(a)return a;Ma.set(r.nodeName,a=[]);for(var o,d=r,_=Element.prototype;_!==d;){o=hl(d);for(var p in o)o[p].set&&a.push(p);d=ll(d)}return a}const Fl=()=>performance.now(),Di={tick:r=>requestAnimationFrame(r),now:()=>Fl(),tasks:new Set};function Au(){const r=Di.now();Di.tasks.forEach(a=>{a.c(r)||(Di.tasks.delete(a),a.f())}),Di.tasks.size!==0&&Di.tick(Au)}function ql(r){let a;return Di.tasks.size===0&&Di.tick(Au),{promise:new Promise(o=>{Di.tasks.add(a={c:r,f:o})}),abort(){Di.tasks.delete(a)}}}function Iu(r,a,o=a){var d=du(),_=new WeakSet;ea(r,"input",p=>{var N=p?r.defaultValue:r.value;if(N=bs(r)?Cs(N):N,o(N),vn!==null&&_.add(vn),d&&N!==(N=a())){var z=r.selectionStart,q=r.selectionEnd;r.value=N??"",q!==null&&(r.selectionStart=z,r.selectionEnd=Math.min(q,r.value.length))}}),(Ne&&r.defaultValue!==r.value||ui(a)==null&&r.value)&&(o(bs(r)?Cs(r.value):r.value),vn!==null&&_.add(vn)),$s(()=>{var p=a();if(r===document.activeElement){var N=dl??vn;if(_.has(N))return}bs(r)&&p===Cs(r.value)||r.type==="date"&&!p&&!r.value||p!==r.value&&(r.value=p??"")})}const ws=new Set;function Hl(r,a,o,d,_=d){var p=o.getAttribute("type")==="checkbox",N=r;let z=!1;if(a!==null)for(var q of a)N=N[q]??(N[q]=[]);N.push(o),ea(o,"change",()=>{var D=o.__value;p&&(D=Na(N,D,o.checked)),_(D)},()=>_(p?[]:null)),$s(()=>{var D=d();if(Ne&&o.defaultChecked!==o.checked){z=!0;return}p?(D=D||[],o.checked=D.includes(o.__value)):o.checked=xu(o.__value,D)}),wu(()=>{var D=N.indexOf(o);D!==-1&&N.splice(D,1)}),ws.has(N)||(ws.add(N),Ms(()=>{N.sort((D,j)=>D.compareDocumentPosition(j)===4?-1:1),ws.delete(N)})),Ms(()=>{if(z){var D;if(p)D=Na(N,D,o.checked);else{var j=N.find(G=>G.checked);D=j==null?void 0:j.__value}_(D)}})}function Na(r,a,o){for(var d=new Set,_=0;_<r.length;_+=1)r[_].checked&&d.add(r[_].__value);return o||d.delete(a),Array.from(d)}function bs(r){var a=r.type;return a==="number"||a==="range"}function Cs(r){return r===""?null:+r}var Ul=fe('<link rel="preload" as="font" type="font/woff2" crossorigin=""/>'),Wl=fe('<meta name="description"/> <meta name="author" content="The Pudding"/> <meta name="news_keywords"/> <meta property="og:title"/> <meta property="og:site_name" content="The Pudding"/> <meta property="og:url"/> <meta property="og:description"/> <meta property="og:type" content="article"/> <meta property="og:locale" content="en_US"/> <meta property="og:image"/> <meta property="og:image:type" content="image/jpeg"/> <meta property="og:image:width" content="1200"/> <meta property="og:image:height" content="628"/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="https://pudding.cool"/> <meta name="twitter:creator" content="@puddingviz"/> <meta name="twitter:title"/> <meta name="twitter:description"/> <meta name="twitter:image:src"/> <meta name="robots" content="max-image-preview:large"/> <link rel="canonical"/> <!>',1);function Gl(r,a){let o=Kt(a,"title",8,"Title TK"),d=Kt(a,"description",8,"Description TK"),_=Kt(a,"url",8,"https://pudding.cool"),p=Kt(a,"keywords",8,""),N=Kt(a,"preloadFont",24,()=>[]);Sl(z=>{var q=Wl(),D=Ge(q),j=Bt(D,4),G=Bt(j,2),$=Bt(G,4),V=Bt($,2),st=Bt(V,6),nt=Bt(st,14),ut=Bt(nt,2),ot=Bt(ut,2),vt=Bt(ot,4),ht=Bt(vt,2);je(ht,1,N,Ze,(_t,pt)=>{var k=Ul();pe(()=>Wt(k,"href",Y(pt))),Dt(_t,k)}),pe(()=>{pl.title=o(),Wt(D,"content",d()),Wt(j,"content",p()),Wt(G,"content",o()),Wt($,"content",_()),Wt(V,"content",d()),Wt(st,"content",`${_()??""}/assets/social-facebook.jpg`),Wt(nt,"content",o()),Wt(ut,"content",d()),Wt(ot,"content",`${_()??""}/assets/social-twitter.jpg`),Wt(vt,"href",`${_()??""}/`)}),Dt(z,q)})}function On(r,a){return r==null||a==null?NaN:r<a?-1:r>a?1:r>=a?0:NaN}function Zl(r,a){return r==null||a==null?NaN:a<r?-1:a>r?1:a>=r?0:NaN}function Pu(r){let a,o,d;r.length!==2?(a=On,o=(z,q)=>On(r(z),q),d=(z,q)=>r(z)-q):(a=r===On||r===Zl?r:jl,o=r,d=r);function _(z,q,D=0,j=z.length){if(D<j){if(a(q,q)!==0)return j;do{const G=D+j>>>1;o(z[G],q)<0?D=G+1:j=G}while(D<j)}return D}function p(z,q,D=0,j=z.length){if(D<j){if(a(q,q)!==0)return j;do{const G=D+j>>>1;o(z[G],q)<=0?D=G+1:j=G}while(D<j)}return D}function N(z,q,D=0,j=z.length){const G=_(z,q,D,j-1);return G>D&&d(z[G-1],q)>-d(z[G],q)?G-1:G}return{left:_,center:N,right:p}}function jl(){return 0}function Xl(r){return r===null?NaN:+r}function*Kl(r,a){for(let o of r)o!=null&&(o=+o)>=o&&(yield o)}const Yl=Pu(On),Ql=Yl.right;Pu(Xl).center;function Jl(r,a){let o=0,d,_=0,p=0;for(let N of r)N!=null&&(N=+N)>=N&&(d=N-_,_+=d/++o,p+=d*(N-_));if(o>1)return p/(o-1)}function $l(r,a){const o=Jl(r);return o&&Math.sqrt(o)}function th(r=On){if(r===On)return Eu;if(typeof r!="function")throw new TypeError("compare is not a function");return(a,o)=>{const d=r(a,o);return d||d===0?d:(r(o,o)===0)-(r(a,a)===0)}}function Eu(r,a){return(r==null||!(r>=r))-(a==null||!(a>=a))||(r<a?-1:r>a?1:0)}const eh=Math.sqrt(50),ih=Math.sqrt(10),nh=Math.sqrt(2);function Fr(r,a,o){const d=(a-r)/Math.max(0,o),_=Math.floor(Math.log10(d)),p=d/Math.pow(10,_),N=p>=eh?10:p>=ih?5:p>=nh?2:1;let z,q,D;return _<0?(D=Math.pow(10,-_)/N,z=Math.round(r*D),q=Math.round(a*D),z/D<r&&++z,q/D>a&&--q,D=-D):(D=Math.pow(10,_)*N,z=Math.round(r/D),q=Math.round(a/D),z*D<r&&++z,q*D>a&&--q),q<z&&.5<=o&&o<2?Fr(r,a,o*2):[z,q,D]}function rh(r,a,o){if(a=+a,r=+r,o=+o,!(o>0))return[];if(r===a)return[r];const d=a<r,[_,p,N]=d?Fr(a,r,o):Fr(r,a,o);if(!(p>=_))return[];const z=p-_+1,q=new Array(z);if(d)if(N<0)for(let D=0;D<z;++D)q[D]=(p-D)/-N;else for(let D=0;D<z;++D)q[D]=(p-D)*N;else if(N<0)for(let D=0;D<z;++D)q[D]=(_+D)/-N;else for(let D=0;D<z;++D)q[D]=(_+D)*N;return q}function Os(r,a,o){return a=+a,r=+r,o=+o,Fr(r,a,o)[2]}function sh(r,a,o){a=+a,r=+r,o=+o;const d=a<r,_=d?Os(a,r,o):Os(r,a,o);return(d?-1:1)*(_<0?1/-_:_)}function La(r,a){let o;for(const d of r)d!=null&&(o<d||o===void 0&&d>=d)&&(o=d);return o}function Oa(r,a){let o;for(const d of r)d!=null&&(o>d||o===void 0&&d>=d)&&(o=d);return o}function Tu(r,a,o=0,d=1/0,_){if(a=Math.floor(a),o=Math.floor(Math.max(0,o)),d=Math.floor(Math.min(r.length-1,d)),!(o<=a&&a<=d))return r;for(_=_===void 0?Eu:th(_);d>o;){if(d-o>600){const q=d-o+1,D=a-o+1,j=Math.log(q),G=.5*Math.exp(2*j/3),$=.5*Math.sqrt(j*G*(q-G)/q)*(D-q/2<0?-1:1),V=Math.max(o,Math.floor(a-D*G/q+$)),st=Math.min(d,Math.floor(a+(q-D)*G/q+$));Tu(r,a,V,st,_)}const p=r[a];let N=o,z=d;for(Yn(r,o,a),_(r[d],p)>0&&Yn(r,o,d);N<z;){for(Yn(r,N,z),++N,--z;_(r[N],p)<0;)++N;for(;_(r[z],p)>0;)--z}_(r[o],p)===0?Yn(r,o,z):(++z,Yn(r,z,d)),z<=a&&(o=z+1),a<=z&&(d=z-1)}return r}function Yn(r,a,o){const d=r[a];r[a]=r[o],r[o]=d}function Ss(r,a,o){if(r=Float64Array.from(Kl(r)),!(!(d=r.length)||isNaN(a=+a))){if(a<=0||d<2)return Oa(r);if(a>=1)return La(r);var d,_=(d-1)*a,p=Math.floor(_),N=La(Tu(r,p).subarray(0,p+1)),z=Oa(r.subarray(p+1));return N+(z-N)*(_-p)}}function ah(r,a){let o=0,d=0;for(let _ of r)_!=null&&(_=+_)>=_&&(++o,d+=_);if(o)return d/o}function uh(r,a,o){r=+r,a=+a,o=(_=arguments.length)<2?(a=r,r=0,1):_<3?1:+o;for(var d=-1,_=Math.max(0,Math.ceil((a-r)/o))|0,p=new Array(_);++d<_;)p[d]=r+d*o;return p}const oh=lh(Math.random);function lh(r){return function(o,d=0,_=o.length){let p=_-(d=+d);for(;p;){const N=r()*p--|0,z=o[p+d];o[p+d]=o[N+d],o[N+d]=z}return o}}var hh={value:()=>{}};function Mu(){for(var r=0,a=arguments.length,o={},d;r<a;++r){if(!(d=arguments[r]+"")||d in o||/[\s.]/.test(d))throw new Error("illegal type: "+d);o[d]=[]}return new Rr(o)}function Rr(r){this._=r}function ch(r,a){return r.trim().split(/^|\s+/).map(function(o){var d="",_=o.indexOf(".");if(_>=0&&(d=o.slice(_+1),o=o.slice(0,_)),o&&!a.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:d}})}Rr.prototype=Mu.prototype={constructor:Rr,on:function(r,a){var o=this._,d=ch(r+"",o),_,p=-1,N=d.length;if(arguments.length<2){for(;++p<N;)if((_=(r=d[p]).type)&&(_=fh(o[_],r.name)))return _;return}if(a!=null&&typeof a!="function")throw new Error("invalid callback: "+a);for(;++p<N;)if(_=(r=d[p]).type)o[_]=Ra(o[_],r.name,a);else if(a==null)for(_ in o)o[_]=Ra(o[_],r.name,null);return this},copy:function(){var r={},a=this._;for(var o in a)r[o]=a[o].slice();return new Rr(r)},call:function(r,a){if((_=arguments.length-2)>0)for(var o=new Array(_),d=0,_,p;d<_;++d)o[d]=arguments[d+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(p=this._[r],d=0,_=p.length;d<_;++d)p[d].value.apply(a,o)},apply:function(r,a,o){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var d=this._[r],_=0,p=d.length;_<p;++_)d[_].value.apply(a,o)}};function fh(r,a){for(var o=0,d=r.length,_;o<d;++o)if((_=r[o]).name===a)return _.value}function Ra(r,a,o){for(var d=0,_=r.length;d<_;++d)if(r[d].name===a){r[d]=hh,r=r.slice(0,d).concat(r.slice(d+1));break}return o!=null&&r.push({name:a,value:o}),r}var Rs="http://www.w3.org/1999/xhtml";const za={svg:"http://www.w3.org/2000/svg",xhtml:Rs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ts(r){var a=r+="",o=a.indexOf(":");return o>=0&&(a=r.slice(0,o))!=="xmlns"&&(r=r.slice(o+1)),za.hasOwnProperty(a)?{space:za[a],local:r}:r}function dh(r){return function(){var a=this.ownerDocument,o=this.namespaceURI;return o===Rs&&a.documentElement.namespaceURI===Rs?a.createElement(r):a.createElementNS(o,r)}}function ph(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function Nu(r){var a=ts(r);return(a.local?ph:dh)(a)}function gh(){}function na(r){return r==null?gh:function(){return this.querySelector(r)}}function vh(r){typeof r!="function"&&(r=na(r));for(var a=this._groups,o=a.length,d=new Array(o),_=0;_<o;++_)for(var p=a[_],N=p.length,z=d[_]=new Array(N),q,D,j=0;j<N;++j)(q=p[j])&&(D=r.call(q,q.__data__,j,p))&&("__data__"in q&&(D.__data__=q.__data__),z[j]=D);return new Oi(d,this._parents)}function _h(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function mh(){return[]}function Lu(r){return r==null?mh:function(){return this.querySelectorAll(r)}}function yh(r){return function(){return _h(r.apply(this,arguments))}}function xh(r){typeof r=="function"?r=yh(r):r=Lu(r);for(var a=this._groups,o=a.length,d=[],_=[],p=0;p<o;++p)for(var N=a[p],z=N.length,q,D=0;D<z;++D)(q=N[D])&&(d.push(r.call(q,q.__data__,D,N)),_.push(q));return new Oi(d,_)}function Ou(r){return function(){return this.matches(r)}}function Ru(r){return function(a){return a.matches(r)}}var wh=Array.prototype.find;function bh(r){return function(){return wh.call(this.children,r)}}function Ch(){return this.firstElementChild}function Sh(r){return this.select(r==null?Ch:bh(typeof r=="function"?r:Ru(r)))}var kh=Array.prototype.filter;function Ah(){return Array.from(this.children)}function Ih(r){return function(){return kh.call(this.children,r)}}function Ph(r){return this.selectAll(r==null?Ah:Ih(typeof r=="function"?r:Ru(r)))}function Eh(r){typeof r!="function"&&(r=Ou(r));for(var a=this._groups,o=a.length,d=new Array(o),_=0;_<o;++_)for(var p=a[_],N=p.length,z=d[_]=[],q,D=0;D<N;++D)(q=p[D])&&r.call(q,q.__data__,D,p)&&z.push(q);return new Oi(d,this._parents)}function zu(r){return new Array(r.length)}function Th(){return new Oi(this._enter||this._groups.map(zu),this._parents)}function qr(r,a){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=a}qr.prototype={constructor:qr,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,a){return this._parent.insertBefore(r,a)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function Mh(r){return function(){return r}}function Nh(r,a,o,d,_,p){for(var N=0,z,q=a.length,D=p.length;N<D;++N)(z=a[N])?(z.__data__=p[N],d[N]=z):o[N]=new qr(r,p[N]);for(;N<q;++N)(z=a[N])&&(_[N]=z)}function Lh(r,a,o,d,_,p,N){var z,q,D=new Map,j=a.length,G=p.length,$=new Array(j),V;for(z=0;z<j;++z)(q=a[z])&&($[z]=V=N.call(q,q.__data__,z,a)+"",D.has(V)?_[z]=q:D.set(V,q));for(z=0;z<G;++z)V=N.call(r,p[z],z,p)+"",(q=D.get(V))?(d[z]=q,q.__data__=p[z],D.delete(V)):o[z]=new qr(r,p[z]);for(z=0;z<j;++z)(q=a[z])&&D.get($[z])===q&&(_[z]=q)}function Oh(r){return r.__data__}function Rh(r,a){if(!arguments.length)return Array.from(this,Oh);var o=a?Lh:Nh,d=this._parents,_=this._groups;typeof r!="function"&&(r=Mh(r));for(var p=_.length,N=new Array(p),z=new Array(p),q=new Array(p),D=0;D<p;++D){var j=d[D],G=_[D],$=G.length,V=zh(r.call(j,j&&j.__data__,D,d)),st=V.length,nt=z[D]=new Array(st),ut=N[D]=new Array(st),ot=q[D]=new Array($);o(j,G,nt,ut,ot,V,a);for(var vt=0,ht=0,_t,pt;vt<st;++vt)if(_t=nt[vt]){for(vt>=ht&&(ht=vt+1);!(pt=ut[ht])&&++ht<st;);_t._next=pt||null}}return N=new Oi(N,d),N._enter=z,N._exit=q,N}function zh(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function Vh(){return new Oi(this._exit||this._groups.map(zu),this._parents)}function Dh(r,a,o){var d=this.enter(),_=this,p=this.exit();return typeof r=="function"?(d=r(d),d&&(d=d.selection())):d=d.append(r+""),a!=null&&(_=a(_),_&&(_=_.selection())),o==null?p.remove():o(p),d&&_?d.merge(_).order():_}function Bh(r){for(var a=r.selection?r.selection():r,o=this._groups,d=a._groups,_=o.length,p=d.length,N=Math.min(_,p),z=new Array(_),q=0;q<N;++q)for(var D=o[q],j=d[q],G=D.length,$=z[q]=new Array(G),V,st=0;st<G;++st)(V=D[st]||j[st])&&($[st]=V);for(;q<_;++q)z[q]=o[q];return new Oi(z,this._parents)}function Fh(){for(var r=this._groups,a=-1,o=r.length;++a<o;)for(var d=r[a],_=d.length-1,p=d[_],N;--_>=0;)(N=d[_])&&(p&&N.compareDocumentPosition(p)^4&&p.parentNode.insertBefore(N,p),p=N);return this}function qh(r){r||(r=Hh);function a(G,$){return G&&$?r(G.__data__,$.__data__):!G-!$}for(var o=this._groups,d=o.length,_=new Array(d),p=0;p<d;++p){for(var N=o[p],z=N.length,q=_[p]=new Array(z),D,j=0;j<z;++j)(D=N[j])&&(q[j]=D);q.sort(a)}return new Oi(_,this._parents).order()}function Hh(r,a){return r<a?-1:r>a?1:r>=a?0:NaN}function Uh(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function Wh(){return Array.from(this)}function Gh(){for(var r=this._groups,a=0,o=r.length;a<o;++a)for(var d=r[a],_=0,p=d.length;_<p;++_){var N=d[_];if(N)return N}return null}function Zh(){let r=0;for(const a of this)++r;return r}function jh(){return!this.node()}function Xh(r){for(var a=this._groups,o=0,d=a.length;o<d;++o)for(var _=a[o],p=0,N=_.length,z;p<N;++p)(z=_[p])&&r.call(z,z.__data__,p,_);return this}function Kh(r){return function(){this.removeAttribute(r)}}function Yh(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Qh(r,a){return function(){this.setAttribute(r,a)}}function Jh(r,a){return function(){this.setAttributeNS(r.space,r.local,a)}}function $h(r,a){return function(){var o=a.apply(this,arguments);o==null?this.removeAttribute(r):this.setAttribute(r,o)}}function tc(r,a){return function(){var o=a.apply(this,arguments);o==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,o)}}function ec(r,a){var o=ts(r);if(arguments.length<2){var d=this.node();return o.local?d.getAttributeNS(o.space,o.local):d.getAttribute(o)}return this.each((a==null?o.local?Yh:Kh:typeof a=="function"?o.local?tc:$h:o.local?Jh:Qh)(o,a))}function Vu(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function ic(r){return function(){this.style.removeProperty(r)}}function nc(r,a,o){return function(){this.style.setProperty(r,a,o)}}function rc(r,a,o){return function(){var d=a.apply(this,arguments);d==null?this.style.removeProperty(r):this.style.setProperty(r,d,o)}}function sc(r,a,o){return arguments.length>1?this.each((a==null?ic:typeof a=="function"?rc:nc)(r,a,o??"")):Dn(this.node(),r)}function Dn(r,a){return r.style.getPropertyValue(a)||Vu(r).getComputedStyle(r,null).getPropertyValue(a)}function ac(r){return function(){delete this[r]}}function uc(r,a){return function(){this[r]=a}}function oc(r,a){return function(){var o=a.apply(this,arguments);o==null?delete this[r]:this[r]=o}}function lc(r,a){return arguments.length>1?this.each((a==null?ac:typeof a=="function"?oc:uc)(r,a)):this.node()[r]}function Du(r){return r.trim().split(/^|\s+/)}function ra(r){return r.classList||new Bu(r)}function Bu(r){this._node=r,this._names=Du(r.getAttribute("class")||"")}Bu.prototype={add:function(r){var a=this._names.indexOf(r);a<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var a=this._names.indexOf(r);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function Fu(r,a){for(var o=ra(r),d=-1,_=a.length;++d<_;)o.add(a[d])}function qu(r,a){for(var o=ra(r),d=-1,_=a.length;++d<_;)o.remove(a[d])}function hc(r){return function(){Fu(this,r)}}function cc(r){return function(){qu(this,r)}}function fc(r,a){return function(){(a.apply(this,arguments)?Fu:qu)(this,r)}}function dc(r,a){var o=Du(r+"");if(arguments.length<2){for(var d=ra(this.node()),_=-1,p=o.length;++_<p;)if(!d.contains(o[_]))return!1;return!0}return this.each((typeof a=="function"?fc:a?hc:cc)(o,a))}function pc(){this.textContent=""}function gc(r){return function(){this.textContent=r}}function vc(r){return function(){var a=r.apply(this,arguments);this.textContent=a??""}}function _c(r){return arguments.length?this.each(r==null?pc:(typeof r=="function"?vc:gc)(r)):this.node().textContent}function mc(){this.innerHTML=""}function yc(r){return function(){this.innerHTML=r}}function xc(r){return function(){var a=r.apply(this,arguments);this.innerHTML=a??""}}function wc(r){return arguments.length?this.each(r==null?mc:(typeof r=="function"?xc:yc)(r)):this.node().innerHTML}function bc(){this.nextSibling&&this.parentNode.appendChild(this)}function Cc(){return this.each(bc)}function Sc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kc(){return this.each(Sc)}function Ac(r){var a=typeof r=="function"?r:Nu(r);return this.select(function(){return this.appendChild(a.apply(this,arguments))})}function Ic(){return null}function Pc(r,a){var o=typeof r=="function"?r:Nu(r),d=a==null?Ic:typeof a=="function"?a:na(a);return this.select(function(){return this.insertBefore(o.apply(this,arguments),d.apply(this,arguments)||null)})}function Ec(){var r=this.parentNode;r&&r.removeChild(this)}function Tc(){return this.each(Ec)}function Mc(){var r=this.cloneNode(!1),a=this.parentNode;return a?a.insertBefore(r,this.nextSibling):r}function Nc(){var r=this.cloneNode(!0),a=this.parentNode;return a?a.insertBefore(r,this.nextSibling):r}function Lc(r){return this.select(r?Nc:Mc)}function Oc(r){return arguments.length?this.property("__data__",r):this.node().__data__}function Rc(r){return function(a){r.call(this,a,this.__data__)}}function zc(r){return r.trim().split(/^|\s+/).map(function(a){var o="",d=a.indexOf(".");return d>=0&&(o=a.slice(d+1),a=a.slice(0,d)),{type:a,name:o}})}function Vc(r){return function(){var a=this.__on;if(a){for(var o=0,d=-1,_=a.length,p;o<_;++o)p=a[o],(!r.type||p.type===r.type)&&p.name===r.name?this.removeEventListener(p.type,p.listener,p.options):a[++d]=p;++d?a.length=d:delete this.__on}}}function Dc(r,a,o){return function(){var d=this.__on,_,p=Rc(a);if(d){for(var N=0,z=d.length;N<z;++N)if((_=d[N]).type===r.type&&_.name===r.name){this.removeEventListener(_.type,_.listener,_.options),this.addEventListener(_.type,_.listener=p,_.options=o),_.value=a;return}}this.addEventListener(r.type,p,o),_={type:r.type,name:r.name,value:a,listener:p,options:o},d?d.push(_):this.__on=[_]}}function Bc(r,a,o){var d=zc(r+""),_,p=d.length,N;if(arguments.length<2){var z=this.node().__on;if(z){for(var q=0,D=z.length,j;q<D;++q)for(_=0,j=z[q];_<p;++_)if((N=d[_]).type===j.type&&N.name===j.name)return j.value}return}for(z=a?Dc:Vc,_=0;_<p;++_)this.each(z(d[_],a,o));return this}function Hu(r,a,o){var d=Vu(r),_=d.CustomEvent;typeof _=="function"?_=new _(a,o):(_=d.document.createEvent("Event"),o?(_.initEvent(a,o.bubbles,o.cancelable),_.detail=o.detail):_.initEvent(a,!1,!1)),r.dispatchEvent(_)}function Fc(r,a){return function(){return Hu(this,r,a)}}function qc(r,a){return function(){return Hu(this,r,a.apply(this,arguments))}}function Hc(r,a){return this.each((typeof a=="function"?qc:Fc)(r,a))}function*Uc(){for(var r=this._groups,a=0,o=r.length;a<o;++a)for(var d=r[a],_=0,p=d.length,N;_<p;++_)(N=d[_])&&(yield N)}var Wc=[null];function Oi(r,a){this._groups=r,this._parents=a}function pr(){return new Oi([[document.documentElement]],Wc)}function Gc(){return this}Oi.prototype=pr.prototype={constructor:Oi,select:vh,selectAll:xh,selectChild:Sh,selectChildren:Ph,filter:Eh,data:Rh,enter:Th,exit:Vh,join:Dh,merge:Bh,selection:Gc,order:Fh,sort:qh,call:Uh,nodes:Wh,node:Gh,size:Zh,empty:jh,each:Xh,attr:ec,style:sc,property:lc,classed:dc,text:_c,html:wc,raise:Cc,lower:kc,append:Ac,insert:Pc,remove:Tc,clone:Lc,datum:Oc,on:Bc,dispatch:Hc,[Symbol.iterator]:Uc};function gr(r,a,o){r.prototype=a.prototype=o,o.constructor=r}function es(r,a){var o=Object.create(r.prototype);for(var d in a)o[d]=a[d];return o}function In(){}var ur=.7,Hr=1/ur,Rn="\\s*([+-]?\\d+)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zc=/^#([0-9a-f]{3,8})$/,jc=new RegExp(`^rgb\\(${Rn},${Rn},${Rn}\\)$`),Xc=new RegExp(`^rgb\\(${Bi},${Bi},${Bi}\\)$`),Kc=new RegExp(`^rgba\\(${Rn},${Rn},${Rn},${or}\\)$`),Yc=new RegExp(`^rgba\\(${Bi},${Bi},${Bi},${or}\\)$`),Qc=new RegExp(`^hsl\\(${or},${Bi},${Bi}\\)$`),Jc=new RegExp(`^hsla\\(${or},${Bi},${Bi},${or}\\)$`),Va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gr(In,Sn,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Da,formatHex:Da,formatHex8:$c,formatHsl:tf,formatRgb:Ba,toString:Ba});function Da(){return this.rgb().formatHex()}function $c(){return this.rgb().formatHex8()}function tf(){return Wu(this).formatHsl()}function Ba(){return this.rgb().formatRgb()}function Sn(r){var a,o;return r=(r+"").trim().toLowerCase(),(a=Zc.exec(r))?(o=a[1].length,a=parseInt(a[1],16),o===6?Fa(a):o===3?new hi(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):o===8?Ir(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):o===4?Ir(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=jc.exec(r))?new hi(a[1],a[2],a[3],1):(a=Xc.exec(r))?new hi(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=Kc.exec(r))?Ir(a[1],a[2],a[3],a[4]):(a=Yc.exec(r))?Ir(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=Qc.exec(r))?Ua(a[1],a[2]/100,a[3]/100,1):(a=Jc.exec(r))?Ua(a[1],a[2]/100,a[3]/100,a[4]):Va.hasOwnProperty(r)?Fa(Va[r]):r==="transparent"?new hi(NaN,NaN,NaN,0):null}function Fa(r){return new hi(r>>16&255,r>>8&255,r&255,1)}function Ir(r,a,o,d){return d<=0&&(r=a=o=NaN),new hi(r,a,o,d)}function Uu(r){return r instanceof In||(r=Sn(r)),r?(r=r.rgb(),new hi(r.r,r.g,r.b,r.opacity)):new hi}function zs(r,a,o,d){return arguments.length===1?Uu(r):new hi(r,a,o,d??1)}function hi(r,a,o,d){this.r=+r,this.g=+a,this.b=+o,this.opacity=+d}gr(hi,zs,es(In,{brighter(r){return r=r==null?Hr:Math.pow(Hr,r),new hi(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?ur:Math.pow(ur,r),new hi(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new hi(bn(this.r),bn(this.g),bn(this.b),Ur(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qa,formatHex:qa,formatHex8:ef,formatRgb:Ha,toString:Ha}));function qa(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}`}function ef(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}${xn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ha(){const r=Ur(this.opacity);return`${r===1?"rgb(":"rgba("}${bn(this.r)}, ${bn(this.g)}, ${bn(this.b)}${r===1?")":`, ${r})`}`}function Ur(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function bn(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function xn(r){return r=bn(r),(r<16?"0":"")+r.toString(16)}function Ua(r,a,o,d){return d<=0?r=a=o=NaN:o<=0||o>=1?r=a=NaN:a<=0&&(r=NaN),new Ni(r,a,o,d)}function Wu(r){if(r instanceof Ni)return new Ni(r.h,r.s,r.l,r.opacity);if(r instanceof In||(r=Sn(r)),!r)return new Ni;if(r instanceof Ni)return r;r=r.rgb();var a=r.r/255,o=r.g/255,d=r.b/255,_=Math.min(a,o,d),p=Math.max(a,o,d),N=NaN,z=p-_,q=(p+_)/2;return z?(a===p?N=(o-d)/z+(o<d)*6:o===p?N=(d-a)/z+2:N=(a-o)/z+4,z/=q<.5?p+_:2-p-_,N*=60):z=q>0&&q<1?0:N,new Ni(N,z,q,r.opacity)}function nf(r,a,o,d){return arguments.length===1?Wu(r):new Ni(r,a,o,d??1)}function Ni(r,a,o,d){this.h=+r,this.s=+a,this.l=+o,this.opacity=+d}gr(Ni,nf,es(In,{brighter(r){return r=r==null?Hr:Math.pow(Hr,r),new Ni(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?ur:Math.pow(ur,r),new Ni(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,a=isNaN(r)||isNaN(this.s)?0:this.s,o=this.l,d=o+(o<.5?o:1-o)*a,_=2*o-d;return new hi(ks(r>=240?r-240:r+120,_,d),ks(r,_,d),ks(r<120?r+240:r-120,_,d),this.opacity)},clamp(){return new Ni(Wa(this.h),Pr(this.s),Pr(this.l),Ur(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Ur(this.opacity);return`${r===1?"hsl(":"hsla("}${Wa(this.h)}, ${Pr(this.s)*100}%, ${Pr(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Wa(r){return r=(r||0)%360,r<0?r+360:r}function Pr(r){return Math.max(0,Math.min(1,r||0))}function ks(r,a,o){return(r<60?a+(o-a)*r/60:r<180?o:r<240?a+(o-a)*(240-r)/60:a)*255}const rf=Math.PI/180,sf=180/Math.PI,Wr=18,Gu=.96422,Zu=1,ju=.82521,Xu=4/29,zn=6/29,Ku=3*zn*zn,af=zn*zn*zn;function Yu(r){if(r instanceof Fi)return new Fi(r.l,r.a,r.b,r.opacity);if(r instanceof Ki)return Qu(r);r instanceof hi||(r=Uu(r));var a=Es(r.r),o=Es(r.g),d=Es(r.b),_=As((.2225045*a+.7168786*o+.0606169*d)/Zu),p,N;return a===o&&o===d?p=N=_:(p=As((.4360747*a+.3850649*o+.1430804*d)/Gu),N=As((.0139322*a+.0971045*o+.7141733*d)/ju)),new Fi(116*_-16,500*(p-_),200*(_-N),r.opacity)}function uf(r,a,o,d){return arguments.length===1?Yu(r):new Fi(r,a,o,d??1)}function Fi(r,a,o,d){this.l=+r,this.a=+a,this.b=+o,this.opacity=+d}gr(Fi,uf,es(In,{brighter(r){return new Fi(this.l+Wr*(r??1),this.a,this.b,this.opacity)},darker(r){return new Fi(this.l-Wr*(r??1),this.a,this.b,this.opacity)},rgb(){var r=(this.l+16)/116,a=isNaN(this.a)?r:r+this.a/500,o=isNaN(this.b)?r:r-this.b/200;return a=Gu*Is(a),r=Zu*Is(r),o=ju*Is(o),new hi(Ps(3.1338561*a-1.6168667*r-.4906146*o),Ps(-.9787684*a+1.9161415*r+.033454*o),Ps(.0719453*a-.2289914*r+1.4052427*o),this.opacity)}}));function As(r){return r>af?Math.pow(r,1/3):r/Ku+Xu}function Is(r){return r>zn?r*r*r:Ku*(r-Xu)}function Ps(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function Es(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function of(r){if(r instanceof Ki)return new Ki(r.h,r.c,r.l,r.opacity);if(r instanceof Fi||(r=Yu(r)),r.a===0&&r.b===0)return new Ki(NaN,0<r.l&&r.l<100?0:NaN,r.l,r.opacity);var a=Math.atan2(r.b,r.a)*sf;return new Ki(a<0?a+360:a,Math.sqrt(r.a*r.a+r.b*r.b),r.l,r.opacity)}function Vs(r,a,o,d){return arguments.length===1?of(r):new Ki(r,a,o,d??1)}function Ki(r,a,o,d){this.h=+r,this.c=+a,this.l=+o,this.opacity=+d}function Qu(r){if(isNaN(r.h))return new Fi(r.l,0,0,r.opacity);var a=r.h*rf;return new Fi(r.l,Math.cos(a)*r.c,Math.sin(a)*r.c,r.opacity)}gr(Ki,Vs,es(In,{brighter(r){return new Ki(this.h,this.c,this.l+Wr*(r??1),this.opacity)},darker(r){return new Ki(this.h,this.c,this.l-Wr*(r??1),this.opacity)},rgb(){return Qu(this).rgb()}}));const is=r=>()=>r;function Ju(r,a){return function(o){return r+o*a}}function lf(r,a,o){return r=Math.pow(r,o),a=Math.pow(a,o)-r,o=1/o,function(d){return Math.pow(r+d*a,o)}}function hf(r,a){var o=a-r;return o?Ju(r,o>180||o<-180?o-360*Math.round(o/360):o):is(isNaN(r)?a:r)}function cf(r){return(r=+r)==1?sr:function(a,o){return o-a?lf(a,o,r):is(isNaN(a)?o:a)}}function sr(r,a){var o=a-r;return o?Ju(r,o):is(isNaN(r)?a:r)}const Gr=function r(a){var o=cf(a);function d(_,p){var N=o((_=zs(_)).r,(p=zs(p)).r),z=o(_.g,p.g),q=o(_.b,p.b),D=sr(_.opacity,p.opacity);return function(j){return _.r=N(j),_.g=z(j),_.b=q(j),_.opacity=D(j),_+""}}return d.gamma=r,d}(1);function ff(r,a){a||(a=[]);var o=r?Math.min(a.length,r.length):0,d=a.slice(),_;return function(p){for(_=0;_<o;++_)d[_]=r[_]*(1-p)+a[_]*p;return d}}function df(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function pf(r,a){var o=a?a.length:0,d=r?Math.min(o,r.length):0,_=new Array(d),p=new Array(o),N;for(N=0;N<d;++N)_[N]=ns(r[N],a[N]);for(;N<o;++N)p[N]=a[N];return function(z){for(N=0;N<d;++N)p[N]=_[N](z);return p}}function gf(r,a){var o=new Date;return r=+r,a=+a,function(d){return o.setTime(r*(1-d)+a*d),o}}function Ti(r,a){return r=+r,a=+a,function(o){return r*(1-o)+a*o}}function vf(r,a){var o={},d={},_;(r===null||typeof r!="object")&&(r={}),(a===null||typeof a!="object")&&(a={});for(_ in a)_ in r?o[_]=ns(r[_],a[_]):d[_]=a[_];return function(p){for(_ in o)d[_]=o[_](p);return d}}var Ds=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ts=new RegExp(Ds.source,"g");function _f(r){return function(){return r}}function mf(r){return function(a){return r(a)+""}}function $u(r,a){var o=Ds.lastIndex=Ts.lastIndex=0,d,_,p,N=-1,z=[],q=[];for(r=r+"",a=a+"";(d=Ds.exec(r))&&(_=Ts.exec(a));)(p=_.index)>o&&(p=a.slice(o,p),z[N]?z[N]+=p:z[++N]=p),(d=d[0])===(_=_[0])?z[N]?z[N]+=_:z[++N]=_:(z[++N]=null,q.push({i:N,x:Ti(d,_)})),o=Ts.lastIndex;return o<a.length&&(p=a.slice(o),z[N]?z[N]+=p:z[++N]=p),z.length<2?q[0]?mf(q[0].x):_f(a):(a=q.length,function(D){for(var j=0,G;j<a;++j)z[(G=q[j]).i]=G.x(D);return z.join("")})}function ns(r,a){var o=typeof a,d;return a==null||o==="boolean"?is(a):(o==="number"?Ti:o==="string"?(d=Sn(a))?(a=d,Gr):$u:a instanceof Sn?Gr:a instanceof Date?gf:df(a)?ff:Array.isArray(a)?pf:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?vf:Ti)(r,a)}function to(r,a){return r=+r,a=+a,function(o){return Math.round(r*(1-o)+a*o)}}var Ga=180/Math.PI,Bs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eo(r,a,o,d,_,p){var N,z,q;return(N=Math.sqrt(r*r+a*a))&&(r/=N,a/=N),(q=r*o+a*d)&&(o-=r*q,d-=a*q),(z=Math.sqrt(o*o+d*d))&&(o/=z,d/=z,q/=z),r*d<a*o&&(r=-r,a=-a,q=-q,N=-N),{translateX:_,translateY:p,rotate:Math.atan2(a,r)*Ga,skewX:Math.atan(q)*Ga,scaleX:N,scaleY:z}}var Er;function yf(r){const a=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return a.isIdentity?Bs:eo(a.a,a.b,a.c,a.d,a.e,a.f)}function xf(r){return r==null||(Er||(Er=document.createElementNS("http://www.w3.org/2000/svg","g")),Er.setAttribute("transform",r),!(r=Er.transform.baseVal.consolidate()))?Bs:(r=r.matrix,eo(r.a,r.b,r.c,r.d,r.e,r.f))}function io(r,a,o,d){function _(D){return D.length?D.pop()+" ":""}function p(D,j,G,$,V,st){if(D!==G||j!==$){var nt=V.push("translate(",null,a,null,o);st.push({i:nt-4,x:Ti(D,G)},{i:nt-2,x:Ti(j,$)})}else(G||$)&&V.push("translate("+G+a+$+o)}function N(D,j,G,$){D!==j?(D-j>180?j+=360:j-D>180&&(D+=360),$.push({i:G.push(_(G)+"rotate(",null,d)-2,x:Ti(D,j)})):j&&G.push(_(G)+"rotate("+j+d)}function z(D,j,G,$){D!==j?$.push({i:G.push(_(G)+"skewX(",null,d)-2,x:Ti(D,j)}):j&&G.push(_(G)+"skewX("+j+d)}function q(D,j,G,$,V,st){if(D!==G||j!==$){var nt=V.push(_(V)+"scale(",null,",",null,")");st.push({i:nt-4,x:Ti(D,G)},{i:nt-2,x:Ti(j,$)})}else(G!==1||$!==1)&&V.push(_(V)+"scale("+G+","+$+")")}return function(D,j){var G=[],$=[];return D=r(D),j=r(j),p(D.translateX,D.translateY,j.translateX,j.translateY,G,$),N(D.rotate,j.rotate,G,$),z(D.skewX,j.skewX,G,$),q(D.scaleX,D.scaleY,j.scaleX,j.scaleY,G,$),D=j=null,function(V){for(var st=-1,nt=$.length,ut;++st<nt;)G[(ut=$[st]).i]=ut.x(V);return G.join("")}}}var wf=io(yf,"px, ","px)","deg)"),bf=io(xf,", ",")",")");function Cf(r){return function(a,o){var d=r((a=Vs(a)).h,(o=Vs(o)).h),_=sr(a.c,o.c),p=sr(a.l,o.l),N=sr(a.opacity,o.opacity);return function(z){return a.h=d(z),a.c=_(z),a.l=p(z),a.opacity=N(z),a+""}}}const Sf=Cf(hf);var Bn=0,$n=0,Qn=0,no=1e3,Zr,tr,jr=0,kn=0,rs=0,lr=typeof performance=="object"&&performance.now?performance:Date,ro=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function sa(){return kn||(ro(kf),kn=lr.now()+rs)}function kf(){kn=0}function Xr(){this._call=this._time=this._next=null}Xr.prototype=so.prototype={constructor:Xr,restart:function(r,a,o){if(typeof r!="function")throw new TypeError("callback is not a function");o=(o==null?sa():+o)+(a==null?0:+a),!this._next&&tr!==this&&(tr?tr._next=this:Zr=this,tr=this),this._call=r,this._time=o,Fs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fs())}};function so(r,a,o){var d=new Xr;return d.restart(r,a,o),d}function Af(){sa(),++Bn;for(var r=Zr,a;r;)(a=kn-r._time)>=0&&r._call.call(void 0,a),r=r._next;--Bn}function Za(){kn=(jr=lr.now())+rs,Bn=$n=0;try{Af()}finally{Bn=0,Pf(),kn=0}}function If(){var r=lr.now(),a=r-jr;a>no&&(rs-=a,jr=r)}function Pf(){for(var r,a=Zr,o,d=1/0;a;)a._call?(d>a._time&&(d=a._time),r=a,a=a._next):(o=a._next,a._next=null,a=r?r._next=o:Zr=o);tr=r,Fs(d)}function Fs(r){if(!Bn){$n&&($n=clearTimeout($n));var a=r-kn;a>24?(r<1/0&&($n=setTimeout(Za,r-lr.now()-rs)),Qn&&(Qn=clearInterval(Qn))):(Qn||(jr=lr.now(),Qn=setInterval(If,no)),Bn=1,ro(Za))}}function ja(r,a,o){var d=new Xr;return a=a==null?0:+a,d.restart(_=>{d.stop(),r(_+a)},a,o),d}var Ef=Mu("start","end","cancel","interrupt"),Tf=[],ao=0,Xa=1,qs=2,zr=3,Ka=4,Hs=5,Vr=6;function ss(r,a,o,d,_,p){var N=r.__transition;if(!N)r.__transition={};else if(o in N)return;Mf(r,o,{name:a,index:d,group:_,on:Ef,tween:Tf,time:p.time,delay:p.delay,duration:p.duration,ease:p.ease,timer:null,state:ao})}function aa(r,a){var o=Ri(r,a);if(o.state>ao)throw new Error("too late; already scheduled");return o}function qi(r,a){var o=Ri(r,a);if(o.state>zr)throw new Error("too late; already running");return o}function Ri(r,a){var o=r.__transition;if(!o||!(o=o[a]))throw new Error("transition not found");return o}function Mf(r,a,o){var d=r.__transition,_;d[a]=o,o.timer=so(p,0,o.time);function p(D){o.state=Xa,o.timer.restart(N,o.delay,o.time),o.delay<=D&&N(D-o.delay)}function N(D){var j,G,$,V;if(o.state!==Xa)return q();for(j in d)if(V=d[j],V.name===o.name){if(V.state===zr)return ja(N);V.state===Ka?(V.state=Vr,V.timer.stop(),V.on.call("interrupt",r,r.__data__,V.index,V.group),delete d[j]):+j<a&&(V.state=Vr,V.timer.stop(),V.on.call("cancel",r,r.__data__,V.index,V.group),delete d[j])}if(ja(function(){o.state===zr&&(o.state=Ka,o.timer.restart(z,o.delay,o.time),z(D))}),o.state=qs,o.on.call("start",r,r.__data__,o.index,o.group),o.state===qs){for(o.state=zr,_=new Array($=o.tween.length),j=0,G=-1;j<$;++j)(V=o.tween[j].value.call(r,r.__data__,o.index,o.group))&&(_[++G]=V);_.length=G+1}}function z(D){for(var j=D<o.duration?o.ease.call(null,D/o.duration):(o.timer.restart(q),o.state=Hs,1),G=-1,$=_.length;++G<$;)_[G].call(r,j);o.state===Hs&&(o.on.call("end",r,r.__data__,o.index,o.group),q())}function q(){o.state=Vr,o.timer.stop(),delete d[a];for(var D in d)return;delete r.__transition}}function Nf(r,a){var o=r.__transition,d,_,p=!0,N;if(o){a=a==null?null:a+"";for(N in o){if((d=o[N]).name!==a){p=!1;continue}_=d.state>qs&&d.state<Hs,d.state=Vr,d.timer.stop(),d.on.call(_?"interrupt":"cancel",r,r.__data__,d.index,d.group),delete o[N]}p&&delete r.__transition}}function Lf(r){return this.each(function(){Nf(this,r)})}function Of(r,a){var o,d;return function(){var _=qi(this,r),p=_.tween;if(p!==o){d=o=p;for(var N=0,z=d.length;N<z;++N)if(d[N].name===a){d=d.slice(),d.splice(N,1);break}}_.tween=d}}function Rf(r,a,o){var d,_;if(typeof o!="function")throw new Error;return function(){var p=qi(this,r),N=p.tween;if(N!==d){_=(d=N).slice();for(var z={name:a,value:o},q=0,D=_.length;q<D;++q)if(_[q].name===a){_[q]=z;break}q===D&&_.push(z)}p.tween=_}}function zf(r,a){var o=this._id;if(r+="",arguments.length<2){for(var d=Ri(this.node(),o).tween,_=0,p=d.length,N;_<p;++_)if((N=d[_]).name===r)return N.value;return null}return this.each((a==null?Of:Rf)(o,r,a))}function ua(r,a,o){var d=r._id;return r.each(function(){var _=qi(this,d);(_.value||(_.value={}))[a]=o.apply(this,arguments)}),function(_){return Ri(_,d).value[a]}}function uo(r,a){var o;return(typeof a=="number"?Ti:a instanceof Sn?Gr:(o=Sn(a))?(a=o,Gr):$u)(r,a)}function Vf(r){return function(){this.removeAttribute(r)}}function Df(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Bf(r,a,o){var d,_=o+"",p;return function(){var N=this.getAttribute(r);return N===_?null:N===d?p:p=a(d=N,o)}}function Ff(r,a,o){var d,_=o+"",p;return function(){var N=this.getAttributeNS(r.space,r.local);return N===_?null:N===d?p:p=a(d=N,o)}}function qf(r,a,o){var d,_,p;return function(){var N,z=o(this),q;return z==null?void this.removeAttribute(r):(N=this.getAttribute(r),q=z+"",N===q?null:N===d&&q===_?p:(_=q,p=a(d=N,z)))}}function Hf(r,a,o){var d,_,p;return function(){var N,z=o(this),q;return z==null?void this.removeAttributeNS(r.space,r.local):(N=this.getAttributeNS(r.space,r.local),q=z+"",N===q?null:N===d&&q===_?p:(_=q,p=a(d=N,z)))}}function Uf(r,a){var o=ts(r),d=o==="transform"?bf:uo;return this.attrTween(r,typeof a=="function"?(o.local?Hf:qf)(o,d,ua(this,"attr."+r,a)):a==null?(o.local?Df:Vf)(o):(o.local?Ff:Bf)(o,d,a))}function Wf(r,a){return function(o){this.setAttribute(r,a.call(this,o))}}function Gf(r,a){return function(o){this.setAttributeNS(r.space,r.local,a.call(this,o))}}function Zf(r,a){var o,d;function _(){var p=a.apply(this,arguments);return p!==d&&(o=(d=p)&&Gf(r,p)),o}return _._value=a,_}function jf(r,a){var o,d;function _(){var p=a.apply(this,arguments);return p!==d&&(o=(d=p)&&Wf(r,p)),o}return _._value=a,_}function Xf(r,a){var o="attr."+r;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(a==null)return this.tween(o,null);if(typeof a!="function")throw new Error;var d=ts(r);return this.tween(o,(d.local?Zf:jf)(d,a))}function Kf(r,a){return function(){aa(this,r).delay=+a.apply(this,arguments)}}function Yf(r,a){return a=+a,function(){aa(this,r).delay=a}}function Qf(r){var a=this._id;return arguments.length?this.each((typeof r=="function"?Kf:Yf)(a,r)):Ri(this.node(),a).delay}function Jf(r,a){return function(){qi(this,r).duration=+a.apply(this,arguments)}}function $f(r,a){return a=+a,function(){qi(this,r).duration=a}}function t0(r){var a=this._id;return arguments.length?this.each((typeof r=="function"?Jf:$f)(a,r)):Ri(this.node(),a).duration}function e0(r,a){if(typeof a!="function")throw new Error;return function(){qi(this,r).ease=a}}function i0(r){var a=this._id;return arguments.length?this.each(e0(a,r)):Ri(this.node(),a).ease}function n0(r,a){return function(){var o=a.apply(this,arguments);if(typeof o!="function")throw new Error;qi(this,r).ease=o}}function r0(r){if(typeof r!="function")throw new Error;return this.each(n0(this._id,r))}function s0(r){typeof r!="function"&&(r=Ou(r));for(var a=this._groups,o=a.length,d=new Array(o),_=0;_<o;++_)for(var p=a[_],N=p.length,z=d[_]=[],q,D=0;D<N;++D)(q=p[D])&&r.call(q,q.__data__,D,p)&&z.push(q);return new Yi(d,this._parents,this._name,this._id)}function a0(r){if(r._id!==this._id)throw new Error;for(var a=this._groups,o=r._groups,d=a.length,_=o.length,p=Math.min(d,_),N=new Array(d),z=0;z<p;++z)for(var q=a[z],D=o[z],j=q.length,G=N[z]=new Array(j),$,V=0;V<j;++V)($=q[V]||D[V])&&(G[V]=$);for(;z<d;++z)N[z]=a[z];return new Yi(N,this._parents,this._name,this._id)}function u0(r){return(r+"").trim().split(/^|\s+/).every(function(a){var o=a.indexOf(".");return o>=0&&(a=a.slice(0,o)),!a||a==="start"})}function o0(r,a,o){var d,_,p=u0(a)?aa:qi;return function(){var N=p(this,r),z=N.on;z!==d&&(_=(d=z).copy()).on(a,o),N.on=_}}function l0(r,a){var o=this._id;return arguments.length<2?Ri(this.node(),o).on.on(r):this.each(o0(o,r,a))}function h0(r){return function(){var a=this.parentNode;for(var o in this.__transition)if(+o!==r)return;a&&a.removeChild(this)}}function c0(){return this.on("end.remove",h0(this._id))}function f0(r){var a=this._name,o=this._id;typeof r!="function"&&(r=na(r));for(var d=this._groups,_=d.length,p=new Array(_),N=0;N<_;++N)for(var z=d[N],q=z.length,D=p[N]=new Array(q),j,G,$=0;$<q;++$)(j=z[$])&&(G=r.call(j,j.__data__,$,z))&&("__data__"in j&&(G.__data__=j.__data__),D[$]=G,ss(D[$],a,o,$,D,Ri(j,o)));return new Yi(p,this._parents,a,o)}function d0(r){var a=this._name,o=this._id;typeof r!="function"&&(r=Lu(r));for(var d=this._groups,_=d.length,p=[],N=[],z=0;z<_;++z)for(var q=d[z],D=q.length,j,G=0;G<D;++G)if(j=q[G]){for(var $=r.call(j,j.__data__,G,q),V,st=Ri(j,o),nt=0,ut=$.length;nt<ut;++nt)(V=$[nt])&&ss(V,a,o,nt,$,st);p.push($),N.push(j)}return new Yi(p,N,a,o)}var p0=pr.prototype.constructor;function g0(){return new p0(this._groups,this._parents)}function v0(r,a){var o,d,_;return function(){var p=Dn(this,r),N=(this.style.removeProperty(r),Dn(this,r));return p===N?null:p===o&&N===d?_:_=a(o=p,d=N)}}function oo(r){return function(){this.style.removeProperty(r)}}function _0(r,a,o){var d,_=o+"",p;return function(){var N=Dn(this,r);return N===_?null:N===d?p:p=a(d=N,o)}}function m0(r,a,o){var d,_,p;return function(){var N=Dn(this,r),z=o(this),q=z+"";return z==null&&(q=z=(this.style.removeProperty(r),Dn(this,r))),N===q?null:N===d&&q===_?p:(_=q,p=a(d=N,z))}}function y0(r,a){var o,d,_,p="style."+a,N="end."+p,z;return function(){var q=qi(this,r),D=q.on,j=q.value[p]==null?z||(z=oo(a)):void 0;(D!==o||_!==j)&&(d=(o=D).copy()).on(N,_=j),q.on=d}}function x0(r,a,o){var d=(r+="")=="transform"?wf:uo;return a==null?this.styleTween(r,v0(r,d)).on("end.style."+r,oo(r)):typeof a=="function"?this.styleTween(r,m0(r,d,ua(this,"style."+r,a))).each(y0(this._id,r)):this.styleTween(r,_0(r,d,a),o).on("end.style."+r,null)}function w0(r,a,o){return function(d){this.style.setProperty(r,a.call(this,d),o)}}function b0(r,a,o){var d,_;function p(){var N=a.apply(this,arguments);return N!==_&&(d=(_=N)&&w0(r,N,o)),d}return p._value=a,p}function C0(r,a,o){var d="style."+(r+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(a==null)return this.tween(d,null);if(typeof a!="function")throw new Error;return this.tween(d,b0(r,a,o??""))}function S0(r){return function(){this.textContent=r}}function k0(r){return function(){var a=r(this);this.textContent=a??""}}function A0(r){return this.tween("text",typeof r=="function"?k0(ua(this,"text",r)):S0(r==null?"":r+""))}function I0(r){return function(a){this.textContent=r.call(this,a)}}function P0(r){var a,o;function d(){var _=r.apply(this,arguments);return _!==o&&(a=(o=_)&&I0(_)),a}return d._value=r,d}function E0(r){var a="text";if(arguments.length<1)return(a=this.tween(a))&&a._value;if(r==null)return this.tween(a,null);if(typeof r!="function")throw new Error;return this.tween(a,P0(r))}function T0(){for(var r=this._name,a=this._id,o=lo(),d=this._groups,_=d.length,p=0;p<_;++p)for(var N=d[p],z=N.length,q,D=0;D<z;++D)if(q=N[D]){var j=Ri(q,a);ss(q,r,o,D,N,{time:j.time+j.delay+j.duration,delay:0,duration:j.duration,ease:j.ease})}return new Yi(d,this._parents,r,o)}function M0(){var r,a,o=this,d=o._id,_=o.size();return new Promise(function(p,N){var z={value:N},q={value:function(){--_===0&&p()}};o.each(function(){var D=qi(this,d),j=D.on;j!==r&&(a=(r=j).copy(),a._.cancel.push(z),a._.interrupt.push(z),a._.end.push(q)),D.on=a}),_===0&&p()})}var N0=0;function Yi(r,a,o,d){this._groups=r,this._parents=a,this._name=o,this._id=d}function lo(){return++N0}var Zi=pr.prototype;Yi.prototype={constructor:Yi,select:f0,selectAll:d0,selectChild:Zi.selectChild,selectChildren:Zi.selectChildren,filter:s0,merge:a0,selection:g0,transition:T0,call:Zi.call,nodes:Zi.nodes,node:Zi.node,size:Zi.size,empty:Zi.empty,each:Zi.each,on:l0,attr:Uf,attrTween:Xf,style:x0,styleTween:C0,text:A0,textTween:E0,remove:c0,tween:zf,delay:Qf,duration:t0,ease:i0,easeVarying:r0,end:M0,[Symbol.iterator]:Zi[Symbol.iterator]};function L0(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var O0={time:null,delay:0,duration:250,ease:L0};function R0(r,a){for(var o;!(o=r.__transition)||!(o=o[a]);)if(!(r=r.parentNode))throw new Error(`transition ${a} not found`);return o}function z0(r){var a,o;r instanceof Yi?(a=r._id,r=r._name):(a=lo(),(o=O0).time=sa(),r=r==null?null:r+"");for(var d=this._groups,_=d.length,p=0;p<_;++p)for(var N=d[p],z=N.length,q,D=0;D<z;++D)(q=N[D])&&ss(q,r,a,D,N,o||R0(q,a));return new Yi(d,this._parents,r,a)}pr.prototype.interrupt=Lf;pr.prototype.transition=z0;function V0(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Kr(r,a){if((o=(r=a?r.toExponential(a-1):r.toExponential()).indexOf("e"))<0)return null;var o,d=r.slice(0,o);return[d.length>1?d[0]+d.slice(2):d,+r.slice(o+1)]}function Fn(r){return r=Kr(Math.abs(r)),r?r[1]:NaN}function D0(r,a){return function(o,d){for(var _=o.length,p=[],N=0,z=r[0],q=0;_>0&&z>0&&(q+z+1>d&&(z=Math.max(1,d-q)),p.push(o.substring(_-=z,_+z)),!((q+=z+1)>d));)z=r[N=(N+1)%r.length];return p.reverse().join(a)}}function B0(r){return function(a){return a.replace(/[0-9]/g,function(o){return r[+o]})}}var F0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yr(r){if(!(a=F0.exec(r)))throw new Error("invalid format: "+r);var a;return new oa({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}Yr.prototype=oa.prototype;function oa(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}oa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q0(r){t:for(var a=r.length,o=1,d=-1,_;o<a;++o)switch(r[o]){case".":d=_=o;break;case"0":d===0&&(d=o),_=o;break;default:if(!+r[o])break t;d>0&&(d=0);break}return d>0?r.slice(0,d)+r.slice(_+1):r}var ho;function H0(r,a){var o=Kr(r,a);if(!o)return r+"";var d=o[0],_=o[1],p=_-(ho=Math.max(-8,Math.min(8,Math.floor(_/3)))*3)+1,N=d.length;return p===N?d:p>N?d+new Array(p-N+1).join("0"):p>0?d.slice(0,p)+"."+d.slice(p):"0."+new Array(1-p).join("0")+Kr(r,Math.max(0,a+p-1))[0]}function Ya(r,a){var o=Kr(r,a);if(!o)return r+"";var d=o[0],_=o[1];return _<0?"0."+new Array(-_).join("0")+d:d.length>_+1?d.slice(0,_+1)+"."+d.slice(_+1):d+new Array(_-d.length+2).join("0")}const Qa={"%":(r,a)=>(r*100).toFixed(a),b:r=>Math.round(r).toString(2),c:r=>r+"",d:V0,e:(r,a)=>r.toExponential(a),f:(r,a)=>r.toFixed(a),g:(r,a)=>r.toPrecision(a),o:r=>Math.round(r).toString(8),p:(r,a)=>Ya(r*100,a),r:Ya,s:H0,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function Ja(r){return r}var $a=Array.prototype.map,tu=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function U0(r){var a=r.grouping===void 0||r.thousands===void 0?Ja:D0($a.call(r.grouping,Number),r.thousands+""),o=r.currency===void 0?"":r.currency[0]+"",d=r.currency===void 0?"":r.currency[1]+"",_=r.decimal===void 0?".":r.decimal+"",p=r.numerals===void 0?Ja:B0($a.call(r.numerals,String)),N=r.percent===void 0?"%":r.percent+"",z=r.minus===void 0?"â":r.minus+"",q=r.nan===void 0?"NaN":r.nan+"";function D(G){G=Yr(G);var $=G.fill,V=G.align,st=G.sign,nt=G.symbol,ut=G.zero,ot=G.width,vt=G.comma,ht=G.precision,_t=G.trim,pt=G.type;pt==="n"?(vt=!0,pt="g"):Qa[pt]||(ht===void 0&&(ht=12),_t=!0,pt="g"),(ut||$==="0"&&V==="=")&&(ut=!0,$="0",V="=");var k=nt==="$"?o:nt==="#"&&/[boxX]/.test(pt)?"0"+pt.toLowerCase():"",wt=nt==="$"?d:/[%p]/.test(pt)?N:"",Nt=Qa[pt],qt=/[defgprs%]/.test(pt);ht=ht===void 0?6:/[gprs]/.test(pt)?Math.max(1,Math.min(21,ht)):Math.max(0,Math.min(20,ht));function Lt(yt){var It=k,Ht=wt,At,oe,ft;if(pt==="c")Ht=Nt(yt)+Ht,yt="";else{yt=+yt;var se=yt<0||1/yt<0;if(yt=isNaN(yt)?q:Nt(Math.abs(yt),ht),_t&&(yt=q0(yt)),se&&+yt==0&&st!=="+"&&(se=!1),It=(se?st==="("?st:z:st==="-"||st==="("?"":st)+It,Ht=(pt==="s"?tu[8+ho/3]:"")+Ht+(se&&st==="("?")":""),qt){for(At=-1,oe=yt.length;++At<oe;)if(ft=yt.charCodeAt(At),48>ft||ft>57){Ht=(ft===46?_+yt.slice(At+1):yt.slice(At))+Ht,yt=yt.slice(0,At);break}}}vt&&!ut&&(yt=a(yt,1/0));var xe=It.length+yt.length+Ht.length,Pt=xe<ot?new Array(ot-xe+1).join($):"";switch(vt&&ut&&(yt=a(Pt+yt,Pt.length?ot-Ht.length:1/0),Pt=""),V){case"<":yt=It+yt+Ht+Pt;break;case"=":yt=It+Pt+yt+Ht;break;case"^":yt=Pt.slice(0,xe=Pt.length>>1)+It+yt+Ht+Pt.slice(xe);break;default:yt=Pt+It+yt+Ht;break}return p(yt)}return Lt.toString=function(){return G+""},Lt}function j(G,$){var V=D((G=Yr(G),G.type="f",G)),st=Math.max(-8,Math.min(8,Math.floor(Fn($)/3)))*3,nt=Math.pow(10,-st),ut=tu[8+st/3];return function(ot){return V(nt*ot)+ut}}return{format:D,formatPrefix:j}}var Tr,An,co;W0({thousands:",",grouping:[3],currency:["$",""]});function W0(r){return Tr=U0(r),An=Tr.format,co=Tr.formatPrefix,Tr}function G0(r){return Math.max(0,-Fn(Math.abs(r)))}function Z0(r,a){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fn(a)/3)))*3-Fn(Math.abs(r)))}function j0(r,a){return r=Math.abs(r),a=Math.abs(a)-r,Math.max(0,Fn(a)-Fn(r))+1}function X0(r,a){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(a).domain(r);break}return this}function K0(r,a){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof a=="function"?this.interpolator(a):this.range(a);break}}return this}function Y0(r){return function(){return r}}function Q0(r){return+r}var eu=[0,1];function an(r){return r}function Us(r,a){return(a-=r=+r)?function(o){return(o-r)/a}:Y0(isNaN(a)?NaN:.5)}function J0(r,a){var o;return r>a&&(o=r,r=a,a=o),function(d){return Math.max(r,Math.min(a,d))}}function $0(r,a,o){var d=r[0],_=r[1],p=a[0],N=a[1];return _<d?(d=Us(_,d),p=o(N,p)):(d=Us(d,_),p=o(p,N)),function(z){return p(d(z))}}function td(r,a,o){var d=Math.min(r.length,a.length)-1,_=new Array(d),p=new Array(d),N=-1;for(r[d]<r[0]&&(r=r.slice().reverse(),a=a.slice().reverse());++N<d;)_[N]=Us(r[N],r[N+1]),p[N]=o(a[N],a[N+1]);return function(z){var q=Ql(r,z,1,d)-1;return p[q](_[q](z))}}function ed(r,a){return a.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function id(){var r=eu,a=eu,o=ns,d,_,p,N=an,z,q,D;function j(){var $=Math.min(r.length,a.length);return N!==an&&(N=J0(r[0],r[$-1])),z=$>2?td:$0,q=D=null,G}function G($){return $==null||isNaN($=+$)?p:(q||(q=z(r.map(d),a,o)))(d(N($)))}return G.invert=function($){return N(_((D||(D=z(a,r.map(d),Ti)))($)))},G.domain=function($){return arguments.length?(r=Array.from($,Q0),j()):r.slice()},G.range=function($){return arguments.length?(a=Array.from($),j()):a.slice()},G.rangeRound=function($){return a=Array.from($),o=to,j()},G.clamp=function($){return arguments.length?(N=$?!0:an,j()):N!==an},G.interpolate=function($){return arguments.length?(o=$,j()):o},G.unknown=function($){return arguments.length?(p=$,G):p},function($,V){return d=$,_=V,j()}}function nd(){return id()(an,an)}function rd(r,a,o,d){var _=sh(r,a,o),p;switch(d=Yr(d??",f"),d.type){case"s":{var N=Math.max(Math.abs(r),Math.abs(a));return d.precision==null&&!isNaN(p=Z0(_,N))&&(d.precision=p),co(d,N)}case"":case"e":case"g":case"p":case"r":{d.precision==null&&!isNaN(p=j0(_,Math.max(Math.abs(r),Math.abs(a))))&&(d.precision=p-(d.type==="e"));break}case"f":case"%":{d.precision==null&&!isNaN(p=G0(_))&&(d.precision=p-(d.type==="%")*2);break}}return An(d)}function fo(r){var a=r.domain;return r.ticks=function(o){var d=a();return rh(d[0],d[d.length-1],o??10)},r.tickFormat=function(o,d){var _=a();return rd(_[0],_[_.length-1],o??10,d)},r.nice=function(o){o==null&&(o=10);var d=a(),_=0,p=d.length-1,N=d[_],z=d[p],q,D,j=10;for(z<N&&(D=N,N=z,z=D,D=_,_=p,p=D);j-- >0;){if(D=Os(N,z,o),D===q)return d[_]=N,d[p]=z,a(d);if(D>0)N=Math.floor(N/D)*D,z=Math.ceil(z/D)*D;else if(D<0)N=Math.ceil(N*D)/D,z=Math.floor(z*D)/D;else break;q=D}return r},r}function un(){var r=nd();return r.copy=function(){return ed(r,un())},X0.apply(r,arguments),fo(r)}function sd(){var r=0,a=1,o,d,_,p,N=an,z=!1,q;function D(G){return G==null||isNaN(G=+G)?q:N(_===0?.5:(G=(p(G)-o)*_,z?Math.max(0,Math.min(1,G)):G))}D.domain=function(G){return arguments.length?([r,a]=G,o=p(r=+r),d=p(a=+a),_=o===d?0:1/(d-o),D):[r,a]},D.clamp=function(G){return arguments.length?(z=!!G,D):z},D.interpolator=function(G){return arguments.length?(N=G,D):N};function j(G){return function($){var V,st;return arguments.length?([V,st]=$,N=G(V,st),D):[N(0),N(1)]}}return D.range=j(ns),D.rangeRound=j(to),D.unknown=function(G){return arguments.length?(q=G,D):q},function(G){return p=G,o=G(r),d=G(a),_=o===d?0:1/(d-o),D}}function ad(r,a){return a.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function po(){var r=fo(sd()(an));return r.copy=function(){return ad(r,po())},K0.apply(r,arguments)}function er(r,a,o){this.k=r,this.x=a,this.y=o}er.prototype={constructor:er,scale:function(r){return r===1?this:new er(this.k*r,this.x,this.y)},translate:function(r,a){return r===0&a===0?this:new er(this.k,this.x+this.k*r,this.y+this.k*a)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};er.prototype;var ud=fe("<p><!></p>"),od=fe('<section class="intro"></section>');function ld(r,a){ii(a,!1);const o=oi("copy");Si();var d=od();je(d,5,()=>o.intro,Ze,(_,p)=>{let N=()=>Y(p).type,z=()=>Y(p).value;var q=ud(),D=kt(q);Li(D,z),xt(q),pe(()=>Je(q,1,dr(N()))),Dt(_,q)}),xt(d),Dt(r,d),ni()}function hd(r){return Object.fromEntries(Object.entries(r).map(([a,o])=>[a,o==="true"?!0:o==="false"?!1:o]))}function iu(r){return Object.prototype.toString.call(r)==="[object Date]"}function cd(r){return r}function Ws(r,a){if(r===a||r!==r)return()=>r;const o=typeof r;if(o!==typeof a||Array.isArray(r)!==Array.isArray(a))throw new Error("Cannot interpolate values of different type");if(Array.isArray(r)){const d=a.map((_,p)=>Ws(r[p],_));return _=>d.map(p=>p(_))}if(o==="object"){if(!r||!a)throw new Error("Object cannot be null");if(iu(r)&&iu(a)){const p=r.getTime(),z=a.getTime()-p;return q=>new Date(p+q*z)}const d=Object.keys(a),_={};return d.forEach(p=>{_[p]=Ws(r[p],a[p])}),p=>{const N={};return d.forEach(z=>{N[z]=_[z](p)}),N}}if(o==="number"){const d=a-r;return _=>r+_*d}return()=>a}var ji,Vn,hr,wn;const la=class la{constructor(a,o={}){Nn(this,ji);Nn(this,Vn);Nn(this,hr);Nn(this,wn,null);Kn(this,ji,rn(a)),Kn(this,Vn,rn(a)),Kn(this,hr,o)}static of(a,o){const d=new la(a(),o);return $s(()=>{d.set(a())}),d}set(a,o){var G;Le(gi(this,Vn),a);let{delay:d=0,duration:_=400,easing:p=cd,interpolate:N=Ws}={...gi(this,hr),...o};if(_===0)return(G=gi(this,wn))==null||G.abort(),Le(gi(this,ji),a),Promise.resolve();const z=Di.now()+d;let q,D=!1,j=gi(this,wn);return Kn(this,wn,ql($=>{if($<z)return!0;if(!D){D=!0;const st=gi(this,ji).v;q=N(st,a),typeof _=="function"&&(_=_(st,a)),j==null||j.abort()}const V=$-z;return V>_?(Le(gi(this,ji),a),!1):(Le(gi(this,ji),q(p(V/_))),!0)})),gi(this,wn).promise}get current(){return Y(gi(this,ji))}get target(){return Y(gi(this,Vn))}set target(a){this.set(a)}};ji=new WeakMap,Vn=new WeakMap,hr=new WeakMap,wn=new WeakMap;let Gs=la;var go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function dd(r){if(r.__esModule)return r;var a=r.default;if(typeof a=="function"){var o=function d(){return this instanceof d?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};o.prototype=a.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(r).forEach(function(d){var _=Object.getOwnPropertyDescriptor(r,d);Object.defineProperty(o,d,_.get?_:{enumerable:!0,get:function(){return r[d]}})}),o}function pd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vo={exports:{}};const gd={},vd=Object.freeze(Object.defineProperty({__proto__:null,default:gd},Symbol.toStringTag,{value:"Module"})),nu=dd(vd);var Mr={exports:{}},ru;function _d(){return ru||(ru=1,function(r,a){(function(o,d){d(a)})(go,function(o){var d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],_=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],p="ââÂ·Ì-Í¯ÎÒ-ÒÖ-Ö½Ö¿×××××Ø-ØÙ-Ù©Ù°Û-ÛÛ-Û¤Û§Û¨Ûª-Û­Û°-Û¹ÜÜ°-ÝÞ¦-Þ°ß-ßß«-ß³ß½à -à à -à £à ¥-à §à ©-à ­à¡-à¡à¢-à¢à£-à£¡à££-à¤à¤º-à¤¼à¤¾-à¥à¥-à¥à¥¢à¥£à¥¦-à¥¯à¦-à¦à¦¼à¦¾-à§à§à§à§-à§à§à§¢à§£à§¦-à§¯à§¾à¨-à¨à¨¼à¨¾-à©à©à©à©-à©à©à©¦-à©±à©µàª-àªàª¼àª¾-à«à«-à«à«-à«à«¢à«£à«¦-à«¯à«º-à«¿à¬-à¬à¬¼à¬¾-à­à­à­à­-à­à­-à­à­¢à­£à­¦-à­¯à®à®¾-à¯à¯-à¯à¯-à¯à¯à¯¦-à¯¯à°-à°à°¼à°¾-à±à±-à±à±-à±à±à±à±¢à±£à±¦-à±¯à²-à²à²¼à²¾-à³à³-à³à³-à³à³à³à³¢à³£à³¦-à³¯à³³à´-à´à´»à´¼à´¾-àµàµ-àµàµ-àµàµàµ¢àµ£àµ¦-àµ¯à¶-à¶à·à·-à·à·à·-à·à·¦-à·¯à·²à·³à¸±à¸´-à¸ºà¹-à¹à¹-à¹àº±àº´-àº¼à»-à»à»-à»à¼à¼à¼ -à¼©à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾à¾à¾à¾-à¾à¾-à¾¼à¿á«-á¾á-áá-áá-á á¢-á¤á§-á­á±-á´á-áá-áá-áá©-á±á-áá²-á´ááá²á³á´-ááá -á©á -á á -á á¢©á¤ -á¤«á¤°-á¤»á¥-á¥á§-á§á¨-á¨á©-á©á© -á©¼á©¿-áªáª-áªáª°-áª½áª¿-á«á¬-á¬á¬´-á­á­-á­á­«-á­³á®-á®á®¡-á®­á®°-á®¹á¯¦-á¯³á°¤-á°·á±-á±á±-á±á³-á³á³-á³¨á³­á³´á³·-á³¹á·-á·¿âââ¿âââ-ââ¡â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã¯ããã»ê -ê©ê¯ê´-ê½êêê°ê±ê ê ê ê £-ê §ê ¬ê¢ê¢ê¢´-ê£ê£-ê£ê£ -ê£±ê£¿-ê¤ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³-ê§ê§-ê§ê§¥ê§°-ê§¹ê¨©-ê¨¶ê©ê©ê©ê©-ê©ê©»-ê©½êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ï¬ï¸-ï¸ï¸ -ï¸¯ï¸³ï¸´ï¹-ï¹ï¼-ï¼ï¼¿ï½¥",N="ÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Í¿ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô¯Ô±-ÕÕÕ -Ö×-×ª×¯-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¡ -à¡ªà¡°-à¢à¢-à¢à¢ -à£à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¦à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à§¼à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à«¹à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°¹à°½à±-à±à±à± à±¡à²à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ-àµàµ-àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàº-àºàº-àº£àº¥àº§-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -áµá¸-á½á-á¬á¯-á¿á-áá -áªá®-á¸á-áá-á±á-áá -á¬á®-á°á-á³ááá  -á¡¸á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á¦°-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á²-á²á²-á²ºá²½-á²¿á³©-á³¬á³®-á³³á³µá³¶á³ºá´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â¹â¼-â¿â-âââ -ââ°-â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·ã-ãã¡-ã©ã±-ãµã¸-ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã¯ã±-ãã -ã¿ã°-ã¿ã-ä¶¿ä¸-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¯ê-êê¢-êê-êêêêê-êê²-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê£½ê£¾ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê§ -ê§¤ê§¦-ê§¯ê§º-ê§¾ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºê©¾-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­ê­-ê­©ê­°-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿",z={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},q="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",D={5:q,"5module":q+" export import",6:q+" const class extends export import super"},j=/^in(stanceof)?$/,G=new RegExp("["+N+"]"),$=new RegExp("["+N+p+"]");function V(i,l){for(var C=65536,M=0;M<l.length;M+=2){if(C+=l[M],C>i)return!1;if(C+=l[M+1],C>=i)return!0}return!1}function st(i,l){return i<65?i===36:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&G.test(String.fromCharCode(i)):l===!1?!1:V(i,_)}function nt(i,l){return i<48?i===36:i<58?!0:i<65?!1:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&$.test(String.fromCharCode(i)):l===!1?!1:V(i,_)||V(i,d)}var ut=function(l,C){C===void 0&&(C={}),this.label=l,this.keyword=C.keyword,this.beforeExpr=!!C.beforeExpr,this.startsExpr=!!C.startsExpr,this.isLoop=!!C.isLoop,this.isAssign=!!C.isAssign,this.prefix=!!C.prefix,this.postfix=!!C.postfix,this.binop=C.binop||null,this.updateContext=null};function ot(i,l){return new ut(i,{beforeExpr:!0,binop:l})}var vt={beforeExpr:!0},ht={startsExpr:!0},_t={};function pt(i,l){return l===void 0&&(l={}),l.keyword=i,_t[i]=new ut(i,l)}var k={num:new ut("num",ht),regexp:new ut("regexp",ht),string:new ut("string",ht),name:new ut("name",ht),privateId:new ut("privateId",ht),eof:new ut("eof"),bracketL:new ut("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ut("]"),braceL:new ut("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ut("}"),parenL:new ut("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ut(")"),comma:new ut(",",vt),semi:new ut(";",vt),colon:new ut(":",vt),dot:new ut("."),question:new ut("?",vt),questionDot:new ut("?."),arrow:new ut("=>",vt),template:new ut("template"),invalidTemplate:new ut("invalidTemplate"),ellipsis:new ut("...",vt),backQuote:new ut("`",ht),dollarBraceL:new ut("${",{beforeExpr:!0,startsExpr:!0}),eq:new ut("=",{beforeExpr:!0,isAssign:!0}),assign:new ut("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ut("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ut("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ot("||",1),logicalAND:ot("&&",2),bitwiseOR:ot("|",3),bitwiseXOR:ot("^",4),bitwiseAND:ot("&",5),equality:ot("==/!=/===/!==",6),relational:ot("</>/<=/>=",7),bitShift:ot("<</>>/>>>",8),plusMin:new ut("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ot("%",10),star:ot("*",10),slash:ot("/",10),starstar:new ut("**",{beforeExpr:!0}),coalesce:ot("??",1),_break:pt("break"),_case:pt("case",vt),_catch:pt("catch"),_continue:pt("continue"),_debugger:pt("debugger"),_default:pt("default",vt),_do:pt("do",{isLoop:!0,beforeExpr:!0}),_else:pt("else",vt),_finally:pt("finally"),_for:pt("for",{isLoop:!0}),_function:pt("function",ht),_if:pt("if"),_return:pt("return",vt),_switch:pt("switch"),_throw:pt("throw",vt),_try:pt("try"),_var:pt("var"),_const:pt("const"),_while:pt("while",{isLoop:!0}),_with:pt("with"),_new:pt("new",{beforeExpr:!0,startsExpr:!0}),_this:pt("this",ht),_super:pt("super",ht),_class:pt("class",ht),_extends:pt("extends",vt),_export:pt("export"),_import:pt("import",ht),_null:pt("null",ht),_true:pt("true",ht),_false:pt("false",ht),_in:pt("in",{beforeExpr:!0,binop:7}),_instanceof:pt("instanceof",{beforeExpr:!0,binop:7}),_typeof:pt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:pt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:pt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},wt=/\r\n?|\n|\u2028|\u2029/,Nt=new RegExp(wt.source,"g");function qt(i){return i===10||i===13||i===8232||i===8233}function Lt(i,l,C){C===void 0&&(C=i.length);for(var M=l;M<C;M++){var H=i.charCodeAt(M);if(qt(H))return M<C-1&&H===13&&i.charCodeAt(M+1)===10?M+2:M+1}return-1}var yt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,It=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Ht=Object.prototype,At=Ht.hasOwnProperty,oe=Ht.toString,ft=Object.hasOwn||function(i,l){return At.call(i,l)},se=Array.isArray||function(i){return oe.call(i)==="[object Array]"},xe=Object.create(null);function Pt(i){return xe[i]||(xe[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function Vt(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}var Ft=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ge=function(l,C){this.line=l,this.column=C};ge.prototype.offset=function(l){return new ge(this.line,this.column+l)};var Ut=function(l,C,M){this.start=C,this.end=M,l.sourceFile!==null&&(this.source=l.sourceFile)};function Se(i,l){for(var C=1,M=0;;){var H=Lt(i,M,l);if(H<0)return new ge(C,l-M);++C,M=H}}var he={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Fe=!1;function Te(i){var l={};for(var C in he)l[C]=i&&ft(i,C)?i[C]:he[C];if(l.ecmaVersion==="latest"?l.ecmaVersion=1e8:l.ecmaVersion==null?(!Fe&&typeof console=="object"&&console.warn&&(Fe=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),l.ecmaVersion=11):l.ecmaVersion>=2015&&(l.ecmaVersion-=2009),l.allowReserved==null&&(l.allowReserved=l.ecmaVersion<5),(!i||i.allowHashBang==null)&&(l.allowHashBang=l.ecmaVersion>=14),se(l.onToken)){var M=l.onToken;l.onToken=function(H){return M.push(H)}}return se(l.onComment)&&(l.onComment=Pe(l,l.onComment)),l}function Pe(i,l){return function(C,M,H,it,at,bt){var Mt={type:C?"Block":"Line",value:M,start:H,end:it};i.locations&&(Mt.loc=new Ut(this,at,bt)),i.ranges&&(Mt.range=[H,it]),l.push(Mt)}}var ee=1,ve=2,Yt=4,Re=8,Gt=16,Qt=32,Zt=64,_e=128,be=256,Ae=512,qe=ee|ve|be;function Xe(i,l){return ve|(i?Yt:0)|(l?Re:0)}var we=0,Ke=1,ae=2,ci=3,Jt=4,t=5,e=function(l,C,M){this.options=l=Te(l),this.sourceFile=l.sourceFile,this.keywords=Pt(D[l.ecmaVersion>=6?6:l.sourceType==="module"?"5module":5]);var H="";l.allowReserved!==!0&&(H=z[l.ecmaVersion>=6?6:l.ecmaVersion===5?5:3],l.sourceType==="module"&&(H+=" await")),this.reservedWords=Pt(H);var it=(H?H+" ":"")+z.strict;this.reservedWordsStrict=Pt(it),this.reservedWordsStrictBind=Pt(it+" "+z.strictBind),this.input=String(C),this.containsEsc=!1,M?(this.pos=M,this.lineStart=this.input.lastIndexOf(`
`,M-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(wt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=k.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=l.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&l.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ee),this.regexpState=null,this.privateNameStack=[]},n={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};e.prototype.parse=function(){var l=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(l)},n.inFunction.get=function(){return(this.currentVarScope().flags&ve)>0},n.inGenerator.get=function(){return(this.currentVarScope().flags&Re)>0},n.inAsync.get=function(){return(this.currentVarScope().flags&Yt)>0},n.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var l=this.scopeStack[i],C=l.flags;if(C&(be|Ae))return!1;if(C&ve)return(C&Yt)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},n.allowSuper.get=function(){var i=this.currentThisScope(),l=i.flags;return(l&Zt)>0||this.options.allowSuperOutsideMethod},n.allowDirectSuper.get=function(){return(this.currentThisScope().flags&_e)>0},n.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},n.allowNewDotTarget.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var l=this.scopeStack[i],C=l.flags;if(C&(be|Ae)||C&ve&&!(C&Gt))return!0}return!1},n.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&be)>0},e.extend=function(){for(var l=[],C=arguments.length;C--;)l[C]=arguments[C];for(var M=this,H=0;H<l.length;H++)M=l[H](M);return M},e.parse=function(l,C){return new this(C,l).parse()},e.parseExpressionAt=function(l,C,M){var H=new this(M,l,C);return H.nextToken(),H.parseExpression()},e.tokenizer=function(l,C){return new this(C,l)},Object.defineProperties(e.prototype,n);var s=e.prototype,u=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;s.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){It.lastIndex=i,i+=It.exec(this.input)[0].length;var l=u.exec(this.input.slice(i));if(!l)return!1;if((l[1]||l[2])==="use strict"){It.lastIndex=i+l[0].length;var C=It.exec(this.input),M=C.index+C[0].length,H=this.input.charAt(M);return H===";"||H==="}"||wt.test(C[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(H)||H==="!"&&this.input.charAt(M+1)==="=")}i+=l[0].length,It.lastIndex=i,i+=It.exec(this.input)[0].length,this.input[i]===";"&&i++}},s.eat=function(i){return this.type===i?(this.next(),!0):!1},s.isContextual=function(i){return this.type===k.name&&this.value===i&&!this.containsEsc},s.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1},s.expectContextual=function(i){this.eatContextual(i)||this.unexpected()},s.canInsertSemicolon=function(){return this.type===k.eof||this.type===k.braceR||wt.test(this.input.slice(this.lastTokEnd,this.start))},s.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},s.semicolon=function(){!this.eat(k.semi)&&!this.insertSemicolon()&&this.unexpected()},s.afterTrailingComma=function(i,l){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),l||this.next(),!0},s.expect=function(i){this.eat(i)||this.unexpected()},s.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var h=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};s.checkPatternErrors=function(i,l){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var C=l?i.parenthesizedAssign:i.parenthesizedBind;C>-1&&this.raiseRecoverable(C,l?"Assigning to rvalue":"Parenthesized pattern")}},s.checkExpressionErrors=function(i,l){if(!i)return!1;var C=i.shorthandAssign,M=i.doubleProto;if(!l)return C>=0||M>=0;C>=0&&this.raise(C,"Shorthand property assignments are valid only in destructuring patterns"),M>=0&&this.raiseRecoverable(M,"Redefinition of __proto__ property")},s.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},s.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var c=e.prototype;c.parseTopLevel=function(i){var l=Object.create(null);for(i.body||(i.body=[]);this.type!==k.eof;){var C=this.parseStatement(null,!0,l);i.body.push(C)}if(this.inModule)for(var M=0,H=Object.keys(this.undefinedExports);M<H.length;M+=1){var it=H[M];this.raiseRecoverable(this.undefinedExports[it].start,"Export '"+it+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var f={kind:"loop"},g={kind:"switch"};c.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;It.lastIndex=this.pos;var l=It.exec(this.input),C=this.pos+l[0].length,M=this.input.charCodeAt(C);if(M===91||M===92)return!0;if(i)return!1;if(M===123||M>55295&&M<56320)return!0;if(st(M,!0)){for(var H=C+1;nt(M=this.input.charCodeAt(H),!0);)++H;if(M===92||M>55295&&M<56320)return!0;var it=this.input.slice(C,H);if(!j.test(it))return!0}return!1},c.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;It.lastIndex=this.pos;var i=It.exec(this.input),l=this.pos+i[0].length,C;return!wt.test(this.input.slice(this.pos,l))&&this.input.slice(l,l+8)==="function"&&(l+8===this.input.length||!(nt(C=this.input.charCodeAt(l+8))||C>55295&&C<56320))},c.isUsingKeyword=function(i,l){if(this.options.ecmaVersion<17||!this.isContextual(i?"await":"using"))return!1;It.lastIndex=this.pos;var C=It.exec(this.input),M=this.pos+C[0].length;if(wt.test(this.input.slice(this.pos,M)))return!1;if(i){var H=M+5,it;if(this.input.slice(M,H)!=="using"||H===this.input.length||nt(it=this.input.charCodeAt(H))||it>55295&&it<56320)return!1;It.lastIndex=H;var at=It.exec(this.input);if(at&&wt.test(this.input.slice(H,H+at[0].length)))return!1}if(l){var bt=M+2,Mt;if(this.input.slice(M,bt)==="of"&&(bt===this.input.length||!nt(Mt=this.input.charCodeAt(bt))&&!(Mt>55295&&Mt<56320)))return!1}var ie=this.input.charCodeAt(M);return st(ie,!0)||ie===92},c.isAwaitUsing=function(i){return this.isUsingKeyword(!0,i)},c.isUsing=function(i){return this.isUsingKeyword(!1,i)},c.parseStatement=function(i,l,C){var M=this.type,H=this.startNode(),it;switch(this.isLet(i)&&(M=k._var,it="let"),M){case k._break:case k._continue:return this.parseBreakContinueStatement(H,M.keyword);case k._debugger:return this.parseDebuggerStatement(H);case k._do:return this.parseDoStatement(H);case k._for:return this.parseForStatement(H);case k._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(H,!1,!i);case k._class:return i&&this.unexpected(),this.parseClass(H,!0);case k._if:return this.parseIfStatement(H);case k._return:return this.parseReturnStatement(H);case k._switch:return this.parseSwitchStatement(H);case k._throw:return this.parseThrowStatement(H);case k._try:return this.parseTryStatement(H);case k._const:case k._var:return it=it||this.value,i&&it!=="var"&&this.unexpected(),this.parseVarStatement(H,it);case k._while:return this.parseWhileStatement(H);case k._with:return this.parseWithStatement(H);case k.braceL:return this.parseBlock(!0,H);case k.semi:return this.parseEmptyStatement(H);case k._export:case k._import:if(this.options.ecmaVersion>10&&M===k._import){It.lastIndex=this.pos;var at=It.exec(this.input),bt=this.pos+at[0].length,Mt=this.input.charCodeAt(bt);if(Mt===40||Mt===46)return this.parseExpressionStatement(H,this.parseExpression())}return this.options.allowImportExportEverywhere||(l||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),M===k._import?this.parseImport(H):this.parseExport(H,C);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(H,!0,!i);var ie=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(ie)return l&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),ie==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(H,!1,ie),this.semicolon(),this.finishNode(H,"VariableDeclaration");var me=this.value,Ie=this.parseExpression();return M===k.name&&Ie.type==="Identifier"&&this.eat(k.colon)?this.parseLabeledStatement(H,me,Ie,i):this.parseExpressionStatement(H,Ie)}},c.parseBreakContinueStatement=function(i,l){var C=l==="break";this.next(),this.eat(k.semi)||this.insertSemicolon()?i.label=null:this.type!==k.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var M=0;M<this.labels.length;++M){var H=this.labels[M];if((i.label==null||H.name===i.label.name)&&(H.kind!=null&&(C||H.kind==="loop")||i.label&&C))break}return M===this.labels.length&&this.raise(i.start,"Unsyntactic "+l),this.finishNode(i,C?"BreakStatement":"ContinueStatement")},c.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")},c.parseDoStatement=function(i){return this.next(),this.labels.push(f),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(k._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(k.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")},c.parseForStatement=function(i){this.next();var l=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(f),this.enterScope(0),this.expect(k.parenL),this.type===k.semi)return l>-1&&this.unexpected(l),this.parseFor(i,null);var C=this.isLet();if(this.type===k._var||this.type===k._const||C){var M=this.startNode(),H=C?"let":this.value;return this.next(),this.parseVar(M,!0,H),this.finishNode(M,"VariableDeclaration"),this.parseForAfterInit(i,M,l)}var it=this.isContextual("let"),at=!1,bt=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(bt){var Mt=this.startNode();return this.next(),bt==="await using"&&this.next(),this.parseVar(Mt,!0,bt),this.finishNode(Mt,"VariableDeclaration"),this.parseForAfterInit(i,Mt,l)}var ie=this.containsEsc,me=new h,Ie=this.start,$e=l>-1?this.parseExprSubscripts(me,"await"):this.parseExpression(!0,me);return this.type===k._in||(at=this.options.ecmaVersion>=6&&this.isContextual("of"))?(l>-1?(this.type===k._in&&this.unexpected(l),i.await=!0):at&&this.options.ecmaVersion>=8&&($e.start===Ie&&!ie&&$e.type==="Identifier"&&$e.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(i.await=!1)),it&&at&&this.raise($e.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable($e,!1,me),this.checkLValPattern($e),this.parseForIn(i,$e)):(this.checkExpressionErrors(me,!0),l>-1&&this.unexpected(l),this.parseFor(i,$e))},c.parseForAfterInit=function(i,l,C){return(this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&l.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===k._in?C>-1&&this.unexpected(C):i.await=C>-1),this.parseForIn(i,l)):(C>-1&&this.unexpected(C),this.parseFor(i,l))},c.parseFunctionStatement=function(i,l,C){return this.next(),this.parseFunction(i,b|(C?0:S),!1,l)},c.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(k._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")},c.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(k.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")},c.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(k.braceL),this.labels.push(g),this.enterScope(0);for(var l,C=!1;this.type!==k.braceR;)if(this.type===k._case||this.type===k._default){var M=this.type===k._case;l&&this.finishNode(l,"SwitchCase"),i.cases.push(l=this.startNode()),l.consequent=[],this.next(),M?l.test=this.parseExpression():(C&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),C=!0,l.test=null),this.expect(k.colon)}else l||this.unexpected(),l.consequent.push(this.parseStatement(null));return this.exitScope(),l&&this.finishNode(l,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")},c.parseThrowStatement=function(i){return this.next(),wt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var v=[];c.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),l=i.type==="Identifier";return this.enterScope(l?Qt:0),this.checkLValPattern(i,l?Jt:ae),this.expect(k.parenR),i},c.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===k._catch){var l=this.startNode();this.next(),this.eat(k.parenL)?l.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),l.param=null,this.enterScope(0)),l.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(l,"CatchClause")}return i.finalizer=this.eat(k._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")},c.parseVarStatement=function(i,l,C){return this.next(),this.parseVar(i,!1,l,C),this.semicolon(),this.finishNode(i,"VariableDeclaration")},c.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(f),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")},c.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")},c.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")},c.parseLabeledStatement=function(i,l,C,M){for(var H=0,it=this.labels;H<it.length;H+=1){var at=it[H];at.name===l&&this.raise(C.start,"Label '"+l+"' is already declared")}for(var bt=this.type.isLoop?"loop":this.type===k._switch?"switch":null,Mt=this.labels.length-1;Mt>=0;Mt--){var ie=this.labels[Mt];if(ie.statementStart===i.start)ie.statementStart=this.start,ie.kind=bt;else break}return this.labels.push({name:l,kind:bt,statementStart:this.start}),i.body=this.parseStatement(M?M.indexOf("label")===-1?M+"label":M:"label"),this.labels.pop(),i.label=C,this.finishNode(i,"LabeledStatement")},c.parseExpressionStatement=function(i,l){return i.expression=l,this.semicolon(),this.finishNode(i,"ExpressionStatement")},c.parseBlock=function(i,l,C){for(i===void 0&&(i=!0),l===void 0&&(l=this.startNode()),l.body=[],this.expect(k.braceL),i&&this.enterScope(0);this.type!==k.braceR;){var M=this.parseStatement(null);l.body.push(M)}return C&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(l,"BlockStatement")},c.parseFor=function(i,l){return i.init=l,this.expect(k.semi),i.test=this.type===k.semi?null:this.parseExpression(),this.expect(k.semi),i.update=this.type===k.parenR?null:this.parseExpression(),this.expect(k.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")},c.parseForIn=function(i,l){var C=this.type===k._in;return this.next(),l.type==="VariableDeclaration"&&l.declarations[0].init!=null&&(!C||this.options.ecmaVersion<8||this.strict||l.kind!=="var"||l.declarations[0].id.type!=="Identifier")&&this.raise(l.start,(C?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=l,i.right=C?this.parseExpression():this.parseMaybeAssign(),this.expect(k.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,C?"ForInStatement":"ForOfStatement")},c.parseVar=function(i,l,C,M){for(i.declarations=[],i.kind=C;;){var H=this.startNode();if(this.parseVarId(H,C),this.eat(k.eq)?H.init=this.parseMaybeAssign(l):!M&&C==="const"&&!(this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!M&&(C==="using"||C==="await using")&&this.options.ecmaVersion>=17&&this.type!==k._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+C+" declaration"):!M&&H.id.type!=="Identifier"&&!(l&&(this.type===k._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):H.init=null,i.declarations.push(this.finishNode(H,"VariableDeclarator")),!this.eat(k.comma))break}return i},c.parseVarId=function(i,l){i.id=l==="using"||l==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(i.id,l==="var"?Ke:ae,!1)};var b=1,S=2,x=4;c.parseFunction=function(i,l,C,M,H){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!M)&&(this.type===k.star&&l&S&&this.unexpected(),i.generator=this.eat(k.star)),this.options.ecmaVersion>=8&&(i.async=!!M),l&b&&(i.id=l&x&&this.type!==k.name?null:this.parseIdent(),i.id&&!(l&S)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?Ke:ae:ci));var it=this.yieldPos,at=this.awaitPos,bt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Xe(i.async,i.generator)),l&b||(i.id=this.type===k.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,C,!1,H),this.yieldPos=it,this.awaitPos=at,this.awaitIdentPos=bt,this.finishNode(i,l&b?"FunctionDeclaration":"FunctionExpression")},c.parseFunctionParams=function(i){this.expect(k.parenL),i.params=this.parseBindingList(k.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},c.parseClass=function(i,l){this.next();var C=this.strict;this.strict=!0,this.parseClassId(i,l),this.parseClassSuper(i);var M=this.enterClassBody(),H=this.startNode(),it=!1;for(H.body=[],this.expect(k.braceL);this.type!==k.braceR;){var at=this.parseClassElement(i.superClass!==null);at&&(H.body.push(at),at.type==="MethodDefinition"&&at.kind==="constructor"?(it&&this.raiseRecoverable(at.start,"Duplicate constructor in the same class"),it=!0):at.key&&at.key.type==="PrivateIdentifier"&&y(M,at)&&this.raiseRecoverable(at.key.start,"Identifier '#"+at.key.name+"' has already been declared"))}return this.strict=C,this.next(),i.body=this.finishNode(H,"ClassBody"),this.exitClassBody(),this.finishNode(i,l?"ClassDeclaration":"ClassExpression")},c.parseClassElement=function(i){if(this.eat(k.semi))return null;var l=this.options.ecmaVersion,C=this.startNode(),M="",H=!1,it=!1,at="method",bt=!1;if(this.eatContextual("static")){if(l>=13&&this.eat(k.braceL))return this.parseClassStaticBlock(C),C;this.isClassElementNameStart()||this.type===k.star?bt=!0:M="static"}if(C.static=bt,!M&&l>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===k.star)&&!this.canInsertSemicolon()?it=!0:M="async"),!M&&(l>=9||!it)&&this.eat(k.star)&&(H=!0),!M&&!it&&!H){var Mt=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?at=Mt:M=Mt)}if(M?(C.computed=!1,C.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),C.key.name=M,this.finishNode(C.key,"Identifier")):this.parseClassElementName(C),l<13||this.type===k.parenL||at!=="method"||H||it){var ie=!C.static&&L(C,"constructor"),me=ie&&i;ie&&at!=="method"&&this.raise(C.key.start,"Constructor can't have get/set modifier"),C.kind=ie?"constructor":at,this.parseClassMethod(C,H,it,me)}else this.parseClassField(C);return C},c.isClassElementNameStart=function(){return this.type===k.name||this.type===k.privateId||this.type===k.num||this.type===k.string||this.type===k.bracketL||this.type.keyword},c.parseClassElementName=function(i){this.type===k.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)},c.parseClassMethod=function(i,l,C,M){var H=i.key;i.kind==="constructor"?(l&&this.raise(H.start,"Constructor can't be a generator"),C&&this.raise(H.start,"Constructor can't be an async method")):i.static&&L(i,"prototype")&&this.raise(H.start,"Classes may not have a static property named prototype");var it=i.value=this.parseMethod(l,C,M);return i.kind==="get"&&it.params.length!==0&&this.raiseRecoverable(it.start,"getter should have no params"),i.kind==="set"&&it.params.length!==1&&this.raiseRecoverable(it.start,"setter should have exactly one param"),i.kind==="set"&&it.params[0].type==="RestElement"&&this.raiseRecoverable(it.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")},c.parseClassField=function(i){return L(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&L(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(k.eq)?(this.enterScope(Ae|Zt),i.value=this.parseMaybeAssign(),this.exitScope()):i.value=null,this.semicolon(),this.finishNode(i,"PropertyDefinition")},c.parseClassStaticBlock=function(i){i.body=[];var l=this.labels;for(this.labels=[],this.enterScope(be|Zt);this.type!==k.braceR;){var C=this.parseStatement(null);i.body.push(C)}return this.next(),this.exitScope(),this.labels=l,this.finishNode(i,"StaticBlock")},c.parseClassId=function(i,l){this.type===k.name?(i.id=this.parseIdent(),l&&this.checkLValSimple(i.id,ae,!1)):(l===!0&&this.unexpected(),i.id=null)},c.parseClassSuper=function(i){i.superClass=this.eat(k._extends)?this.parseExprSubscripts(null,!1):null},c.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared},c.exitClassBody=function(){var i=this.privateNameStack.pop(),l=i.declared,C=i.used;if(this.options.checkPrivateFields)for(var M=this.privateNameStack.length,H=M===0?null:this.privateNameStack[M-1],it=0;it<C.length;++it){var at=C[it];ft(l,at.name)||(H?H.used.push(at):this.raiseRecoverable(at.start,"Private field '#"+at.name+"' must be declared in an enclosing class"))}};function y(i,l){var C=l.key.name,M=i[C],H="true";return l.type==="MethodDefinition"&&(l.kind==="get"||l.kind==="set")&&(H=(l.static?"s":"i")+l.kind),M==="iget"&&H==="iset"||M==="iset"&&H==="iget"||M==="sget"&&H==="sset"||M==="sset"&&H==="sget"?(i[C]="true",!1):M?!0:(i[C]=H,!1)}function L(i,l){var C=i.computed,M=i.key;return!C&&(M.type==="Identifier"&&M.name===l||M.type==="Literal"&&M.value===l)}c.parseExportAllDeclaration=function(i,l){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(l,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==k.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")},c.parseExport=function(i,l){if(this.next(),this.eat(k.star))return this.parseExportAllDeclaration(i,l);if(this.eat(k._default))return this.checkExport(l,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(l,i.declaration.declarations):this.checkExport(l,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[]);else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(l),this.eatContextual("from"))this.type!==k.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause());else{for(var C=0,M=i.specifiers;C<M.length;C+=1){var H=M[C];this.checkUnreserved(H.local),this.checkLocalExport(H.local),H.local.type==="Literal"&&this.raise(H.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[])}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")},c.parseExportDeclaration=function(i){return this.parseStatement(null)},c.parseExportDefaultDeclaration=function(){var i;if(this.type===k._function||(i=this.isAsyncFunction())){var l=this.startNode();return this.next(),i&&this.next(),this.parseFunction(l,b|x,!1,i)}else if(this.type===k._class){var C=this.startNode();return this.parseClass(C,"nullableID")}else{var M=this.parseMaybeAssign();return this.semicolon(),M}},c.checkExport=function(i,l,C){i&&(typeof l!="string"&&(l=l.type==="Identifier"?l.name:l.value),ft(i,l)&&this.raiseRecoverable(C,"Duplicate export '"+l+"'"),i[l]=!0)},c.checkPatternExport=function(i,l){var C=l.type;if(C==="Identifier")this.checkExport(i,l,l.start);else if(C==="ObjectPattern")for(var M=0,H=l.properties;M<H.length;M+=1){var it=H[M];this.checkPatternExport(i,it)}else if(C==="ArrayPattern")for(var at=0,bt=l.elements;at<bt.length;at+=1){var Mt=bt[at];Mt&&this.checkPatternExport(i,Mt)}else C==="Property"?this.checkPatternExport(i,l.value):C==="AssignmentPattern"?this.checkPatternExport(i,l.left):C==="RestElement"&&this.checkPatternExport(i,l.argument)},c.checkVariableExport=function(i,l){if(i)for(var C=0,M=l;C<M.length;C+=1){var H=M[C];this.checkPatternExport(i,H.id)}},c.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},c.parseExportSpecifier=function(i){var l=this.startNode();return l.local=this.parseModuleExportName(),l.exported=this.eatContextual("as")?this.parseModuleExportName():l.local,this.checkExport(i,l.exported,l.exported.start),this.finishNode(l,"ExportSpecifier")},c.parseExportSpecifiers=function(i){var l=[],C=!0;for(this.expect(k.braceL);!this.eat(k.braceR);){if(C)C=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;l.push(this.parseExportSpecifier(i))}return l},c.parseImport=function(i){return this.next(),this.type===k.string?(i.specifiers=v,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===k.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ImportDeclaration")},c.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,ae),this.finishNode(i,"ImportSpecifier")},c.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,ae),this.finishNode(i,"ImportDefaultSpecifier")},c.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,ae),this.finishNode(i,"ImportNamespaceSpecifier")},c.parseImportSpecifiers=function(){var i=[],l=!0;if(this.type===k.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(k.comma)))return i;if(this.type===k.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(k.braceL);!this.eat(k.braceR);){if(l)l=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;i.push(this.parseImportSpecifier())}return i},c.parseWithClause=function(){var i=[];if(!this.eat(k._with))return i;this.expect(k.braceL);for(var l={},C=!0;!this.eat(k.braceR);){if(C)C=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;var M=this.parseImportAttribute(),H=M.key.type==="Identifier"?M.key.name:M.key.value;ft(l,H)&&this.raiseRecoverable(M.key.start,"Duplicate attribute key '"+H+"'"),l[H]=!0,i.push(M)}return i},c.parseImportAttribute=function(){var i=this.startNode();return i.key=this.type===k.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(k.colon),this.type!==k.string&&this.unexpected(),i.value=this.parseExprAtom(),this.finishNode(i,"ImportAttribute")},c.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===k.string){var i=this.parseLiteral(this.value);return Ft.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)},c.adaptDirectivePrologue=function(i){for(var l=0;l<i.length&&this.isDirectiveCandidate(i[l]);++l)i[l].directive=i[l].expression.raw.slice(1,-1)},c.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var A=e.prototype;A.toAssignable=function(i,l,C){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",C&&this.checkPatternErrors(C,!0);for(var M=0,H=i.properties;M<H.length;M+=1){var it=H[M];this.toAssignable(it,l),it.type==="RestElement"&&(it.argument.type==="ArrayPattern"||it.argument.type==="ObjectPattern")&&this.raise(it.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,l);break;case"ArrayExpression":i.type="ArrayPattern",C&&this.checkPatternErrors(C,!0),this.toAssignableList(i.elements,l);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,l),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,l);break;case"ParenthesizedExpression":this.toAssignable(i.expression,l,C);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!l)break;default:this.raise(i.start,"Assigning to rvalue")}else C&&this.checkPatternErrors(C,!0);return i},A.toAssignableList=function(i,l){for(var C=i.length,M=0;M<C;M++){var H=i[M];H&&this.toAssignable(H,l)}if(C){var it=i[C-1];this.options.ecmaVersion===6&&l&&it&&it.type==="RestElement"&&it.argument.type!=="Identifier"&&this.unexpected(it.argument.start)}return i},A.parseSpread=function(i){var l=this.startNode();return this.next(),l.argument=this.parseMaybeAssign(!1,i),this.finishNode(l,"SpreadElement")},A.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==k.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")},A.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case k.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(k.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case k.braceL:return this.parseObj(!0)}return this.parseIdent()},A.parseBindingList=function(i,l,C,M){for(var H=[],it=!0;!this.eat(i);)if(it?it=!1:this.expect(k.comma),l&&this.type===k.comma)H.push(null);else{if(C&&this.afterTrailingComma(i))break;if(this.type===k.ellipsis){var at=this.parseRestBinding();this.parseBindingListItem(at),H.push(at),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}else H.push(this.parseAssignableListItem(M))}return H},A.parseAssignableListItem=function(i){var l=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(l),l},A.parseBindingListItem=function(i){return i},A.parseMaybeDefault=function(i,l,C){if(C=C||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(k.eq))return C;var M=this.startNodeAt(i,l);return M.left=C,M.right=this.parseMaybeAssign(),this.finishNode(M,"AssignmentPattern")},A.checkLValSimple=function(i,l,C){l===void 0&&(l=we);var M=l!==we;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(M?"Binding ":"Assigning to ")+i.name+" in strict mode"),M&&(l===ae&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),C&&(ft(C,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),C[i.name]=!0),l!==t&&this.declareName(i.name,l,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":M&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return M&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,l,C);default:this.raise(i.start,(M?"Binding":"Assigning to")+" rvalue")}},A.checkLValPattern=function(i,l,C){switch(l===void 0&&(l=we),i.type){case"ObjectPattern":for(var M=0,H=i.properties;M<H.length;M+=1){var it=H[M];this.checkLValInnerPattern(it,l,C)}break;case"ArrayPattern":for(var at=0,bt=i.elements;at<bt.length;at+=1){var Mt=bt[at];Mt&&this.checkLValInnerPattern(Mt,l,C)}break;default:this.checkLValSimple(i,l,C)}},A.checkLValInnerPattern=function(i,l,C){switch(l===void 0&&(l=we),i.type){case"Property":this.checkLValInnerPattern(i.value,l,C);break;case"AssignmentPattern":this.checkLValPattern(i.left,l,C);break;case"RestElement":this.checkLValPattern(i.argument,l,C);break;default:this.checkLValPattern(i,l,C)}};var T=function(l,C,M,H,it){this.token=l,this.isExpr=!!C,this.preserveSpace=!!M,this.override=H,this.generator=!!it},w={b_stat:new T("{",!1),b_expr:new T("{",!0),b_tmpl:new T("${",!1),p_stat:new T("(",!1),p_expr:new T("(",!0),q_tmpl:new T("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new T("function",!1),f_expr:new T("function",!0),f_expr_gen:new T("function",!0,!1,null,!0),f_gen:new T("function",!1,!1,null,!0)},P=e.prototype;P.initialContext=function(){return[w.b_stat]},P.curContext=function(){return this.context[this.context.length-1]},P.braceIsBlock=function(i){var l=this.curContext();return l===w.f_expr||l===w.f_stat?!0:i===k.colon&&(l===w.b_stat||l===w.b_expr)?!l.isExpr:i===k._return||i===k.name&&this.exprAllowed?wt.test(this.input.slice(this.lastTokEnd,this.start)):i===k._else||i===k.semi||i===k.eof||i===k.parenR||i===k.arrow?!0:i===k.braceL?l===w.b_stat:i===k._var||i===k._const||i===k.name?!1:!this.exprAllowed},P.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var l=this.context[i];if(l.token==="function")return l.generator}return!1},P.updateContext=function(i){var l,C=this.type;C.keyword&&i===k.dot?this.exprAllowed=!1:(l=C.updateContext)?l.call(this,i):this.exprAllowed=C.beforeExpr},P.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)},k.parenR.updateContext=k.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===w.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr},k.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?w.b_stat:w.b_expr),this.exprAllowed=!0},k.dollarBraceL.updateContext=function(){this.context.push(w.b_tmpl),this.exprAllowed=!0},k.parenL.updateContext=function(i){var l=i===k._if||i===k._for||i===k._with||i===k._while;this.context.push(l?w.p_stat:w.p_expr),this.exprAllowed=!0},k.incDec.updateContext=function(){},k._function.updateContext=k._class.updateContext=function(i){i.beforeExpr&&i!==k._else&&!(i===k.semi&&this.curContext()!==w.p_stat)&&!(i===k._return&&wt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((i===k.colon||i===k.braceL)&&this.curContext()===w.b_stat)?this.context.push(w.f_expr):this.context.push(w.f_stat),this.exprAllowed=!1},k.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},k.backQuote.updateContext=function(){this.curContext()===w.q_tmpl?this.context.pop():this.context.push(w.q_tmpl),this.exprAllowed=!1},k.star.updateContext=function(i){if(i===k._function){var l=this.context.length-1;this.context[l]===w.f_expr?this.context[l]=w.f_expr_gen:this.context[l]=w.f_gen}this.exprAllowed=!0},k.name.updateContext=function(i){var l=!1;this.options.ecmaVersion>=6&&i!==k.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(l=!0),this.exprAllowed=l};var m=e.prototype;m.checkPropClash=function(i,l,C){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var M=i.key,H;switch(M.type){case"Identifier":H=M.name;break;case"Literal":H=String(M.value);break;default:return}var it=i.kind;if(this.options.ecmaVersion>=6){H==="__proto__"&&it==="init"&&(l.proto&&(C?C.doubleProto<0&&(C.doubleProto=M.start):this.raiseRecoverable(M.start,"Redefinition of __proto__ property")),l.proto=!0);return}H="$"+H;var at=l[H];if(at){var bt;it==="init"?bt=this.strict&&at.init||at.get||at.set:bt=at.init||at[it],bt&&this.raiseRecoverable(M.start,"Redefinition of property")}else at=l[H]={init:!1,get:!1,set:!1};at[it]=!0}},m.parseExpression=function(i,l){var C=this.start,M=this.startLoc,H=this.parseMaybeAssign(i,l);if(this.type===k.comma){var it=this.startNodeAt(C,M);for(it.expressions=[H];this.eat(k.comma);)it.expressions.push(this.parseMaybeAssign(i,l));return this.finishNode(it,"SequenceExpression")}return H},m.parseMaybeAssign=function(i,l,C){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var M=!1,H=-1,it=-1,at=-1;l?(H=l.parenthesizedAssign,it=l.trailingComma,at=l.doubleProto,l.parenthesizedAssign=l.trailingComma=-1):(l=new h,M=!0);var bt=this.start,Mt=this.startLoc;(this.type===k.parenL||this.type===k.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var ie=this.parseMaybeConditional(i,l);if(C&&(ie=C.call(this,ie,bt,Mt)),this.type.isAssign){var me=this.startNodeAt(bt,Mt);return me.operator=this.value,this.type===k.eq&&(ie=this.toAssignable(ie,!1,l)),M||(l.parenthesizedAssign=l.trailingComma=l.doubleProto=-1),l.shorthandAssign>=ie.start&&(l.shorthandAssign=-1),this.type===k.eq?this.checkLValPattern(ie):this.checkLValSimple(ie),me.left=ie,this.next(),me.right=this.parseMaybeAssign(i),at>-1&&(l.doubleProto=at),this.finishNode(me,"AssignmentExpression")}else M&&this.checkExpressionErrors(l,!0);return H>-1&&(l.parenthesizedAssign=H),it>-1&&(l.trailingComma=it),ie},m.parseMaybeConditional=function(i,l){var C=this.start,M=this.startLoc,H=this.parseExprOps(i,l);if(this.checkExpressionErrors(l))return H;if(this.eat(k.question)){var it=this.startNodeAt(C,M);return it.test=H,it.consequent=this.parseMaybeAssign(),this.expect(k.colon),it.alternate=this.parseMaybeAssign(i),this.finishNode(it,"ConditionalExpression")}return H},m.parseExprOps=function(i,l){var C=this.start,M=this.startLoc,H=this.parseMaybeUnary(l,!1,!1,i);return this.checkExpressionErrors(l)||H.start===C&&H.type==="ArrowFunctionExpression"?H:this.parseExprOp(H,C,M,-1,i)},m.parseExprOp=function(i,l,C,M,H){var it=this.type.binop;if(it!=null&&(!H||this.type!==k._in)&&it>M){var at=this.type===k.logicalOR||this.type===k.logicalAND,bt=this.type===k.coalesce;bt&&(it=k.logicalAND.binop);var Mt=this.value;this.next();var ie=this.start,me=this.startLoc,Ie=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,H),ie,me,it,H),$e=this.buildBinary(l,C,i,Ie,Mt,at||bt);return(at&&this.type===k.coalesce||bt&&(this.type===k.logicalOR||this.type===k.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp($e,l,C,M,H)}return i},m.buildBinary=function(i,l,C,M,H,it){M.type==="PrivateIdentifier"&&this.raise(M.start,"Private identifier can only be left side of binary expression");var at=this.startNodeAt(i,l);return at.left=C,at.operator=H,at.right=M,this.finishNode(at,it?"LogicalExpression":"BinaryExpression")},m.parseMaybeUnary=function(i,l,C,M){var H=this.start,it=this.startLoc,at;if(this.isContextual("await")&&this.canAwait)at=this.parseAwait(M),l=!0;else if(this.type.prefix){var bt=this.startNode(),Mt=this.type===k.incDec;bt.operator=this.value,bt.prefix=!0,this.next(),bt.argument=this.parseMaybeUnary(null,!0,Mt,M),this.checkExpressionErrors(i,!0),Mt?this.checkLValSimple(bt.argument):this.strict&&bt.operator==="delete"&&I(bt.argument)?this.raiseRecoverable(bt.start,"Deleting local variable in strict mode"):bt.operator==="delete"&&O(bt.argument)?this.raiseRecoverable(bt.start,"Private fields can not be deleted"):l=!0,at=this.finishNode(bt,Mt?"UpdateExpression":"UnaryExpression")}else if(!l&&this.type===k.privateId)(M||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),at=this.parsePrivateIdent(),this.type!==k._in&&this.unexpected();else{if(at=this.parseExprSubscripts(i,M),this.checkExpressionErrors(i))return at;for(;this.type.postfix&&!this.canInsertSemicolon();){var ie=this.startNodeAt(H,it);ie.operator=this.value,ie.prefix=!1,ie.argument=at,this.checkLValSimple(at),this.next(),at=this.finishNode(ie,"UpdateExpression")}}if(!C&&this.eat(k.starstar))if(l)this.unexpected(this.lastTokStart);else return this.buildBinary(H,it,at,this.parseMaybeUnary(null,!1,!1,M),"**",!1);else return at};function I(i){return i.type==="Identifier"||i.type==="ParenthesizedExpression"&&I(i.expression)}function O(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&O(i.expression)||i.type==="ParenthesizedExpression"&&O(i.expression)}m.parseExprSubscripts=function(i,l){var C=this.start,M=this.startLoc,H=this.parseExprAtom(i,l);if(H.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return H;var it=this.parseSubscripts(H,C,M,!1,l);return i&&it.type==="MemberExpression"&&(i.parenthesizedAssign>=it.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=it.start&&(i.parenthesizedBind=-1),i.trailingComma>=it.start&&(i.trailingComma=-1)),it},m.parseSubscripts=function(i,l,C,M,H){for(var it=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&this.potentialArrowAt===i.start,at=!1;;){var bt=this.parseSubscript(i,l,C,M,it,at,H);if(bt.optional&&(at=!0),bt===i||bt.type==="ArrowFunctionExpression"){if(at){var Mt=this.startNodeAt(l,C);Mt.expression=bt,bt=this.finishNode(Mt,"ChainExpression")}return bt}i=bt}},m.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(k.arrow)},m.parseSubscriptAsyncArrow=function(i,l,C,M){return this.parseArrowExpression(this.startNodeAt(i,l),C,!0,M)},m.parseSubscript=function(i,l,C,M,H,it,at){var bt=this.options.ecmaVersion>=11,Mt=bt&&this.eat(k.questionDot);M&&Mt&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var ie=this.eat(k.bracketL);if(ie||Mt&&this.type!==k.parenL&&this.type!==k.backQuote||this.eat(k.dot)){var me=this.startNodeAt(l,C);me.object=i,ie?(me.property=this.parseExpression(),this.expect(k.bracketR)):this.type===k.privateId&&i.type!=="Super"?me.property=this.parsePrivateIdent():me.property=this.parseIdent(this.options.allowReserved!=="never"),me.computed=!!ie,bt&&(me.optional=Mt),i=this.finishNode(me,"MemberExpression")}else if(!M&&this.eat(k.parenL)){var Ie=new h,$e=this.yieldPos,hn=this.awaitPos,Wi=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var zi=this.parseExprList(k.parenR,this.options.ecmaVersion>=8,!1,Ie);if(H&&!Mt&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Ie,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=$e,this.awaitPos=hn,this.awaitIdentPos=Wi,this.parseSubscriptAsyncArrow(l,C,zi,at);this.checkExpressionErrors(Ie,!0),this.yieldPos=$e||this.yieldPos,this.awaitPos=hn||this.awaitPos,this.awaitIdentPos=Wi||this.awaitIdentPos;var $i=this.startNodeAt(l,C);$i.callee=i,$i.arguments=zi,bt&&($i.optional=Mt),i=this.finishNode($i,"CallExpression")}else if(this.type===k.backQuote){(Mt||it)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var tn=this.startNodeAt(l,C);tn.tag=i,tn.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(tn,"TaggedTemplateExpression")}return i},m.parseExprAtom=function(i,l,C){this.type===k.slash&&this.readRegexp();var M,H=this.potentialArrowAt===this.start;switch(this.type){case k._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),M=this.startNode(),this.next(),this.type===k.parenL&&!this.allowDirectSuper&&this.raise(M.start,"super() call outside constructor of a subclass"),this.type!==k.dot&&this.type!==k.bracketL&&this.type!==k.parenL&&this.unexpected(),this.finishNode(M,"Super");case k._this:return M=this.startNode(),this.next(),this.finishNode(M,"ThisExpression");case k.name:var it=this.start,at=this.startLoc,bt=this.containsEsc,Mt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!bt&&Mt.name==="async"&&!this.canInsertSemicolon()&&this.eat(k._function))return this.overrideContext(w.f_expr),this.parseFunction(this.startNodeAt(it,at),0,!1,!0,l);if(H&&!this.canInsertSemicolon()){if(this.eat(k.arrow))return this.parseArrowExpression(this.startNodeAt(it,at),[Mt],!1,l);if(this.options.ecmaVersion>=8&&Mt.name==="async"&&this.type===k.name&&!bt&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Mt=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(k.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(it,at),[Mt],!0,l)}return Mt;case k.regexp:var ie=this.value;return M=this.parseLiteral(ie.value),M.regex={pattern:ie.pattern,flags:ie.flags},M;case k.num:case k.string:return this.parseLiteral(this.value);case k._null:case k._true:case k._false:return M=this.startNode(),M.value=this.type===k._null?null:this.type===k._true,M.raw=this.type.keyword,this.next(),this.finishNode(M,"Literal");case k.parenL:var me=this.start,Ie=this.parseParenAndDistinguishExpression(H,l);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Ie)&&(i.parenthesizedAssign=me),i.parenthesizedBind<0&&(i.parenthesizedBind=me)),Ie;case k.bracketL:return M=this.startNode(),this.next(),M.elements=this.parseExprList(k.bracketR,!0,!0,i),this.finishNode(M,"ArrayExpression");case k.braceL:return this.overrideContext(w.b_expr),this.parseObj(!1,i);case k._function:return M=this.startNode(),this.next(),this.parseFunction(M,0);case k._class:return this.parseClass(this.startNode(),!1);case k._new:return this.parseNew();case k.backQuote:return this.parseTemplate();case k._import:return this.options.ecmaVersion>=11?this.parseExprImport(C):this.unexpected();default:return this.parseExprAtomDefault()}},m.parseExprAtomDefault=function(){this.unexpected()},m.parseExprImport=function(i){var l=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===k.parenL&&!i)return this.parseDynamicImport(l);if(this.type===k.dot){var C=this.startNodeAt(l.start,l.loc&&l.loc.start);return C.name="import",l.meta=this.finishNode(C,"Identifier"),this.parseImportMeta(l)}else this.unexpected()},m.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(k.parenR)?i.options=null:(this.expect(k.comma),this.afterTrailingComma(k.parenR)?i.options=null:(i.options=this.parseMaybeAssign(),this.eat(k.parenR)||(this.expect(k.comma),this.afterTrailingComma(k.parenR)||this.unexpected())));else if(!this.eat(k.parenR)){var l=this.start;this.eat(k.comma)&&this.eat(k.parenR)?this.raiseRecoverable(l,"Trailing comma is not allowed in import()"):this.unexpected(l)}return this.finishNode(i,"ImportExpression")},m.parseImportMeta=function(i){this.next();var l=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),l&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")},m.parseLiteral=function(i){var l=this.startNode();return l.value=i,l.raw=this.input.slice(this.start,this.end),l.raw.charCodeAt(l.raw.length-1)===110&&(l.bigint=l.value!=null?l.value.toString():l.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(l,"Literal")},m.parseParenExpression=function(){this.expect(k.parenL);var i=this.parseExpression();return this.expect(k.parenR),i},m.shouldParseArrow=function(i){return!this.canInsertSemicolon()},m.parseParenAndDistinguishExpression=function(i,l){var C=this.start,M=this.startLoc,H,it=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var at=this.start,bt=this.startLoc,Mt=[],ie=!0,me=!1,Ie=new h,$e=this.yieldPos,hn=this.awaitPos,Wi;for(this.yieldPos=0,this.awaitPos=0;this.type!==k.parenR;)if(ie?ie=!1:this.expect(k.comma),it&&this.afterTrailingComma(k.parenR,!0)){me=!0;break}else if(this.type===k.ellipsis){Wi=this.start,Mt.push(this.parseParenItem(this.parseRestBinding())),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Mt.push(this.parseMaybeAssign(!1,Ie,this.parseParenItem));var zi=this.lastTokEnd,$i=this.lastTokEndLoc;if(this.expect(k.parenR),i&&this.shouldParseArrow(Mt)&&this.eat(k.arrow))return this.checkPatternErrors(Ie,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=$e,this.awaitPos=hn,this.parseParenArrowList(C,M,Mt,l);(!Mt.length||me)&&this.unexpected(this.lastTokStart),Wi&&this.unexpected(Wi),this.checkExpressionErrors(Ie,!0),this.yieldPos=$e||this.yieldPos,this.awaitPos=hn||this.awaitPos,Mt.length>1?(H=this.startNodeAt(at,bt),H.expressions=Mt,this.finishNodeAt(H,"SequenceExpression",zi,$i)):H=Mt[0]}else H=this.parseParenExpression();if(this.options.preserveParens){var tn=this.startNodeAt(C,M);return tn.expression=H,this.finishNode(tn,"ParenthesizedExpression")}else return H},m.parseParenItem=function(i){return i},m.parseParenArrowList=function(i,l,C,M){return this.parseArrowExpression(this.startNodeAt(i,l),C,!1,M)};var R=[];m.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===k.dot){var l=this.startNodeAt(i.start,i.loc&&i.loc.start);l.name="new",i.meta=this.finishNode(l,"Identifier"),this.next();var C=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),C&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var M=this.start,H=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),M,H,!0,!1),this.eat(k.parenL)?i.arguments=this.parseExprList(k.parenR,this.options.ecmaVersion>=8,!1):i.arguments=R,this.finishNode(i,"NewExpression")},m.parseTemplateElement=function(i){var l=i.isTagged,C=this.startNode();return this.type===k.invalidTemplate?(l||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),C.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):C.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),C.tail=this.type===k.backQuote,this.finishNode(C,"TemplateElement")},m.parseTemplate=function(i){i===void 0&&(i={});var l=i.isTagged;l===void 0&&(l=!1);var C=this.startNode();this.next(),C.expressions=[];var M=this.parseTemplateElement({isTagged:l});for(C.quasis=[M];!M.tail;)this.type===k.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(k.dollarBraceL),C.expressions.push(this.parseExpression()),this.expect(k.braceR),C.quasis.push(M=this.parseTemplateElement({isTagged:l}));return this.next(),this.finishNode(C,"TemplateLiteral")},m.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===k.name||this.type===k.num||this.type===k.string||this.type===k.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===k.star)&&!wt.test(this.input.slice(this.lastTokEnd,this.start))},m.parseObj=function(i,l){var C=this.startNode(),M=!0,H={};for(C.properties=[],this.next();!this.eat(k.braceR);){if(M)M=!1;else if(this.expect(k.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(k.braceR))break;var it=this.parseProperty(i,l);i||this.checkPropClash(it,H,l),C.properties.push(it)}return this.finishNode(C,i?"ObjectPattern":"ObjectExpression")},m.parseProperty=function(i,l){var C=this.startNode(),M,H,it,at;if(this.options.ecmaVersion>=9&&this.eat(k.ellipsis))return i?(C.argument=this.parseIdent(!1),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(C,"RestElement")):(C.argument=this.parseMaybeAssign(!1,l),this.type===k.comma&&l&&l.trailingComma<0&&(l.trailingComma=this.start),this.finishNode(C,"SpreadElement"));this.options.ecmaVersion>=6&&(C.method=!1,C.shorthand=!1,(i||l)&&(it=this.start,at=this.startLoc),i||(M=this.eat(k.star)));var bt=this.containsEsc;return this.parsePropertyName(C),!i&&!bt&&this.options.ecmaVersion>=8&&!M&&this.isAsyncProp(C)?(H=!0,M=this.options.ecmaVersion>=9&&this.eat(k.star),this.parsePropertyName(C)):H=!1,this.parsePropertyValue(C,i,M,H,it,at,l,bt),this.finishNode(C,"Property")},m.parseGetterSetter=function(i){var l=i.key.name;this.parsePropertyName(i),i.value=this.parseMethod(!1),i.kind=l;var C=i.kind==="get"?0:1;if(i.value.params.length!==C){var M=i.value.start;i.kind==="get"?this.raiseRecoverable(M,"getter should have no params"):this.raiseRecoverable(M,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")},m.parsePropertyValue=function(i,l,C,M,H,it,at,bt){(C||M)&&this.type===k.colon&&this.unexpected(),this.eat(k.colon)?(i.value=l?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,at),i.kind="init"):this.options.ecmaVersion>=6&&this.type===k.parenL?(l&&this.unexpected(),i.method=!0,i.value=this.parseMethod(C,M),i.kind="init"):!l&&!bt&&this.options.ecmaVersion>=5&&!i.computed&&i.key.type==="Identifier"&&(i.key.name==="get"||i.key.name==="set")&&this.type!==k.comma&&this.type!==k.braceR&&this.type!==k.eq?((C||M)&&this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((C||M)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=H),l?i.value=this.parseMaybeDefault(H,it,this.copyNode(i.key)):this.type===k.eq&&at?(at.shorthandAssign<0&&(at.shorthandAssign=this.start),i.value=this.parseMaybeDefault(H,it,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.kind="init",i.shorthand=!0):this.unexpected()},m.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(k.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(k.bracketR),i.key;i.computed=!1}return i.key=this.type===k.num||this.type===k.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},m.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)},m.parseMethod=function(i,l,C){var M=this.startNode(),H=this.yieldPos,it=this.awaitPos,at=this.awaitIdentPos;return this.initFunction(M),this.options.ecmaVersion>=6&&(M.generator=i),this.options.ecmaVersion>=8&&(M.async=!!l),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Xe(l,M.generator)|Zt|(C?_e:0)),this.expect(k.parenL),M.params=this.parseBindingList(k.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(M,!1,!0,!1),this.yieldPos=H,this.awaitPos=it,this.awaitIdentPos=at,this.finishNode(M,"FunctionExpression")},m.parseArrowExpression=function(i,l,C,M){var H=this.yieldPos,it=this.awaitPos,at=this.awaitIdentPos;return this.enterScope(Xe(C,!1)|Gt),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!C),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(l,!0),this.parseFunctionBody(i,!0,!1,M),this.yieldPos=H,this.awaitPos=it,this.awaitIdentPos=at,this.finishNode(i,"ArrowFunctionExpression")},m.parseFunctionBody=function(i,l,C,M){var H=l&&this.type!==k.braceL,it=this.strict,at=!1;if(H)i.body=this.parseMaybeAssign(M),i.expression=!0,this.checkParams(i,!1);else{var bt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!it||bt)&&(at=this.strictDirective(this.end),at&&bt&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Mt=this.labels;this.labels=[],at&&(this.strict=!0),this.checkParams(i,!it&&!at&&!l&&!C&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,t),i.body=this.parseBlock(!1,void 0,at&&!it),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=Mt}this.exitScope()},m.isSimpleParamList=function(i){for(var l=0,C=i;l<C.length;l+=1){var M=C[l];if(M.type!=="Identifier")return!1}return!0},m.checkParams=function(i,l){for(var C=Object.create(null),M=0,H=i.params;M<H.length;M+=1){var it=H[M];this.checkLValInnerPattern(it,Ke,l?null:C)}},m.parseExprList=function(i,l,C,M){for(var H=[],it=!0;!this.eat(i);){if(it)it=!1;else if(this.expect(k.comma),l&&this.afterTrailingComma(i))break;var at=void 0;C&&this.type===k.comma?at=null:this.type===k.ellipsis?(at=this.parseSpread(M),M&&this.type===k.comma&&M.trailingComma<0&&(M.trailingComma=this.start)):at=this.parseMaybeAssign(!1,M),H.push(at)}return H},m.checkUnreserved=function(i){var l=i.start,C=i.end,M=i.name;if(this.inGenerator&&M==="yield"&&this.raiseRecoverable(l,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&M==="await"&&this.raiseRecoverable(l,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&qe)&&M==="arguments"&&this.raiseRecoverable(l,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(M==="arguments"||M==="await")&&this.raise(l,"Cannot use "+M+" in class static initialization block"),this.keywords.test(M)&&this.raise(l,"Unexpected keyword '"+M+"'"),!(this.options.ecmaVersion<6&&this.input.slice(l,C).indexOf("\\")!==-1)){var H=this.strict?this.reservedWordsStrict:this.reservedWords;H.test(M)&&(!this.inAsync&&M==="await"&&this.raiseRecoverable(l,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(l,"The keyword '"+M+"' is reserved"))}},m.parseIdent=function(i){var l=this.parseIdentNode();return this.next(!!i),this.finishNode(l,"Identifier"),i||(this.checkUnreserved(l),l.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=l.start)),l},m.parseIdentNode=function(){var i=this.startNode();return this.type===k.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=k.name):this.unexpected(),i},m.parsePrivateIdent=function(){var i=this.startNode();return this.type===k.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i},m.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var l=this.startNode();return this.next(),this.type===k.semi||this.canInsertSemicolon()||this.type!==k.star&&!this.type.startsExpr?(l.delegate=!1,l.argument=null):(l.delegate=this.eat(k.star),l.argument=this.parseMaybeAssign(i)),this.finishNode(l,"YieldExpression")},m.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var l=this.startNode();return this.next(),l.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(l,"AwaitExpression")};var E=e.prototype;E.raise=function(i,l){var C=Se(this.input,i);l+=" ("+C.line+":"+C.column+")",this.sourceFile&&(l+=" in "+this.sourceFile);var M=new SyntaxError(l);throw M.pos=i,M.loc=C,M.raisedAt=this.pos,M},E.raiseRecoverable=E.raise,E.curPosition=function(){if(this.options.locations)return new ge(this.curLine,this.pos-this.lineStart)};var B=e.prototype,U=function(l){this.flags=l,this.var=[],this.lexical=[],this.functions=[]};B.enterScope=function(i){this.scopeStack.push(new U(i))},B.exitScope=function(){this.scopeStack.pop()},B.treatFunctionsAsVarInScope=function(i){return i.flags&ve||!this.inModule&&i.flags&ee},B.declareName=function(i,l,C){var M=!1;if(l===ae){var H=this.currentScope();M=H.lexical.indexOf(i)>-1||H.functions.indexOf(i)>-1||H.var.indexOf(i)>-1,H.lexical.push(i),this.inModule&&H.flags&ee&&delete this.undefinedExports[i]}else if(l===Jt){var it=this.currentScope();it.lexical.push(i)}else if(l===ci){var at=this.currentScope();this.treatFunctionsAsVar?M=at.lexical.indexOf(i)>-1:M=at.lexical.indexOf(i)>-1||at.var.indexOf(i)>-1,at.functions.push(i)}else for(var bt=this.scopeStack.length-1;bt>=0;--bt){var Mt=this.scopeStack[bt];if(Mt.lexical.indexOf(i)>-1&&!(Mt.flags&Qt&&Mt.lexical[0]===i)||!this.treatFunctionsAsVarInScope(Mt)&&Mt.functions.indexOf(i)>-1){M=!0;break}if(Mt.var.push(i),this.inModule&&Mt.flags&ee&&delete this.undefinedExports[i],Mt.flags&qe)break}M&&this.raiseRecoverable(C,"Identifier '"+i+"' has already been declared")},B.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)},B.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},B.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var l=this.scopeStack[i];if(l.flags&(qe|Ae|be))return l}},B.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var l=this.scopeStack[i];if(l.flags&(qe|Ae|be)&&!(l.flags&Gt))return l}};var W=function(l,C,M){this.type="",this.start=C,this.end=0,l.options.locations&&(this.loc=new Ut(l,M)),l.options.directSourceFile&&(this.sourceFile=l.options.directSourceFile),l.options.ranges&&(this.range=[C,0])},K=e.prototype;K.startNode=function(){return new W(this,this.start,this.startLoc)},K.startNodeAt=function(i,l){return new W(this,i,l)};function F(i,l,C,M){return i.type=l,i.end=C,this.options.locations&&(i.loc.end=M),this.options.ranges&&(i.range[1]=C),i}K.finishNode=function(i,l){return F.call(this,i,l,this.lastTokEnd,this.lastTokEndLoc)},K.finishNodeAt=function(i,l,C,M){return F.call(this,i,l,C,M)},K.copyNode=function(i){var l=new W(this,i.start,this.startLoc);for(var C in i)l[C]=i[C];return l};var X="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",Q="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",tt=Q+" Extended_Pictographic",et=tt,rt=et+" EBase EComp EMod EPres ExtPict",mt=rt,Ct=mt,Et={9:Q,10:tt,11:et,12:rt,13:mt,14:Ct},Ot="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",ct={9:"",10:"",11:"",12:"",13:"",14:Ot},dt="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Tt="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",zt=Tt+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Rt=zt+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Xt=Rt+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",jt=Xt+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ne=jt+" "+X,ce={9:Tt,10:zt,11:Rt,12:Xt,13:jt,14:ne},$t={};function He(i){var l=$t[i]={binary:Pt(Et[i]+" "+dt),binaryOfStrings:Pt(ct[i]),nonBinary:{General_Category:Pt(dt),Script:Pt(ce[i])}};l.nonBinary.Script_Extensions=l.nonBinary.Script,l.nonBinary.gc=l.nonBinary.General_Category,l.nonBinary.sc=l.nonBinary.Script,l.nonBinary.scx=l.nonBinary.Script_Extensions}for(var ze=0,Ye=[9,10,11,12,13,14];ze<Ye.length;ze+=1){var Ve=Ye[ze];He(Ve)}var St=e.prototype,Ee=function(l,C){this.parent=l,this.base=C||this};Ee.prototype.separatedFrom=function(l){for(var C=this;C;C=C.parent)for(var M=l;M;M=M.parent)if(C.base===M.base&&C!==M)return!0;return!1},Ee.prototype.sibling=function(){return new Ee(this.parent,this.base)};var Me=function(l){this.parser=l,this.validFlags="gim"+(l.options.ecmaVersion>=6?"uy":"")+(l.options.ecmaVersion>=9?"s":"")+(l.options.ecmaVersion>=13?"d":"")+(l.options.ecmaVersion>=15?"v":""),this.unicodeProperties=$t[l.options.ecmaVersion>=14?14:l.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Me.prototype.reset=function(l,C,M){var H=M.indexOf("v")!==-1,it=M.indexOf("u")!==-1;this.start=l|0,this.source=C+"",this.flags=M,H&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=it&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=it&&this.parser.options.ecmaVersion>=9)},Me.prototype.raise=function(l){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+l)},Me.prototype.at=function(l,C){C===void 0&&(C=!1);var M=this.source,H=M.length;if(l>=H)return-1;var it=M.charCodeAt(l);if(!(C||this.switchU)||it<=55295||it>=57344||l+1>=H)return it;var at=M.charCodeAt(l+1);return at>=56320&&at<=57343?(it<<10)+at-56613888:it},Me.prototype.nextIndex=function(l,C){C===void 0&&(C=!1);var M=this.source,H=M.length;if(l>=H)return H;var it=M.charCodeAt(l),at;return!(C||this.switchU)||it<=55295||it>=57344||l+1>=H||(at=M.charCodeAt(l+1))<56320||at>57343?l+1:l+2},Me.prototype.current=function(l){return l===void 0&&(l=!1),this.at(this.pos,l)},Me.prototype.lookahead=function(l){return l===void 0&&(l=!1),this.at(this.nextIndex(this.pos,l),l)},Me.prototype.advance=function(l){l===void 0&&(l=!1),this.pos=this.nextIndex(this.pos,l)},Me.prototype.eat=function(l,C){return C===void 0&&(C=!1),this.current(C)===l?(this.advance(C),!0):!1},Me.prototype.eatChars=function(l,C){C===void 0&&(C=!1);for(var M=this.pos,H=0,it=l;H<it.length;H+=1){var at=it[H],bt=this.at(M,C);if(bt===-1||bt!==at)return!1;M=this.nextIndex(M,C)}return this.pos=M,!0},St.validateRegExpFlags=function(i){for(var l=i.validFlags,C=i.flags,M=!1,H=!1,it=0;it<C.length;it++){var at=C.charAt(it);l.indexOf(at)===-1&&this.raise(i.start,"Invalid regular expression flag"),C.indexOf(at,it+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),at==="u"&&(M=!0),at==="v"&&(H=!0)}this.options.ecmaVersion>=15&&M&&H&&this.raise(i.start,"Invalid regular expression flag")};function Ue(i){for(var l in i)return!0;return!1}St.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&Ue(i.groupNames)&&(i.switchN=!0,this.regexp_pattern(i))},St.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames=Object.create(null),i.backReferenceNames.length=0,i.branchID=null,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var l=0,C=i.backReferenceNames;l<C.length;l+=1){var M=C[l];i.groupNames[M]||i.raise("Invalid named capture referenced")}},St.regexp_disjunction=function(i){var l=this.options.ecmaVersion>=16;for(l&&(i.branchID=new Ee(i.branchID,null)),this.regexp_alternative(i);i.eat(124);)l&&(i.branchID=i.branchID.sibling()),this.regexp_alternative(i);l&&(i.branchID=i.branchID.parent),this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")},St.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););},St.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1},St.regexp_eatAssertion=function(i){var l=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=l}if(i.eat(40)&&i.eat(63)){var C=!1;if(this.options.ecmaVersion>=9&&(C=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!C,!0}return i.pos=l,!1},St.regexp_eatQuantifier=function(i,l){return l===void 0&&(l=!1),this.regexp_eatQuantifierPrefix(i,l)?(i.eat(63),!0):!1},St.regexp_eatQuantifierPrefix=function(i,l){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,l)},St.regexp_eatBracedQuantifier=function(i,l){var C=i.pos;if(i.eat(123)){var M=0,H=-1;if(this.regexp_eatDecimalDigits(i)&&(M=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(H=i.lastIntValue),i.eat(125)))return H!==-1&&H<M&&!l&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!l&&i.raise("Incomplete quantifier"),i.pos=C}return!1},St.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)},St.regexp_eatReverseSolidusAtomEscape=function(i){var l=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=l}return!1},St.regexp_eatUncapturingGroup=function(i){var l=i.pos;if(i.eat(40)){if(i.eat(63)){if(this.options.ecmaVersion>=16){var C=this.regexp_eatModifiers(i),M=i.eat(45);if(C||M){for(var H=0;H<C.length;H++){var it=C.charAt(H);C.indexOf(it,H+1)>-1&&i.raise("Duplicate regular expression modifiers")}if(M){var at=this.regexp_eatModifiers(i);!C&&!at&&i.current()===58&&i.raise("Invalid regular expression modifiers");for(var bt=0;bt<at.length;bt++){var Mt=at.charAt(bt);(at.indexOf(Mt,bt+1)>-1||C.indexOf(Mt)>-1)&&i.raise("Duplicate regular expression modifiers")}}}}if(i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}}i.pos=l}return!1},St.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1},St.regexp_eatModifiers=function(i){for(var l="",C=0;(C=i.current())!==-1&&pi(C);)l+=Vt(C),i.advance();return l};function pi(i){return i===105||i===109||i===115}St.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)},St.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1},St.regexp_eatSyntaxCharacter=function(i){var l=i.current();return ki(l)?(i.lastIntValue=l,i.advance(),!0):!1};function ki(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}St.regexp_eatPatternCharacters=function(i){for(var l=i.pos,C=0;(C=i.current())!==-1&&!ki(C);)i.advance();return i.pos!==l},St.regexp_eatExtendedPatternCharacter=function(i){var l=i.current();return l!==-1&&l!==36&&!(l>=40&&l<=43)&&l!==46&&l!==63&&l!==91&&l!==94&&l!==124?(i.advance(),!0):!1},St.regexp_groupSpecifier=function(i){if(i.eat(63)){this.regexp_eatGroupName(i)||i.raise("Invalid group");var l=this.options.ecmaVersion>=16,C=i.groupNames[i.lastStringValue];if(C)if(l)for(var M=0,H=C;M<H.length;M+=1){var it=H[M];it.separatedFrom(i.branchID)||i.raise("Duplicate capture group name")}else i.raise("Duplicate capture group name");l?(C||(i.groupNames[i.lastStringValue]=[])).push(i.branchID):i.groupNames[i.lastStringValue]=!0}},St.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1},St.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=Vt(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=Vt(i.lastIntValue);return!0}return!1},St.regexp_eatRegExpIdentifierStart=function(i){var l=i.pos,C=this.options.ecmaVersion>=11,M=i.current(C);return i.advance(C),M===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,C)&&(M=i.lastIntValue),vi(M)?(i.lastIntValue=M,!0):(i.pos=l,!1)};function vi(i){return st(i,!0)||i===36||i===95}St.regexp_eatRegExpIdentifierPart=function(i){var l=i.pos,C=this.options.ecmaVersion>=11,M=i.current(C);return i.advance(C),M===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,C)&&(M=i.lastIntValue),_i(M)?(i.lastIntValue=M,!0):(i.pos=l,!1)};function _i(i){return nt(i,!0)||i===36||i===95||i===8204||i===8205}St.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i)?!0:(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)},St.regexp_eatBackReference=function(i){var l=i.pos;if(this.regexp_eatDecimalEscape(i)){var C=i.lastIntValue;if(i.switchU)return C>i.maxBackReference&&(i.maxBackReference=C),!0;if(C<=i.numCapturingParens)return!0;i.pos=l}return!1},St.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1},St.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)},St.regexp_eatCControlLetter=function(i){var l=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=l}return!1},St.regexp_eatZero=function(i){return i.current()===48&&!Ji(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1},St.regexp_eatControlEscape=function(i){var l=i.current();return l===116?(i.lastIntValue=9,i.advance(),!0):l===110?(i.lastIntValue=10,i.advance(),!0):l===118?(i.lastIntValue=11,i.advance(),!0):l===102?(i.lastIntValue=12,i.advance(),!0):l===114?(i.lastIntValue=13,i.advance(),!0):!1},St.regexp_eatControlLetter=function(i){var l=i.current();return ri(l)?(i.lastIntValue=l%32,i.advance(),!0):!1};function ri(i){return i>=65&&i<=90||i>=97&&i<=122}St.regexp_eatRegExpUnicodeEscapeSequence=function(i,l){l===void 0&&(l=!1);var C=i.pos,M=l||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var H=i.lastIntValue;if(M&&H>=55296&&H<=56319){var it=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var at=i.lastIntValue;if(at>=56320&&at<=57343)return i.lastIntValue=(H-55296)*1024+(at-56320)+65536,!0}i.pos=it,i.lastIntValue=H}return!0}if(M&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&fi(i.lastIntValue))return!0;M&&i.raise("Invalid unicode escape"),i.pos=C}return!1};function fi(i){return i>=0&&i<=1114111}St.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var l=i.current();return l!==99&&(!i.switchN||l!==107)?(i.lastIntValue=l,i.advance(),!0):!1},St.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var l=i.current();if(l>=49&&l<=57){do i.lastIntValue=10*i.lastIntValue+(l-48),i.advance();while((l=i.current())>=48&&l<=57);return!0}return!1};var Ai=0,We=1,si=2;St.regexp_eatCharacterClassEscape=function(i){var l=i.current();if(vr(l))return i.lastIntValue=-1,i.advance(),We;var C=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((C=l===80)||l===112)){i.lastIntValue=-1,i.advance();var M;if(i.eat(123)&&(M=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return C&&M===si&&i.raise("Invalid property name"),M;i.raise("Invalid property name")}return Ai};function vr(i){return i===100||i===68||i===115||i===83||i===119||i===87}St.regexp_eatUnicodePropertyValueExpression=function(i){var l=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var C=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var M=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,C,M),We}}if(i.pos=l,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var H=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,H)}return Ai},St.regexp_validateUnicodePropertyNameAndValue=function(i,l,C){ft(i.unicodeProperties.nonBinary,l)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[l].test(C)||i.raise("Invalid property value")},St.regexp_validateUnicodePropertyNameOrValue=function(i,l){if(i.unicodeProperties.binary.test(l))return We;if(i.switchV&&i.unicodeProperties.binaryOfStrings.test(l))return si;i.raise("Invalid property name")},St.regexp_eatUnicodePropertyName=function(i){var l=0;for(i.lastStringValue="";qn(l=i.current());)i.lastStringValue+=Vt(l),i.advance();return i.lastStringValue!==""};function qn(i){return ri(i)||i===95}St.regexp_eatUnicodePropertyValue=function(i){var l=0;for(i.lastStringValue="";_r(l=i.current());)i.lastStringValue+=Vt(l),i.advance();return i.lastStringValue!==""};function _r(i){return qn(i)||Ji(i)}St.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)},St.regexp_eatCharacterClass=function(i){if(i.eat(91)){var l=i.eat(94),C=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),l&&C===si&&i.raise("Negated character class may contain strings"),!0}return!1},St.regexp_classContents=function(i){return i.current()===93?We:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),We)},St.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var l=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var C=i.lastIntValue;i.switchU&&(l===-1||C===-1)&&i.raise("Invalid character class"),l!==-1&&C!==-1&&l>C&&i.raise("Range out of order in character class")}}},St.regexp_eatClassAtom=function(i){var l=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var C=i.current();(C===99||Hi(C))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=l}var M=i.current();return M!==93?(i.lastIntValue=M,i.advance(),!0):!1},St.regexp_eatClassEscape=function(i){var l=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=l}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)},St.regexp_classSetExpression=function(i){var l=We,C;if(!this.regexp_eatClassSetRange(i))if(C=this.regexp_eatClassSetOperand(i)){C===si&&(l=si);for(var M=i.pos;i.eatChars([38,38]);){if(i.current()!==38&&(C=this.regexp_eatClassSetOperand(i))){C!==si&&(l=We);continue}i.raise("Invalid character in character class")}if(M!==i.pos)return l;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(M!==i.pos)return l}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(C=this.regexp_eatClassSetOperand(i),!C)return l;C===si&&(l=si)}},St.regexp_eatClassSetRange=function(i){var l=i.pos;if(this.regexp_eatClassSetCharacter(i)){var C=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var M=i.lastIntValue;return C!==-1&&M!==-1&&C>M&&i.raise("Range out of order in character class"),!0}i.pos=l}return!1},St.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?We:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)},St.regexp_eatNestedClass=function(i){var l=i.pos;if(i.eat(91)){var C=i.eat(94),M=this.regexp_classContents(i);if(i.eat(93))return C&&M===si&&i.raise("Negated character class may contain strings"),M;i.pos=l}if(i.eat(92)){var H=this.regexp_eatCharacterClassEscape(i);if(H)return H;i.pos=l}return null},St.regexp_eatClassStringDisjunction=function(i){var l=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var C=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return C}else i.raise("Invalid escape");i.pos=l}return null},St.regexp_classStringDisjunctionContents=function(i){for(var l=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===si&&(l=si);return l},St.regexp_classString=function(i){for(var l=0;this.regexp_eatClassSetCharacter(i);)l++;return l===1?We:si},St.regexp_eatClassSetCharacter=function(i){var l=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=l,!1);var C=i.current();return C<0||C===i.lookahead()&&mr(C)||yr(C)?!1:(i.advance(),i.lastIntValue=C,!0)};function mr(i){return i===33||i>=35&&i<=38||i>=42&&i<=44||i===46||i>=58&&i<=64||i===94||i===96||i===126}function yr(i){return i===40||i===41||i===45||i===47||i>=91&&i<=93||i>=123&&i<=125}St.regexp_eatClassSetReservedPunctuator=function(i){var l=i.current();return Pn(l)?(i.lastIntValue=l,i.advance(),!0):!1};function Pn(i){return i===33||i===35||i===37||i===38||i===44||i===45||i>=58&&i<=62||i===64||i===96||i===126}St.regexp_eatClassControlLetter=function(i){var l=i.current();return Ji(l)||l===95?(i.lastIntValue=l%32,i.advance(),!0):!1},St.regexp_eatHexEscapeSequence=function(i){var l=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=l}return!1},St.regexp_eatDecimalDigits=function(i){var l=i.pos,C=0;for(i.lastIntValue=0;Ji(C=i.current());)i.lastIntValue=10*i.lastIntValue+(C-48),i.advance();return i.pos!==l};function Ji(i){return i>=48&&i<=57}St.regexp_eatHexDigits=function(i){var l=i.pos,C=0;for(i.lastIntValue=0;on(C=i.current());)i.lastIntValue=16*i.lastIntValue+ln(C),i.advance();return i.pos!==l};function on(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function ln(i){return i>=65&&i<=70?10+(i-65):i>=97&&i<=102?10+(i-97):i-48}St.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var l=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var C=i.lastIntValue;l<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=l*64+C*8+i.lastIntValue:i.lastIntValue=l*8+C}else i.lastIntValue=l;return!0}return!1},St.regexp_eatOctalDigit=function(i){var l=i.current();return Hi(l)?(i.lastIntValue=l-48,i.advance(),!0):(i.lastIntValue=0,!1)};function Hi(i){return i>=48&&i<=55}St.regexp_eatFixedHexDigits=function(i,l){var C=i.pos;i.lastIntValue=0;for(var M=0;M<l;++M){var H=i.current();if(!on(H))return i.pos=C,!1;i.lastIntValue=16*i.lastIntValue+ln(H),i.advance()}return!0};var bi=function(l){this.type=l.type,this.value=l.value,this.start=l.start,this.end=l.end,l.options.locations&&(this.loc=new Ut(l,l.startLoc,l.endLoc)),l.options.ranges&&(this.range=[l.start,l.end])},ue=e.prototype;ue.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new bi(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ue.getToken=function(){return this.next(),new bi(this)},typeof Symbol<"u"&&(ue[Symbol.iterator]=function(){var i=this;return{next:function(){var l=i.getToken();return{done:l.type===k.eof,value:l}}}}),ue.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(k.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())},ue.readToken=function(i){return st(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)},ue.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var l=this.input.charCodeAt(this.pos+1);return l<=56319||l>=57344?i:(i<<10)+l-56613888},ue.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),l=this.pos,C=this.input.indexOf("*/",this.pos+=2);if(C===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=C+2,this.options.locations)for(var M=void 0,H=l;(M=Lt(this.input,H,this.pos))>-1;)++this.curLine,H=this.lineStart=M;this.options.onComment&&this.options.onComment(!0,this.input.slice(l+2,C),l,this.pos,i,this.curPosition())},ue.skipLineComment=function(i){for(var l=this.pos,C=this.options.onComment&&this.curPosition(),M=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!qt(M);)M=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(l+i,this.pos),l,this.pos,C,this.curPosition())},ue.skipSpace=function(){t:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(i>8&&i<14||i>=5760&&yt.test(String.fromCharCode(i)))++this.pos;else break t}}},ue.finishToken=function(i,l){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var C=this.type;this.type=i,this.value=l,this.updateContext(C)},ue.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var l=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&l===46?(this.pos+=3,this.finishToken(k.ellipsis)):(++this.pos,this.finishToken(k.dot))},ue.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(k.assign,2):this.finishOp(k.slash,1)},ue.readToken_mult_modulo_exp=function(i){var l=this.input.charCodeAt(this.pos+1),C=1,M=i===42?k.star:k.modulo;return this.options.ecmaVersion>=7&&i===42&&l===42&&(++C,M=k.starstar,l=this.input.charCodeAt(this.pos+2)),l===61?this.finishOp(k.assign,C+1):this.finishOp(M,C)},ue.readToken_pipe_amp=function(i){var l=this.input.charCodeAt(this.pos+1);if(l===i){if(this.options.ecmaVersion>=12){var C=this.input.charCodeAt(this.pos+2);if(C===61)return this.finishOp(k.assign,3)}return this.finishOp(i===124?k.logicalOR:k.logicalAND,2)}return l===61?this.finishOp(k.assign,2):this.finishOp(i===124?k.bitwiseOR:k.bitwiseAND,1)},ue.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(k.assign,2):this.finishOp(k.bitwiseXOR,1)},ue.readToken_plus_min=function(i){var l=this.input.charCodeAt(this.pos+1);return l===i?l===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||wt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(k.incDec,2):l===61?this.finishOp(k.assign,2):this.finishOp(k.plusMin,1)},ue.readToken_lt_gt=function(i){var l=this.input.charCodeAt(this.pos+1),C=1;return l===i?(C=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+C)===61?this.finishOp(k.assign,C+1):this.finishOp(k.bitShift,C)):l===33&&i===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(l===61&&(C=2),this.finishOp(k.relational,C))},ue.readToken_eq_excl=function(i){var l=this.input.charCodeAt(this.pos+1);return l===61?this.finishOp(k.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&l===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(k.arrow)):this.finishOp(i===61?k.eq:k.prefix,1)},ue.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var l=this.input.charCodeAt(this.pos+1);if(l===46){var C=this.input.charCodeAt(this.pos+2);if(C<48||C>57)return this.finishOp(k.questionDot,2)}if(l===63){if(i>=12){var M=this.input.charCodeAt(this.pos+2);if(M===61)return this.finishOp(k.assign,3)}return this.finishOp(k.coalesce,2)}}return this.finishOp(k.question,1)},ue.readToken_numberSign=function(){var i=this.options.ecmaVersion,l=35;if(i>=13&&(++this.pos,l=this.fullCharCodeAtPos(),st(l,!0)||l===92))return this.finishToken(k.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Vt(l)+"'")},ue.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(k.parenL);case 41:return++this.pos,this.finishToken(k.parenR);case 59:return++this.pos,this.finishToken(k.semi);case 44:return++this.pos,this.finishToken(k.comma);case 91:return++this.pos,this.finishToken(k.bracketL);case 93:return++this.pos,this.finishToken(k.bracketR);case 123:return++this.pos,this.finishToken(k.braceL);case 125:return++this.pos,this.finishToken(k.braceR);case 58:return++this.pos,this.finishToken(k.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(k.backQuote);case 48:var l=this.input.charCodeAt(this.pos+1);if(l===120||l===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(l===111||l===79)return this.readRadixNumber(8);if(l===98||l===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(k.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Vt(i)+"'")},ue.finishOp=function(i,l){var C=this.input.slice(this.pos,this.pos+l);return this.pos+=l,this.finishToken(i,C)},ue.readRegexp=function(){for(var i,l,C=this.pos;;){this.pos>=this.input.length&&this.raise(C,"Unterminated regular expression");var M=this.input.charAt(this.pos);if(wt.test(M)&&this.raise(C,"Unterminated regular expression"),i)i=!1;else{if(M==="[")l=!0;else if(M==="]"&&l)l=!1;else if(M==="/"&&!l)break;i=M==="\\"}++this.pos}var H=this.input.slice(C,this.pos);++this.pos;var it=this.pos,at=this.readWord1();this.containsEsc&&this.unexpected(it);var bt=this.regexpState||(this.regexpState=new Me(this));bt.reset(C,H,at),this.validateRegExpFlags(bt),this.validateRegExpPattern(bt);var Mt=null;try{Mt=new RegExp(H,at)}catch{}return this.finishToken(k.regexp,{pattern:H,flags:at,value:Mt})},ue.readInt=function(i,l,C){for(var M=this.options.ecmaVersion>=12&&l===void 0,H=C&&this.input.charCodeAt(this.pos)===48,it=this.pos,at=0,bt=0,Mt=0,ie=l??1/0;Mt<ie;++Mt,++this.pos){var me=this.input.charCodeAt(this.pos),Ie=void 0;if(M&&me===95){H&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),bt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Mt===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),bt=me;continue}if(me>=97?Ie=me-97+10:me>=65?Ie=me-65+10:me>=48&&me<=57?Ie=me-48:Ie=1/0,Ie>=i)break;bt=me,at=at*i+Ie}return M&&bt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===it||l!=null&&this.pos-it!==l?null:at};function mi(i,l){return l?parseInt(i,8):parseFloat(i.replace(/_/g,""))}function Ci(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}ue.readRadixNumber=function(i){var l=this.pos;this.pos+=2;var C=this.readInt(i);return C==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(C=Ci(this.input.slice(l,this.pos)),++this.pos):st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,C)},ue.readNumber=function(i){var l=this.pos;!i&&this.readInt(10,void 0,!0)===null&&this.raise(l,"Invalid number");var C=this.pos-l>=2&&this.input.charCodeAt(l)===48;C&&this.strict&&this.raise(l,"Invalid number");var M=this.input.charCodeAt(this.pos);if(!C&&!i&&this.options.ecmaVersion>=11&&M===110){var H=Ci(this.input.slice(l,this.pos));return++this.pos,st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,H)}C&&/[89]/.test(this.input.slice(l,this.pos))&&(C=!1),M===46&&!C&&(++this.pos,this.readInt(10),M=this.input.charCodeAt(this.pos)),(M===69||M===101)&&!C&&(M=this.input.charCodeAt(++this.pos),(M===43||M===45)&&++this.pos,this.readInt(10)===null&&this.raise(l,"Invalid number")),st(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var it=mi(this.input.slice(l,this.pos),C);return this.finishToken(k.num,it)},ue.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),l;if(i===123){this.options.ecmaVersion<6&&this.unexpected();var C=++this.pos;l=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,l>1114111&&this.invalidStringToken(C,"Code point out of bounds")}else l=this.readHexChar(4);return l},ue.readString=function(i){for(var l="",C=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var M=this.input.charCodeAt(this.pos);if(M===i)break;M===92?(l+=this.input.slice(C,this.pos),l+=this.readEscapedChar(!1),C=this.pos):M===8232||M===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(qt(M)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return l+=this.input.slice(C,this.pos++),this.finishToken(k.string,l)};var yi={};ue.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===yi)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1},ue.invalidStringToken=function(i,l){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw yi;this.raise(i,l)},ue.readTmplToken=function(){for(var i="",l=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var C=this.input.charCodeAt(this.pos);if(C===96||C===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===k.template||this.type===k.invalidTemplate)?C===36?(this.pos+=2,this.finishToken(k.dollarBraceL)):(++this.pos,this.finishToken(k.backQuote)):(i+=this.input.slice(l,this.pos),this.finishToken(k.template,i));if(C===92)i+=this.input.slice(l,this.pos),i+=this.readEscapedChar(!0),l=this.pos;else if(qt(C)){switch(i+=this.input.slice(l,this.pos),++this.pos,C){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(C);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),l=this.pos}else++this.pos}},ue.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(k.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},ue.readEscapedChar=function(i){var l=this.input.charCodeAt(++this.pos);switch(++this.pos,l){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Vt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var C=this.pos-1;this.invalidStringToken(C,"Invalid escape sequence in template string")}default:if(l>=48&&l<=55){var M=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],H=parseInt(M,8);return H>255&&(M=M.slice(0,-1),H=parseInt(M,8)),this.pos+=M.length-1,l=this.input.charCodeAt(this.pos),(M!=="0"||l===56||l===57)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-M.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(H)}return qt(l)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(l)}},ue.readHexChar=function(i){var l=this.pos,C=this.readInt(16,i);return C===null&&this.invalidStringToken(l,"Bad character escape sequence"),C},ue.readWord1=function(){this.containsEsc=!1;for(var i="",l=!0,C=this.pos,M=this.options.ecmaVersion>=6;this.pos<this.input.length;){var H=this.fullCharCodeAtPos();if(nt(H,M))this.pos+=H<=65535?1:2;else if(H===92){this.containsEsc=!0,i+=this.input.slice(C,this.pos);var it=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var at=this.readCodePoint();(l?st:nt)(at,M)||this.invalidStringToken(it,"Invalid Unicode escape"),i+=Vt(at),C=this.pos}else break;l=!1}return i+this.input.slice(C,this.pos)},ue.readWord=function(){var i=this.readWord1(),l=k.name;return this.keywords.test(i)&&(l=_t[i]),this.finishToken(l,i)};var Ui="8.15.0";e.acorn={Parser:e,version:Ui,defaultOptions:he,Position:ge,SourceLocation:Ut,getLineInfo:Se,Node:W,TokenType:ut,tokTypes:k,keywordTypes:_t,TokContext:T,tokContexts:w,isIdentifierChar:nt,isIdentifierStart:st,Token:bi,isNewLine:qt,lineBreak:wt,lineBreakG:Nt,nonASCIIwhitespace:yt};function Hn(i,l){return e.parse(i,l)}function Un(i,l,C){return e.parseExpressionAt(i,l,C)}function Wn(i,l){return e.tokenizer(i,l)}o.Node=W,o.Parser=e,o.Position=ge,o.SourceLocation=Ut,o.TokContext=T,o.Token=bi,o.TokenType=ut,o.defaultOptions=he,o.getLineInfo=Se,o.isIdentifierChar=nt,o.isIdentifierStart=st,o.isNewLine=qt,o.keywordTypes=_t,o.lineBreak=wt,o.lineBreakG=Nt,o.nonASCIIwhitespace=yt,o.parse=Hn,o.parseExpressionAt=Un,o.tokContexts=w,o.tokTypes=k,o.tokenizer=Wn,o.version=Ui})}(Mr,Mr.exports)),Mr.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, JÃ¼rg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 JÃ¼rg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(r){(function(a,o){a=a||nu;var d=a.window,_=a.document,p=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],n=e.slice,s=Object.create,u=Object.getOwnPropertyDescriptor,h=Object.defineProperty,c=e.forEach||function(x,y){for(var L=0,A=this.length;L<A;L++)x.call(y,this[L],L,this)},f=function(x,y){for(var L in this)this.hasOwnProperty(L)&&x.call(y,this[L],L,this)},g=Object.assign||function(x){for(var y=1,L=arguments.length;y<L;y++){var A=arguments[y];for(var T in A)A.hasOwnProperty(T)&&(x[T]=A[T])}return x},v=function(x,y,L){if(x){var A=u(x,"length");(A&&typeof A.value=="number"?c:f).call(x,y,L=L||x)}return L};function b(x,y,L,A,T){var w={};function P(E,B){B=B||(B=u(y,E))&&(B.get?B:B.value),typeof B=="string"&&B[0]==="#"&&(B=x[B.substring(1)]||B);var U=typeof B=="function",W=B,K=T||U&&!B.base?B&&B.get?E in x:x[E]:null,F;(!T||!K)&&(U&&K&&(B.base=K),U&&A!==!1&&(F=E.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(w[F[3].toLowerCase()+F[4]]=F[2]),(!W||U||!W.get||typeof W.get!="function"||!S.isPlainObject(W))&&(W={value:W,writable:!0}),(u(x,E)||{configurable:!0}).configurable&&(W.configurable=!0,W.enumerable=L??!F),h(x,E,W))}if(y){for(var m in y)y.hasOwnProperty(m)&&!t.test(m)&&P(m);for(var m in w){var I=w[m],O=x["set"+I],R=x["get"+I]||O&&x["is"+I];R&&(A===!0||R.length===0)&&P(m,{get:R,set:O})}}return x}function S(){for(var x=0,y=arguments.length;x<y;x++){var L=arguments[x];L&&g(this,L)}return this}return b(S,{inject:function(x){if(x){var y=x.statics===!0?x:x.statics,L=x.beans,A=x.preserve;y!==x&&b(this.prototype,x,x.enumerable,L,A),b(this,y,null,L,A)}for(var T=1,w=arguments.length;T<w;T++)this.inject(arguments[T]);return this},extend:function(){for(var x=this,y,L,A=0,T,w=arguments.length;A<w&&!(y&&L);A++)T=arguments[A],y=y||T.initialize,L=L||T.prototype;return y=y||function(){x.apply(this,arguments)},L=y.prototype=L||s(this.prototype),h(L,"constructor",{value:y,writable:!0,configurable:!0}),b(y,this),arguments.length&&this.inject.apply(y,arguments),y.base=x,y}}).inject({enumerable:!1,initialize:S,set:S,inject:function(){for(var x=0,y=arguments.length;x<y;x++){var L=arguments[x];L&&b(this,L,L.enumerable,L.beans,L.preserve)}return this},extend:function(){var x=s(this);return x.inject.apply(x,arguments)},each:function(x,y){return v(this,x,y)},clone:function(){return new this.constructor(this)},statics:{set:g,each:v,create:s,define:h,describe:u,clone:function(x){return g(new x.constructor,x)},isPlainObject:function(x){var y=x!=null&&x.constructor;return y&&(y===Object||y===S||y.name==="Object")},pick:function(x,y){return x!==o?x:y},slice:function(x,y,L){return n.call(x,y,L)}}})};r.exports=p,p.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+p.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+(n==="number"?j.instance.number(t):n==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return p.importJSON(t,this)},exportJSON:function(t){return p.exportJSON(this,t)},toJSON:function(){return p.serialize(this)},set:function(t,e){return t&&p.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!p.exports[n]&&(p.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!p.equals(t[n],e[n]))return!1}else{var s=Object.keys(t),n=s.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var u=s[n];if(!(e.hasOwnProperty(u)&&p.equals(t[u],e[u])))return!1}}return!0}return!1},read:function(t,e,n,s){if(this===p){var u=this.peek(t,e);return t.__index++,u}var h=this.prototype,c=h._readIndex,f=e||c&&t.__index||0,g=t.length,v=t[f];if(s=s||g-f,v instanceof this||n&&n.readNull&&v==null&&s<=1)return c&&(t.__index=f+1),v&&n&&n.clone?v.clone():v;if(v=p.create(h),c&&(v.__read=!0),v=v.initialize.apply(v,f>0||f+s<g?p.slice(t,f,f+s):t)||v,c){t.__index=f+v.__read;var b=v.__filtered;b&&(t.__filtered=b,v.__filtered=o),v.__read=o}return v},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,s){for(var u=[],h,c=e||0,f=s?c+s:t.length,g=c;g<f;g++)u.push(Array.isArray(h=t[g])?this.read(h,0,n):this.read(t,g,n,1));return u},readNamed:function(t,e,n,s,u){var h=this.getNamed(t,e),c=h!==o;if(c){var f=t.__filtered;if(!f){var g=this.getSource(t);f=t.__filtered=p.create(g),f.__unfiltered=g}f[e]=o}return this.read(c?[h]:t,n,s,u)},readSupported:function(t,e){var n=this.getSource(t),s=this,u=!1;return n&&Object.keys(n).forEach(function(h){if(h in e){var c=s.readNamed(t,h);c!==o&&(e[h]=c),u=!0}}),u},getSource:function(t){var e=t.__source;if(e===o){var n=t.length===1&&t[0];e=t.__source=n&&p.isPlainObject(n)?n:null}return e},getNamed:function(t,e){var n=this.getSource(t);if(n)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,s){var u;function h(b){if(!(n&&b in n)&&!(u&&b in u)){var S=e[b];S!==o&&(t[b]=S)}}if(s){for(var c={},f=0,g,v=s.length;f<v;f++)(g=s[f])in e&&(h(g),c[g]=!0);u=c}return Object.keys(e.__unfiltered||e).forEach(h),t},isPlainValue:function(t,e){return p.isPlainObject(t)||Array.isArray(t)||e&&typeof t=="string"},serialize:function(t,e,n,s){e=e||{};var u=!s,h;if(u&&(e.formatter=new j(e.precision),s={length:0,definitions:{},references:{},add:function(S,x){var y="#"+S._id,L=this.references[y];if(!L){this.length++;var A=x.call(S),T=S._class;T&&A[0]!==T&&A.unshift(T),this.definitions[y]=A,L=this.references[y]=[y]}return L}}),t&&t._serialize){h=t._serialize(e,s);var c=t._class;c&&!t._compactSerialize&&(u||!n)&&h[0]!==c&&h.unshift(c)}else if(Array.isArray(t)){h=[];for(var f=0,g=t.length;f<g;f++)h[f]=p.serialize(t[f],e,n,s)}else if(p.isPlainObject(t)){h={};for(var v=Object.keys(t),f=0,g=v.length;f<g;f++){var b=v[f];h[b]=p.serialize(t[b],e,n,s)}}else typeof t=="number"?h=e.formatter.number(t,e.precision):h=t;return u&&s.length>0?[["dictionary",s.definitions],h]:h},deserialize:function(t,e,n,s,u){var h=t,c=!n,f=c&&t&&t.length&&t[0][0]==="dictionary";if(n=n||{},Array.isArray(t)){var g=t[0],v=g==="dictionary";if(t.length==1&&/^#/.test(g))return n.dictionary[g];g=p.exports[g],h=[];for(var b=g?1:0,S=t.length;b<S;b++)h.push(p.deserialize(t[b],e,n,v,f));if(g){var x=h;e?h=e(g,x,c||u):h=new g(x)}}else if(p.isPlainObject(t)){h={},s&&(n.dictionary=h);for(var y in t)h[y]=p.deserialize(t[y],e,n)}return f?h[1]:h},exportJSON:function(t,e){var n=p.serialize(t,e);return e&&e.asString==!1?n:JSON.stringify(n)},importJSON:function(t,e){return p.deserialize(typeof t=="string"?JSON.parse(t):t,function(n,s,u){var h=u&&e&&e.constructor===n,c=h?e:p.create(n.prototype);if(s.length===1&&c instanceof k&&(h||!(c instanceof Nt))){var f=s[0];p.isPlainObject(f)&&(f.insert=!1,h&&(s=s.concat([k.INSERT])))}return(h?c.set:n).apply(c,s),h&&(e=null),c})},push:function(t,e){var n=e.length;if(n<4096)t.push.apply(t,e);else{var s=t.length;t.length+=n;for(var u=0;u<n;u++)t[s+u]=e[u]}return t},splice:function(t,e,n,s){var u=e&&e.length,h=n===o;n=h?t.length:n,n>t.length&&(n=t.length);for(var c=0;c<u;c++)e[c]._index=n+c;if(h)return p.push(t,e),[];var f=[n,s];e&&p.push(f,e);for(var g=t.splice.apply(t,f),c=0,v=g.length;c<v;c++)g[c]._index=o;for(var c=n+u,v=t.length;c<v;c++)t[c]._index=c;return g},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var N={on:function(t,e){if(typeof t!="string")p.each(t,function(h,c){this.on(c,h)},this);else{var n=this._eventTypes,s=n&&n[t],u=this._callbacks=this._callbacks||{};u=u[t]=u[t]||[],u.indexOf(e)===-1&&(u.push(e),s&&s.install&&u.length===1&&s.install.call(this,t))}return this},off:function(t,e){if(typeof t!="string"){p.each(t,function(c,f){this.off(f,c)},this);return}var n=this._eventTypes,s=n&&n[t],u=this._callbacks&&this._callbacks[t],h;return u&&(!e||(h=u.indexOf(e))!==-1&&u.length===1?(s&&s.uninstall&&s.uninstall.call(this,t),delete this._callbacks[t]):h!==-1&&u.splice(h,1)),this},once:function(t,e){return this.on(t,function n(){e.apply(this,arguments),this.off(t,n)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var s=p.slice(arguments,1),u=e&&e.target&&!e.currentTarget;n=n.slice(),u&&(e.currentTarget=this);for(var h=0,c=n.length;h<c;h++)if(n[h].apply(this,s)==!1){e&&e.stop&&e.stop();break}return u&&delete e.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,s=t?"install":"uninstall";if(e){for(var u in n)if(n[u].length>0){var h=e[u],c=h&&h[s];c&&c.call(this,u)}}},statics:{inject:function t(e){var n=e._events;if(n){var s={};p.each(n,function(u,h){var c=typeof u=="string",f=c?u:h,g=p.capitalize(f),v=f.substring(2).toLowerCase();s[v]=c?{}:u,f="_"+f,e["get"+g]=function(){return this[f]},e["set"+g]=function(b){var S=this[f];S&&this.off(v,S),b&&this.on(v,b),this[f]=b}}),e._eventTypes=s}return t.base.apply(this,arguments)}}},z=p.extend({_class:"PaperScope",initialize:function t(){Jt=this,this.settings=new p({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=we.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:Ke.nativeModes},we.release(n)}if(!this.agent){var s=a.navigator.userAgent.toLowerCase(),u=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(s)||[])[0],h=u==="darwin"?"mac":u,c=e.agent=e.browser={platform:h};h&&(c[h]=!0),s.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(f,g,v,b,S){if(!c.chrome){var x=g==="opera"?b:/^(node|trident)$/.test(g)?S:v;c.version=x,c.versionNumber=parseFloat(x),g={trident:"msie",jsdom:"node"}[g]||g,c.name=g,c[g]=!0}}),c.chrome&&delete c.webkit,c.atom&&delete c.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var n=Jt.PaperScript.execute(t,this,e);return Yt.updateFocus(),n},install:function(t){var e=this;p.each(["project","view","tool"],function(s){p.define(t,s,{configurable:!0,get:function(){return e[s]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return Jt=this,this.project=new pt(t),this},createCanvas:function(t,e){return we.getCanvas(t,e)},activate:function(){Jt=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(var n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete z._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(n,s){return n[e](s)||n[e]("data-paper-"+s)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),q=p.extend(N,{initialize:function(t){this._scope=Jt,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(p.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),D={findItemBoundsCollisions:function(t,e,n){function s(c){for(var f=new Array(c.length),g=0;g<c.length;g++){var v=c[g].getBounds();f[g]=[v.left,v.top,v.right,v.bottom]}return f}var u=s(t),h=!e||e===t?u:s(e);return this.findBoundsCollisions(u,h,n||0)},findCurveBoundsCollisions:function(t,e,n,s){function u(x){for(var y=Math.min,L=Math.max,A=new Array(x.length),T=0;T<x.length;T++){var w=x[T];A[T]=[y(w[0],w[2],w[4],w[6]),y(w[1],w[3],w[5],w[7]),L(w[0],w[2],w[4],w[6]),L(w[1],w[3],w[5],w[7])]}return A}var h=u(t),c=!e||e===t?h:u(e);if(s){for(var f=this.findBoundsCollisions(h,c,n||0,!1,!0),g=this.findBoundsCollisions(h,c,n||0,!0,!0),v=[],b=0,S=f.length;b<S;b++)v[b]={hor:f[b],ver:g[b]};return v}return this.findBoundsCollisions(h,c,n||0)},findBoundsCollisions:function(t,e,n,s,u){var h=!e||t===e,c=h?t:t.concat(e),f=t.length,g=c.length;function v(Ct,Et,Ot){for(var ct=0,dt=Ct.length;ct<dt;){var Tt=dt+ct>>>1;c[Ct[Tt]][Et]<Ot?ct=Tt+1:dt=Tt}return ct-1}for(var b=s?1:0,S=b+2,x=s?0:1,y=x+2,L=new Array(g),A=0;A<g;A++)L[A]=A;L.sort(function(Ct,Et){return c[Ct][b]-c[Et][b]});for(var T=[],w=new Array(f),A=0;A<g;A++){var P=L[A],m=c[P],I=h?P:P-f,O=P<f,R=h||!O,E=O?[]:null;if(T.length){var B=v(T,S,m[b]-n)+1;if(T.splice(0,B),h&&u){E=E.concat(T);for(var U=0;U<T.length;U++){var W=T[U];w[W].push(I)}}else for(var K=m[y],F=m[x],U=0;U<T.length;U++){var W=T[U],X=c[W],Q=W<f,tt=h||W>=f;(u||(O&&tt||R&&Q)&&K>=X[x]-n&&F<=X[y]+n)&&(O&&tt&&E.push(h?W:W-f),R&&Q&&w[W].push(I))}}if(O&&(t===e&&E.push(P),w[P]=E),T.length){var et=m[S],rt=v(T,S,et);T.splice(rt+1,0,P)}else T.push(P)}for(var A=0;A<w.length;A++){var mt=w[A];mt&&mt.sort(function(Et,Ot){return Et-Ot})}return w}},j=p.extend({initialize:function(t){this.precision=p.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});j.instance=new j;var G=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,s=Math.sqrt,u=Math.pow,h=Math.log2||function(S){return Math.log(S)*Math.LOG2E},c=1e-12,f=112e-18;function g(S,x,y){return S<x?x:S>y?y:S}function v(S,x,y){function L(B){var U=B*134217729,W=B-U,K=W+U,F=B-K;return[K,F]}var A=x*x-S*y,T=x*x+S*y;if(n(A)*3<T){var w=L(S),P=L(x),m=L(y),I=x*x,O=P[0]*P[0]-I+2*P[0]*P[1]+P[1]*P[1],R=S*y,E=w[0]*m[0]-R+w[0]*m[1]+w[1]*m[0]+w[1]*m[1];A=I-R+(O-E)}return A}function b(){var S=Math.max.apply(Math,arguments);return S&&(S<1e-8||S>1e8)?u(2,-Math.round(h(S))):0}return{EPSILON:c,MACHINE_EPSILON:f,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(s(2)-1)/3,isZero:function(S){return S>=-c&&S<=c},isMachineZero:function(S){return S>=-f&&S<=f},clamp:g,integrate:function(S,x,y,L){for(var A=t[L-2],T=e[L-2],w=(y-x)*.5,P=w+x,m=0,I=L+1>>1,O=L&1?T[m++]*S(P):0;m<I;){var R=w*A[m];O+=T[m++]*(S(P+R)+S(P-R))}return w*O},findRoot:function(S,x,y,L,A,T,w){for(var P=0;P<T;P++){var m=S(y),I=m/x(y),O=y-I;if(n(I)<w){y=O;break}m>0?(A=y,y=O<=L?(L+A)*.5:O):(L=y,y=O>=A?(L+A)*.5:O)}return g(y,L,A)},solveQuadratic:function(S,x,y,L,A,T){var w,P=1/0;if(n(S)<c){if(n(x)<c)return n(y)<c?-1:0;w=-y/x}else{x*=-.5;var m=v(S,x,y);if(m&&n(m)<f){var I=b(n(S),n(x),n(y));I&&(S*=I,x*=I,y*=I,m=v(S,x,y))}if(m>=-f){var O=m<0?0:s(m),R=x+(x<0?-O:O);R===0?(w=y/S,P=-w):(w=R/S,P=y/R)}}var E=0,B=A==null,U=A-c,W=T+c;return isFinite(w)&&(B||w>U&&w<W)&&(L[E++]=B?w:g(w,A,T)),P!==w&&isFinite(P)&&(B||P>U&&P<W)&&(L[E++]=B?P:g(P,A,T)),E},solveCubic:function(S,x,y,L,A,T,w){var P=b(n(S),n(x),n(y),n(L)),m,I,O,R,E;P&&(S*=P,x*=P,y*=P,L*=P);function B(rt){m=rt;var mt=S*m;I=mt+x,O=I*m+y,R=(mt+I)*m+O,E=O*m+L}if(n(S)<c)S=x,I=y,O=L,m=1/0;else if(n(L)<c)I=x,O=y,m=0;else{B(-(x/S)/3);var U=E/S,W=u(n(U),1/3),K=U<0?-1:1,F=-R/S,X=F>0?1.324717957244746*Math.max(W,s(F)):W,Q=m-K*X;if(Q!==m){do B(Q),Q=R===0?m:m-E/R/(1+f);while(K*Q>K*m);n(S)*m*m>n(L/m)&&(O=-L/m,I=(O-y)/m)}}var tt=G.solveQuadratic(S,I,O,A,T,w),et=T==null;return isFinite(m)&&(tt===0||tt>0&&m!==A[0]&&m!==A[1])&&(et||m>T-c&&m<w+c)&&(A[tt++]=et?m:g(m,T,w)),tt}}},$={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}else return this._id++}},V=p.extend({_class:"Point",_readIndex:!0,initialize:function(e,n){var s=typeof e,u=this.__read,h=0;if(s==="number"){var c=typeof n=="number";this._set(e,c?n:e),u&&(h=c?2:1)}else if(s==="undefined"||e===null)this._set(0,0),u&&(h=e===null?1:0);else{var f=s==="string"?e.split(/[\s,]+/)||[]:e;h=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"x"in f?this._set(f.x||0,f.y||0):"width"in f?this._set(f.width||0,f.height||0):"angle"in f?(this._set(f.length||0,0),this.setAngle(f.angle||0)):(this._set(0,0),h=0)}return u&&(this.__read=h),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new V(this.x,this.y)},toString:function(){var t=j.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();G.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=V.read(arguments),e=this.getLength()*t.getLength();if(G.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=V.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,e=V.read(t),n=e.x-this.x,s=e.y-this.y,u=n*n+s*s,h=p.read(t);return h?u:Math.sqrt(u)},normalize:function(t){t===o&&(t=1);var e=this.getLength(),n=e!==0?t/e:0,s=new V(this.x*n,this.y*n);return n>=0&&(s._angle=this._angle),s},rotate:function(t,e){if(t===0)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,s=Math.sin(t),u=Math.cos(t);return n=new V(n.x*u-n.y*s,n.x*s+n.y*u),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=V.read(arguments);return new V(this.x+t.x,this.y+t.y)},subtract:function(){var t=V.read(arguments);return new V(this.x-t.x,this.y-t.y)},multiply:function(){var t=V.read(arguments);return new V(this.x*t.x,this.y*t.y)},divide:function(){var t=V.read(arguments);return new V(this.x/t.x,this.y/t.y)},modulo:function(){var t=V.read(arguments);return new V(this.x%t.x,this.y%t.y)},negate:function(){return new V(-this.x,-this.y)},isInside:function(){return ot.read(arguments).contains(this)},isClose:function(){var t=arguments,e=V.read(t),n=p.read(t);return this.getDistance(e)<=n},isCollinear:function(){var t=V.read(arguments);return V.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=V.read(arguments);return V.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=G.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=V.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=V.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=V.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new V(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=V.read(t),n=V.read(t);return new V(Math.min(e.x,n.x),Math.min(e.y,n.y))},max:function(){var t=arguments,e=V.read(t),n=V.read(t);return new V(Math.max(e.x,n.x),Math.max(e.y,n.y))},random:function(){return new V(Math.random(),Math.random())},isCollinear:function(t,e,n,s){return Math.abs(t*s-e*n)<=Math.sqrt((t*t+e*e)*(n*n+s*s))*1e-8},isOrthogonal:function(t,e,n,s){return Math.abs(t*n+e*s)<=Math.sqrt((t*t+e*e)*(n*n+s*s))*1e-8}}},p.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new V(e(this.x),e(this.y))}},{})),st=V.extend({initialize:function(e,n,s,u){this._x=e,this._y=n,this._owner=s,this._setter=u},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),nt=p.extend({_class:"Size",_readIndex:!0,initialize:function(e,n){var s=typeof e,u=this.__read,h=0;if(s==="number"){var c=typeof n=="number";this._set(e,c?n:e),u&&(h=c?2:1)}else if(s==="undefined"||e===null)this._set(0,0),u&&(h=e===null?1:0);else{var f=s==="string"?e.split(/[\s,]+/)||[]:e;h=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"width"in f?this._set(f.width||0,f.height||0):"x"in f?this._set(f.x||0,f.y||0):(this._set(0,0),h=0)}return u&&(this.__read=h),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new nt(this.width,this.height)},toString:function(){var t=j.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=nt.read(arguments);return new nt(this.width+t.width,this.height+t.height)},subtract:function(){var t=nt.read(arguments);return new nt(this.width-t.width,this.height-t.height)},multiply:function(){var t=nt.read(arguments);return new nt(this.width*t.width,this.height*t.height)},divide:function(){var t=nt.read(arguments);return new nt(this.width/t.width,this.height/t.height)},modulo:function(){var t=nt.read(arguments);return new nt(this.width%t.width,this.height%t.height)},negate:function(){return new nt(-this.width,-this.height)},isZero:function(){var t=G.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new nt(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new nt(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new nt(Math.random(),Math.random())}}},p.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new nt(e(this.width),e(this.height))}},{})),ut=nt.extend({initialize:function(e,n,s,u){this._width=e,this._height=n,this._owner=s,this._setter=u},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),ot=p.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,n,s,u){var h=arguments,c=typeof e,f;if(c==="number"?(this._set(e,n,s,u),f=4):c==="undefined"||e===null?(this._set(0,0,0,0),f=e===null?1:0):h.length===1&&(Array.isArray(e)?(this._set.apply(this,e),f=1):e.x!==o||e.width!==o?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),f=1):e.from===o&&e.to===o&&(this._set(0,0,0,0),p.readSupported(h,this)&&(f=1))),f===o){var g=V.readNamed(h,"from"),v=p.peek(h),b=g.x,S=g.y,x,y;if(v&&v.x!==o||p.hasNamed(h,"to")){var L=V.readNamed(h,"to");x=L.x-b,y=L.y-S,x<0&&(b=L.x,x=-x),y<0&&(S=L.y,y=-y)}else{var A=nt.read(h);x=A.width,y=A.height}this._set(b,S,x,y),f=h.__index}var T=h.__filtered;return T&&(this.__filtered=T),this.__read&&(this.__read=f),this},set:"#initialize",_set:function(t,e,n,s){return this.x=t,this.y=e,this.width=n,this.height=s,this},clone:function(){return new ot(this.x,this.y,this.width,this.height)},equals:function(t){var e=p.isPlainValue(t)?ot.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=j.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?V:st;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=V.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?nt:ut;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=nt.read(arguments),e=this._sx,n=this._sy,s=t.width,u=t.height;e&&(this.x+=(this.width-s)*e),n&&(this.y+=(this.height-u)*n),this.width=s,this.height=u,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=this._sx===.5?e*2:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=this._sy===.5?e*2:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=this._sx===.5?e*2:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=this._sy===.5?e*2:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?V:st;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=V.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==o||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(ot.read(arguments)):this._containsPoint(V.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=ot.read(arguments),e=p.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=ot.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),s=Math.min(this.x+this.width,t.x+t.width),u=Math.min(this.y+this.height,t.y+t.height);return new ot(e,n,s-e,u-n)},unite:function(){var t=ot.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x+t.width),u=Math.max(this.y+this.height,t.y+t.height);return new ot(e,n,s-e,u-n)},include:function(){var t=V.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x),u=Math.max(this.y+this.height,t.y);return new ot(e,n,s-e,u-n)},expand:function(){var t=nt.read(arguments),e=t.width,n=t.height;return new ot(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===o?t:e)-this.height)}},p.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),s=/^[RL]/.test(n);e>=4&&(t[1]+=s?"Y":"X");var u=t[s?0:1],h=t[s?1:0],c="get"+u,f="get"+h,g="set"+u,v="set"+h,b="get"+n,S="set"+n;this[b]=function(x){var y=x?V:st;return new y(this[c](),this[f](),this,S)},this[S]=function(){var x=V.read(arguments);this[g](x.x),this[v](x.y)}},{beans:!0})),vt=ot.extend({initialize:function(e,n,s,u,h,c){this._set(e,n,s,u,!0),this._owner=h,this._setter=c},_set:function(t,e,n,s,u){return this._x=t,this._y=e,this._width=n,this._height=s,u||this._owner[this._setter](this),this}},new function(){var t=ot.prototype;return p.each(["x","y","width","height"],function(e){var n=p.capitalize(e),s="_"+e;this["get"+n]=function(){return this[s]},this["set"+n]=function(u){this[s]=u,this._dontNotify||this._owner[this._setter](this)}},p.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var n=this._owner;n._changeSelection&&n._changeSelection(2,e)}}))}),ht=p.extend({_class:"Matrix",initialize:function t(e,n){var s=arguments,u=s.length,h=!0;if(u>=6?this._set.apply(this,s):u===1||u===2?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):h=!1:u?h=!1:this.reset(),!h)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,s,u,h,c){return this._a=t,this._b=e,this._c=n,this._d=s,this._tx=u,this._ty=h,c||this._changed(),this},_serialize:function(t,e){return p.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new ht(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=j.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return n?(n.transform(null,p.pick(t,!0),e),this.isIdentity()):!1},translate:function(){var t=V.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=arguments,e=V.read(t),n=V.read(t,0,{readNull:!0});return n&&this.translate(n),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=V.read(arguments,1),n=e.x,s=e.y,u=Math.cos(t),h=Math.sin(t),c=n-n*u+s*h,f=s-n*h-s*u,g=this._a,v=this._b,b=this._c,S=this._d;return this._a=u*g+h*b,this._b=u*v+h*S,this._c=-h*g+u*b,this._d=-h*v+u*S,this._tx+=c*g+f*b,this._ty+=c*v+f*S,this._changed(),this},shear:function(){var t=arguments,e=V.read(t),n=V.read(t,0,{readNull:!0});n&&this.translate(n);var s=this._a,u=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*s,this._d+=e.x*u,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var t=arguments,e=V.read(t),n=V.read(t,0,{readNull:!0}),s=Math.PI/180,u=new V(Math.tan(e.x*s),Math.tan(e.y*s));return this.shear(u,n)},append:function(t,e){if(t){var n=this._a,s=this._b,u=this._c,h=this._d,c=t._a,f=t._c,g=t._b,v=t._d,b=t._tx,S=t._ty;this._a=c*n+g*u,this._c=f*n+v*u,this._b=c*s+g*h,this._d=f*s+v*h,this._tx+=b*n+S*u,this._ty+=b*s+S*h,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,s=this._b,u=this._c,h=this._d,c=this._tx,f=this._ty,g=t._a,v=t._c,b=t._b,S=t._d,x=t._tx,y=t._ty;this._a=g*n+v*s,this._c=g*u+v*h,this._b=b*n+S*s,this._d=b*u+S*h,this._tx=g*c+v*f+x,this._ty=b*c+S*f+y,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,s=this._d,u=this._tx,h=this._ty,c=t*s-e*n,f=null;return c&&!isNaN(c)&&isFinite(u)&&isFinite(h)&&(this._a=s/c,this._b=-e/c,this._c=-n/c,this._d=t/c,this._tx=(n*h-s*u)/c,this._ty=(e*u-t*h)/c,f=this),f},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new ht(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(V.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var s=t.x,u=t.y;return e||(e=new V),e._set(s*this._a+u*this._c+this._tx,s*this._b+u*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var s=0,u=2*n;s<u;s+=2){var h=t[s],c=t[s+1];e[s]=h*this._a+c*this._c+this._tx,e[s+1]=h*this._b+c*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,s=e+t.width,u=n+t.height,h=[e,n,s,n,s,u,e,u];return this._transformCoordinates(h,h,4)},_transformBounds:function(t,e,n){for(var s=this._transformCorners(t),u=s.slice(0,2),h=u.slice(),c=2;c<8;c++){var f=s[c],g=c&1;f<u[g]?u[g]=f:f>h[g]&&(h[g]=f)}return e||(e=new ot),e._set(u[0],u[1],h[0]-u[0],h[1]-u[1],n)},inverseTransform:function(){return this._inverseTransform(V.read(arguments))},_inverseTransform:function(t,e,n){var s=this._a,u=this._b,h=this._c,c=this._d,f=this._tx,g=this._ty,v=s*c-u*h,b=null;if(v&&!isNaN(v)&&isFinite(f)&&isFinite(g)){var S=t.x-this._tx,x=t.y-this._ty;e||(e=new V),b=e._set((S*c-x*h)/v,(x*s-S*u)/v,n)}return b},decompose:function(){var t=this._a,e=this._b,n=this._c,s=this._d,u=t*s-e*n,h=Math.sqrt,c=Math.atan2,f=180/Math.PI,g,v,b;if(t!==0||e!==0){var S=h(t*t+e*e);g=Math.acos(t/S)*(e>0?1:-1),v=[S,u/S],b=[c(t*n+e*s,S*S),0]}else if(n!==0||s!==0){var x=h(n*n+s*s);g=Math.asin(n/x)*(s>0?1:-1),v=[u/x,x],b=[0,c(t*n+e*s,x*x)]}else g=0,b=v=[0,0];return{translation:this.getTranslation(),rotation:g*f,scaling:new V(v),skewing:new V(b[0]*f,b[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new V(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},p.each(["a","b","c","d","tx","ty"],function(t){var e=p.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(s){this[n]=s,this._changed()}},{})),_t=p.extend({_class:"Line",initialize:function(e,n,s,u,h){var c=!1;arguments.length>=4?(this._px=e,this._py=n,this._vx=s,this._vy=u,c=h):(this._px=e.x,this._py=e.y,this._vx=n.x,this._vy=n.y,c=s),c||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new V(this._px,this._py)},getVector:function(){return new V(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return _t.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return _t.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return _t.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return V.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return V.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,s,u,h,c,f,g,v){g||(n-=t,s-=e,c-=u,f-=h);var b=n*f-s*c;if(!G.isMachineZero(b)){var S=t-u,x=e-h,y=(c*x-f*S)/b,L=(n*x-s*S)/b,A=1e-12,T=-A,w=1+A;if(v||T<y&&y<w&&T<L&&L<w)return v||(y=y<=0?0:y>=1?1:y),new V(t+y*n,e+y*s)}},getSide:function(t,e,n,s,u,h,c,f){c||(n-=t,s-=e);var g=u-t,v=h-e,b=g*s-v*n;return!f&&G.isMachineZero(b)&&(b=(g*n+g*n)/(n*n+s*s),b>=0&&b<=1&&(b=0)),b<0?-1:b>0?1:0},getSignedDistance:function(t,e,n,s,u,h,c){return c||(n-=t,s-=e),n===0?s>0?u-t:t-u:s===0?n<0?h-e:e-h:((u-t)*s-(h-e)*n)/(s>n?s*Math.sqrt(1+n*n/(s*s)):n*Math.sqrt(1+s*s/(n*n)))},getDistance:function(t,e,n,s,u,h,c){return Math.abs(_t.getSignedDistance(t,e,n,s,u,h,c))}}}),pt=q.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){q.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Pe(null,null,this),this._view=Yt.create(this,e||we.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return p.serialize(this._children,t,!0,e)},_changed:function(t,e){if(t&1){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var s=this._changes;if(s&&e){var u=this._changesById,h=e._id,c=u[h];c?c.flags|=t:s.push(u[h]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Nt({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:yt,match:function(n){var s=n._definition,u=s._id;return e[u]||(e[u]=!0,t.push(s)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var s=t[n],u=s._selection;u&1&&s.isInserted()?e.push(s):u||this._updateSelection(s)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(o,t)},insertLayer:function(t,e){if(e instanceof Nt){e._remove(!1,!0),p.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(o,new Nt(k.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return k._getItems(this,t)},getItem:function(t){return k._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return p.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){t==="mouseup"&&(e.mousedrag=null);var n=e[t];if(n){for(var s in n){var u=n[s];for(var h in e){var c=e[h];c&&c!=n&&delete c[u._id]}u.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var s=this._children,u=new p({offset:new V(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new ht],updateMatrix:!0}),h=0,c=s.length;h<c;h++)s[h].draw(t,u);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var f=this._selectionItems,g=this._scope.settings.handleSize,v=this._updateVersion;for(var b in f)f[b]._drawSelection(t,e,g,f,v);t.restore()}}}),k=p.extend(N,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=p.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new ht,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return p.each(t,function(e){this._events[e]={install:function(n){this.getView()._countItemEvent(n,1)},uninstall:function(n){this.getView()._countItemEvent(n,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&p.isPlainObject(t),s=n&&t.internal===!0,u=this._matrix=new ht,h=n&&t.project||Jt.project,c=Jt.settings;return this._id=s?null:$.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&c.applyMatrix,e&&u.translate(e),u._owner=this,this._style=new Pe(h._currentStyle,this,h),s||n&&t.insert==!1||!c.insertItems&&!(n&&t.insert==!0)?this._setProject(h):(n&&t.parent||h)._insertItem(o,this,!0),n&&t!==k.NO_INSERT&&t!==k.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){var n={},s=this;function u(h){for(var c in h){var f=s[c];p.equals(f,c==="leading"?h.fontSize*1.2:h[c])||(n[c]=p.serialize(f,t,c!=="data",e))}}return u(this._serializeFields),this instanceof wt||u(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,n=this._parent||e,s=this._project;t&8&&(this._bounds=this._position=this._decomposed=o),t&16&&(this._globalMatrix=o),n&&t&72&&k._clearBoundsCache(n),t&2&&k._clearBoundsCache(this),s&&s._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,s=e._namedChildren;(s[t]=s[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},p.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=p.capitalize(t),n="_"+t,s={locked:256,visible:265};this["get"+e]=function(){return this[n]},this["set"+e]=function(u){u!=this[n]&&(this[n]=u,this._changed(s[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,s=e.length;n<s;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(this._selection&1);if(t&&e){for(var n=0,s=t.length;n<s;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,s=e.length;n<s;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?V:st,n=this._position||(this._position=this._getPositionFromBounds());return new e(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(V.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new st(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=V.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},p.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(n){return this.getBounds(n,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof ht,s=p.set({},n?e:t,this._boundsOptions);(!s.stroke||this.getStrokeScaling())&&(s.cacheItem=this);var u=this._getCachedBounds(n&&t,s).rect;return arguments.length?u:new vt(u.x,u.y,u.width,u.height,this,"setBounds")},setBounds:function(){var t=ot.read(arguments),e=this.getBounds(),n=this._matrix,s=new ht,u=t.getCenter();s.translate(u),(t.width!=e.width||t.height!=e.height)&&(n.isInvertible()||(n.set(n._backup||new ht().translate(n.getTranslation())),e=this.getBounds()),s.scale(e.width!==0?t.width/e.width:0,e.height!==0?t.height/e.height:0)),u=e.getCenter(),s.translate(-u.x,-u.y),this.transform(s)},_getBounds:function(t,e){var n=this._children;return!n||!n.length?new ot:(k._updateBoundsCache(this,e.cacheItem),k._getBounds(n,t,e))},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var s=e.internal&&!n,u=e.cacheItem,h=s?null:this._matrix._orNullIfIdentity(),c=u&&(!t||t.equals(h))&&this._getBoundsCacheKey(e,s),f=this._bounds;if(k._updateBoundsCache(this._parent||this._symbol,u),c&&f&&c in f){var g=f[c];return{rect:g.rect.clone(),nonscaling:g.nonscaling}}var v=this._getBounds(t||h,e),b=v.rect||v,S=this._style,x=v.nonscaling||S.hasStroke()&&!S.getStrokeScaling();if(c){f||(this._bounds=f={});var g=f[c]={rect:b.clone(),nonscaling:x,internal:s}}return{rect:b,nonscaling:x}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,s=n?n.getViewMatrix().invert():t;return s&&s._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,s=t._boundsCache=t._boundsCache||{ids:{},list:[]};s.ids[n]||(s.list.push(e),s.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=o;for(var n=0,s=e.list,u=s.length;n<u;n++){var h=s[n];h!==t&&(h._bounds=h._position=o,h._boundsCache&&k._clearBoundsCache(h))}}},_getBounds:function(t,e,n){var s=1/0,u=-s,h=s,c=u,f=!1;n=n||{};for(var g=0,v=t.length;g<v;g++){var b=t[g];if(b._visible&&!b.isEmpty(!0)){var S=b._getCachedBounds(e&&e.appended(b._matrix),n,!0),x=S.rect;s=Math.min(x.x,s),h=Math.min(x.y,h),u=Math.max(x.x+x.width,u),c=Math.max(x.y+x.height,c),S.nonscaling&&(f=!0)}}return{rect:isFinite(s)?new ot(s,h,u-s,c-h):new ot,nonscaling:f}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(e!=null&&t!=null){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new st(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=V.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),s=this._decomposed,u=new ht,h=G.isZero;if(h(t.x)||h(t.y))u.translate(s.translation),n&&u.rotate(n),u.scale(e.x,e.y),this._matrix.set(u);else{var c=this.getPosition(!0);u.translate(c),n&&u.rotate(n),u.scale(e.x/t.x,e.y/t.y),n&&u.rotate(-n),u.translate(c.negate()),this.transform(u)}s&&(s.scaling=e,this._decomposed=s)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var n=this._parent,s=[];n;){if(!n._globalMatrix){e=null;for(var u=0,h=s.length;u<h;u++)s[u]._globalMatrix=null;break}s.push(n),n=n._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&e.prepend(n.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,s=0,u=n&&n.length;s<u;s++)n[s]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,s=0,u=n&&n.length;s<u;s++)n[s]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof Nt)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var e=this._parent,n=e&&e._children;n&&e.insertChildren(t in n?t:o,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return p.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(k.NO_INSERT),n=this._children,s=p.pick(t?t.insert:o,t===o||t===!0),u=p.pick(t?t.deep:o,!0);n&&e.copyAttributes(this),(!n||u)&&e.copyContent(this),n||e.copyAttributes(this),s&&e.insertAbove(this);var h=this._name,c=this._parent;if(h&&c){for(var n=c._children,f=h,g=1;n[h];)h=f+" "+g++;h!==f&&e.setName(h)}return e},copyContent:function(t){for(var e=t._children,n=0,s=e&&e.length;n<s;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],s=0,u=n.length;s<u;s++){var h=n[s];t.hasOwnProperty(h)&&(this[h]=t[h])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var c=t._data,f=t._name;this._data=c?p.clone(c):null,f&&this.setName(f)},rasterize:function(t,e){var n,s,u;p.isPlainObject(t)?(n=t.resolution,s=t.insert,u=t.raster):(n=t,s=e),u||(u=new Lt(k.NO_INSERT));var h=this.getStrokeBounds(),c=(n||this.getView().getResolution())/72,f=h.getTopLeft().floor(),g=h.getBottomRight().ceil(),v=new nt(g.subtract(f)),b=v.multiply(c);if(u.setSize(b,!0),!b.isZero()){var S=u.getContext(!0),x=new ht().scale(c).translate(f.negate());S.save(),x.applyToContext(S),this.draw(S,new p({matrices:[x]})),S.restore()}return u._matrix.set(new ht().translate(f.add(v.divide(2))).scale(1/c)),(s===o||s)&&u.insertAbove(this),u},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(V.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return ot.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Pt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof k?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1}},new function(){function t(){var s=arguments;return this._hitTest(V.read(s),Ht.getOptions(s))}function e(){var s=arguments,u=V.read(s),h=Ht.getOptions(s),c=[];return this._hitTest(u,new p({all:c},h)),c}function n(s,u,h,c){var f=this._children;if(f)for(var g=f.length-1;g>=0;g--){var v=f[g],b=v!==c&&v._hitTest(s,u,h);if(b&&!u.all)return b}return null}return pt.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var s=this._matrix,u=n?n.appended(s):this.getGlobalMatrix().prepend(this.getView()._matrix),h=Math.max(e.tolerance,1e-12),c=e._tolerancePadding=new nt(Pt._getStrokePadding(h,s._shiftless().invert()));if(t=s._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(c.multiply(2))._containsPoint(t))return null;var f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==p.hyphenate(this._class)||e.class&&!(this instanceof e.class)),g=e.match,v=this,b,S;function x(m){return m&&g&&!g(m)&&(m=null),m&&e.all&&e.all.push(m),m}function y(m,I){var O=I?b["get"+I]():v.getPosition();if(t.subtract(O).divide(c).length<=1)return new Ht(m,v,{name:I?p.hyphenate(I):m,point:O})}var L=e.position,A=e.center,T=e.bounds;if(f&&this._parent&&(L||A||T)){if((A||T)&&(b=this.getInternalBounds()),S=L&&y("position")||A&&y("center","Center"),!S&&T)for(var w=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],P=0;P<8&&!S;P++)S=y("bounds",w[P]);S=x(S)}return S||(S=this._hitTestChildren(t,e,u)||f&&x(this._hitTestSelf(t,e,u,this.getStrokeScaling()?null:u._shiftless().invert()))||null),S&&S.point&&(S.point=s.transform(S.point)),S},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new Ht("fill",this)},matches:function(t,e){function n(c,f){for(var g in c)if(c.hasOwnProperty(g)){var v=c[g],b=f[g];if(p.isPlainObject(v)&&p.isPlainObject(b)){if(!n(v,b))return!1}else if(!p.equals(v,b))return!1}return!0}var s=typeof t;if(s==="object"){for(var u in t)if(t.hasOwnProperty(u)&&!this.matches(u,t[u]))return!1;return!0}else{if(s==="function")return t(this);if(t==="match")return e(this);var h=/^(empty|editable)$/.test(t)?this["is"+p.capitalize(t)]():t==="type"?p.hyphenate(this._class):this[t];if(t==="class"){if(typeof e=="function")return this instanceof e;h=this._class}if(typeof e=="function")return!!e(h);if(e){if(e.test)return e.test(h);if(p.isPlainObject(e))return n(e,h)}return p.equals(h,e)}},getItems:function(t){return k._getItems(this,t,this._matrix)},getItem:function(t){return k._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,s,u,h){if(!u){var c=typeof n=="object"&&n,f=c&&c.overlapping,g=c&&c.inside,v=f||g,x=v&&ot.read([v]);u={items:[],recursive:c&&c.recursive!==!1,inside:!!g,overlapping:!!f,rect:x,path:f&&new Pt.Rectangle({rectangle:x,insert:!1})},c&&(n=p.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var b=e._children,S=u.items,x=u.rect;s=x&&(s||new ht);for(var y=0,L=b&&b.length;y<L;y++){var A=b[y],T=s&&s.appended(A._matrix),w=!0;if(x){var v=A.getBounds(T);if(!x.intersects(v))continue;x.contains(v)||u.overlapping&&(v.contains(x)||u.path.intersects(A,T))||(w=!1)}if(w&&A.matches(n)&&(S.push(A),h)||(u.recursive!==!1&&t(A,n,T,u,h),h&&S.length>0))break}return S}}},{importJSON:function(t){var e=p.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(o,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=p.slice(e);for(var s={},u=e.length-1;u>=0;u--){var h=e[u],c=h&&h._id;!h||s[c]?e.splice(u,1):(h._remove(!1,!0),s[c]=!0)}p.splice(n,e,t,0);for(var f=this._project,g=f._changes,u=0,v=e.length;u<v;u++){var h=e[u],b=h._name;h._parent=this,h._setProject(f,!0),b&&h.setName(b),g&&h._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),s=t!==this&&n?this:null;return s&&(s._remove(!1,!0),n._insertItem(t._index+e,s)),s},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(o,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&e.length===1){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,s=this._name,u=n[s],h=u?u.indexOf(this):-1;h!==-1&&(e[s]==this&&delete e[s],u.splice(h,1),u.length?e[s]=u[0]:delete n[s])}},_remove:function(t,e){var n=this._getOwner(),s=this._project,u=this._index;return this._style&&this._style._dispose(),n?(this._name&&this._removeNamed(),u!=null&&(s._activeLayer===this&&(s._activeLayer=this.getNextSibling()||this.getPreviousSibling()),p.splice(n._children,null,u,1)),this._installEvents(!1),t&&s._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=p.pick(e,this._children.length);for(var n=p.splice(this._children,null,t,e-t),s=n.length-1;s>=0;s--)n[s]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,n=e?e.length:0;if(t){for(var s=0;s<n;s++)if(!e[s].isEmpty(t))return!1;return!0}return!n},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(c){var f=[];do f.unshift(c);while(c=c._parent);return f}for(var n=e(this),s=e(t),u=0,h=Math.min(n.length,s.length);u<h;u++)if(n[u]!=s[u])return n[u]._index<s[u]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},p.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var n=arguments,s=(e?p:V).read(n),u=V.read(n,0,{readNull:!0});return this.transform(new ht()[t](s,u||this.getPosition(!0)))}},{translate:function(){var t=new ht;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n){var s=this._matrix,u=t&&!t.isIdentity(),h=n&&this._canApplyMatrix||this._applyMatrix&&(u||!s.isIdentity()||e&&this._children);if(!u&&!h)return this;if(u){!t.isInvertible()&&s.isInvertible()&&(s._backup=s.getValues()),s.prepend(t,!0);var c=this._style,f=c.getFillColor(!0),g=c.getStrokeColor(!0);f&&f.transform(t),g&&g.transform(t)}if(h&&(h=this._transformContent(s,e,n))){var v=this._pivot;v&&s._transformPoint(v,v,!0),s.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var b=this._bounds,S=this._position;(u||h)&&this._changed(25);var x=u&&b&&t.decompose();if(x&&x.skewing.isZero()&&x.rotation%90===0){for(var y in b){var L=b[y];if(L.nonscaling)delete b[y];else if(h||!L.internal){var A=L.rect;t._transformBounds(A,A)}}this._bounds=b;var T=b[this._getBoundsCacheKey(this._boundsOptions||{})];T&&(this._position=this._getPositionFromBounds(T.rect))}else u&&S&&this._pivot&&(this._position=t._transformPoint(S,S));return this},_transformContent:function(t,e,n){var s=this._children;if(s){for(var u=0,h=s.length;u<h;u++)s[u].transform(t,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(V.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(V.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(V.read(arguments))},localToParent:function(){return this._matrix._transformPoint(V.read(arguments))},fitBounds:function(t,e){t=ot.read(arguments);var n=this.getBounds(),s=n.height/n.width,u=t.height/t.width,h=(e?s>u:s<u)?t.width/n.width:t.height/n.height,c=new ot(new V,new nt(n.width*h,n.height*h));c.setCenter(t.getCenter()),this.setBounds(c)}}),{_setStyles:function(t,e,n){var s=this._style,u=this._matrix;if(s.hasFill()&&(t.fillStyle=s.getFillColor().toCanvasStyle(t,u)),s.hasStroke()){t.strokeStyle=s.getStrokeColor().toCanvasStyle(t,u),t.lineWidth=s.getStrokeWidth();var h=s.getStrokeJoin(),c=s.getStrokeCap(),f=s.getMiterLimit();if(h&&(t.lineJoin=h),c&&(t.lineCap=c),f&&(t.miterLimit=f),Jt.support.nativeDash){var g=s.getDashArray(),v=s.getDashOffset();g&&g.length&&("setLineDash"in t?(t.setLineDash(g),t.lineDashOffset=v):(t.mozDash=g,t.mozDashOffset=v))}}if(s.hasShadow()){var b=e.pixelRatio||1,S=n._shiftless().prepend(new ht().scale(b,b)),x=S.transform(new V(s.getShadowBlur(),0)),y=S.transform(this.getShadowOffset());t.shadowColor=s.getShadowColor().toCanvasStyle(t),t.shadowBlur=x.getLength(),t.shadowOffsetX=y.x,t.shadowOffsetY=y.y}},draw:function(t,e,n){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var s=e.matrices,u=e.viewMatrix,h=this._matrix,c=s[s.length-1].appended(h);if(c.isInvertible()){u=u?u.appended(c):c,s.push(c),e.updateMatrix&&(this._globalMatrix=c);var f=this._blendMode,g=G.clamp(this._opacity,0,1),v=f==="normal",b=Ke.nativeModes[f],S=v&&g===1||e.dontStart||e.clip||(b||v&&g<1)&&this._canComposite(),x=e.pixelRatio||1,y,L,A;if(!S){var T=this.getStrokeBounds(u);if(!T.width||!T.height){s.pop();return}A=e.offset,L=e.offset=T.getTopLeft().floor(),y=t,t=we.getContext(T.getSize().ceil().add(1).multiply(x)),x!==1&&t.scale(x,x)}t.save();var w=n?n.appended(h):this._canScaleStroke&&!this.getStrokeScaling(!0)&&u,P=!S&&e.clipItem,m=!w||P;if(S?(t.globalAlpha=g,b&&(t.globalCompositeOperation=f)):m&&t.translate(-L.x,-L.y),m&&(S?h:u).applyToContext(t),P&&e.clipItem.draw(t,e.extend({clip:!0})),w){t.setTransform(x,0,0,x,0,0);var I=e.offset;I&&t.translate(-I.x,-I.y)}this._draw(t,e,u,w),t.restore(),s.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),S||(Ke.process(f,t,y,g,L.subtract(A).multiply(x)),we.release(t),e.offset=A)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof Vt)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,s,u){var h=this._selection,c=h&1,f=h&2||c&&this._selectBounds,g=h&4;if(this._drawSelected||(c=!1),(c||f||g)&&this._isUpdated(u)){var v,b=this.getSelectedColor(!0)||(v=this.getLayer())&&v.getSelectedColor(!0),S=e.appended(this.getGlobalMatrix(!0)),x=n/2;if(t.strokeStyle=t.fillStyle=b?b.toCanvasStyle(t):"#009dec",c&&this._drawSelected(t,S,s),g){var y=this.getPosition(!0),L=this._parent,A=L?L.localToGlobal(y):y,T=A.x,w=A.y;t.beginPath(),t.arc(T,w,x,0,Math.PI*2,!0),t.stroke();for(var P=[[0,-1],[1,0],[0,1],[-1,0]],m=x,I=n+1,O=0;O<4;O++){var R=P[O],E=R[0],B=R[1];t.moveTo(T+E*m,w+B*m),t.lineTo(T+E*I,w+B*I),t.stroke()}}if(f){var U=S._transformCorners(this.getInternalBounds());t.beginPath();for(var O=0;O<8;O++)t[O?"lineTo":"moveTo"](U[O],U[++O]);t.closePath(),t.stroke();for(var O=0;O<8;O++)t.fillRect(U[O]-x,U[++O]-x,n,n)}}},_canComposite:function(){return!1}},p.each(["down","drag","up","move"],function(t){this["removeOn"+p.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,s=this._project,u=s._removeSets=s._removeSets||{};u[n]=u[n]||{},u[n][this._id]=this}return this}}),{tween:function(t,e,n){n||(n=e,e=t,t=null,n||(n=e,e=null));var s=n&&n.easing,u=n&&n.start,h=n!=null&&(typeof n=="number"?n:n.duration),c=new qe(this,t,e,h,s,u);function f(g){c._handleFrame(g.time*1e3),c.running||this.off("frame",f)}return h&&this.on("frame",f),c},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),wt=k.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),e&2050&&(this._clipItem=o)},_getClipItem:function(){var t=this._clipItem;if(t===o){t=null;for(var e=this._children,n=0,s=e.length;n<s;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var s=this._getClipItem();return s?s._getCachedBounds(s._matrix.prepended(e),p.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,s){var u=this._getClipItem();return(!u||u.contains(e))&&t.base.call(this,e,n,s,u)},_draw:function(t,e){var n=e.clip,s=!n&&this._getClipItem();e=e.extend({clipItem:s,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):s&&s.draw(t,e.extend({clip:!0}));for(var u=this._children,h=0,c=u.length;h<c;h++){var f=u[h];f!==s&&f.draw(t,e)}}}),Nt=wt.extend({_class:"Layer",initialize:function(){wt.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),qt=k.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,n){this._initialize(e,n)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&p.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new ut(t.width,t.height,this,"setSize")},setSize:function(){var t=nt.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var e=this._type,n=t.width,s=t.height;e==="rectangle"?this._radius.set(nt.min(this._radius,t.divide(2).abs())):e==="circle"?(n=s=(n+s)/2,this._radius=n/2):e==="ellipse"&&this._radius._set(n/2,s/2),this._size._set(n,s),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new ut(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if(e==="circle"){if(t===this._radius)return;var n=t*2;this._radius=t,this._size._set(n,n)}else if(t=nt.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),e==="rectangle"){var n=nt.max(this._size,t.multiply(2));this._size.set(n)}else e==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new Pt[p.capitalize(this._type)]({center:new V,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),Jt.settings.applyMatrix&&e.setApplyMatrix(!0),(t===o||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,s){var u=this._style,h=u.hasFill(),c=u.hasStroke(),f=e.dontFinish||e.clip,g=!s;if(h||c||f){var v=this._type,b=this._radius,S=v==="circle";if(e.dontStart||t.beginPath(),g&&S)t.arc(0,0,b,0,Math.PI*2,!0);else{var x=S?b:b.width,y=S?b:b.height,L=this._size,A=L.width,T=L.height;if(g&&v==="rectangle"&&x===0&&y===0)t.rect(-A/2,-T/2,A,T);else{var w=A/2,P=T/2,m=1-.5522847498307936,I=x*m,O=y*m,R=[-w,-P+y,-w,-P+O,-w+I,-P,-w+x,-P,w-x,-P,w-I,-P,w,-P+O,w,-P+y,w,P-y,w,P-O,w-I,P,w-x,P,-w+x,P,-w+I,P,-w,P-O,-w,P-y];s&&s.transform(R,R,32),t.moveTo(R[0],R[1]),t.bezierCurveTo(R[2],R[3],R[4],R[5],R[6],R[7]),w!==x&&t.lineTo(R[8],R[9]),t.bezierCurveTo(R[10],R[11],R[12],R[13],R[14],R[15]),P!==y&&t.lineTo(R[16],R[17]),t.bezierCurveTo(R[18],R[19],R[20],R[21],R[22],R[23]),w!==x&&t.lineTo(R[24],R[25]),t.bezierCurveTo(R[26],R[27],R[28],R[29],R[30],R[31])}}t.closePath()}!f&&(h||c)&&(this._setStyles(t,e,n),h&&(t.fill(u.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),c&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new ot(this._size).setCenter(0,0),s=this._style,u=e.stroke&&s.hasStroke()&&s.getStrokeWidth();return t&&(n=t._transformBounds(n)),u?n.expand(Pt._getStrokePadding(u,this._getStrokeMatrix(t,e))):n}},new function(){function t(n,s,u){var h=n._radius;if(!h.isZero())for(var c=n._size.divide(2),f=1;f<=4;f++){var g=new V(f>1&&f<4?-1:1,f>2?-1:1),v=g.multiply(c),b=v.subtract(g.multiply(h)),S=new ot(u?v.add(g.multiply(u)):v,b);if(S.contains(s))return{point:b,quadrant:f}}}function e(n,s,u,h){var c=n.divide(s);return(!h||c.isInQuadrant(h))&&c.subtract(c.normalize()).multiply(s).divide(u).length<=1}return{_contains:function n(s){if(this._type==="rectangle"){var u=t(this,s);return u?s.subtract(u.point).divide(this._radius).getLength()<=1:n.base.call(this,s)}else return s.divide(this.size).getLength()<=.5},_hitTestSelf:function n(s,u,h,c){var f=!1,g=this._style,v=u.stroke&&g.hasStroke(),b=u.fill&&g.hasFill();if(v||b){var S=this._type,x=this._radius,y=v?g.getStrokeWidth()/2:0,L=u._tolerancePadding.add(Pt._getStrokePadding(y,!g.getStrokeScaling()&&c));if(S==="rectangle"){var A=L.multiply(2),T=t(this,s,A);if(T)f=e(s.subtract(T.point),x,L,T.quadrant);else{var w=new ot(this._size).setCenter(0,0),P=w.expand(A),m=w.expand(A.negate());f=P._containsPoint(s)&&!m._containsPoint(s)}}else f=e(s,x,L)}return f?new Ht(v?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(e,n,s,u,h){var c=p.create(qt.prototype);return c._type=e,c._size=s,c._radius=u,c._initialize(p.getNamed(h),n),c}return{Circle:function(){var e=arguments,n=V.readNamed(e,"center"),s=p.readNamed(e,"radius");return t("circle",n,new nt(s*2),s,e)},Rectangle:function(){var e=arguments,n=ot.readNamed(e,"rectangle"),s=nt.min(nt.readNamed(e,"radius"),n.getSize(!0).divide(2));return t("rectangle",n.getCenter(!0),n.getSize(!0),s,e)},Ellipse:function(){var e=arguments,n=qt._readEllipse(e),s=n.radius;return t("ellipse",n.center,s.multiply(2),s,e)},_readEllipse:function(e){var n,s;if(p.hasNamed(e,"radius"))n=V.readNamed(e,"center"),s=nt.readNamed(e,"radius");else{var u=ot.readNamed(e,"rectangle");n=u.getCenter(!0),s=u.getSize(!0).divide(2)}return{center:n,radius:s}}}}}),Lt=k.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,n){if(!this._initialize(e,n!==o&&V.read(arguments))){var s,u=typeof e,h=u==="string"?_.getElementById(e):u==="object"?e:null;if(h&&h!==k.NO_INSERT){if(h.getContext||h.naturalHeight!=null)s=h;else if(h){var c=nt.read(arguments);c.isZero()||(s=we.getCanvas(c))}}s?this.setImage(s):this.setSource(e)}this._size||(this._size=new nt,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var s=we.getCanvas(t._size);s.getContext("2d").drawImage(n,0,0),this._setImage(s)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new ut(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var n=nt.read(arguments);if(n.equals(this._size))e&&this.clear();else if(n.width>0&&n.height>0){var s=!e&&this.getElement();this._setImage(we.getCanvas(n)),s&&this.getContext(!0).drawImage(s,0,0,n.width,n.height)}else this._canvas&&we.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,e=new V(0,0).transform(t),n=new V(1,0).transform(t).subtract(e),s=new V(0,1).transform(t).subtract(e);return new nt(72/n.getLength(),72/s.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function n(s){var u=e.getView(),h=s&&s.type||"load";u&&e.responds(h)&&(Jt=u._scope,e.emit(h,new Gt(s)))}this._setImage(t),this._loaded?setTimeout(n,0):t&&ve.add(t,{load:function(s){e._setImage(t),n(s)},error:n})},_setImage:function(t){this._canvas&&we.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new nt(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=we.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{we.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new a.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=ot.read(arguments),e=we.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=ot.read(arguments),e=new Lt(k.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=V.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof xe?(n=t,e=t.getBounds()):typeof t=="object"&&("width"in t?e=new ot(t):"x"in t&&(e=new ot(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var s=32,u=Math.min(e.width,s),h=Math.min(e.height,s),c=Lt._sampleContext;c?c.clearRect(0,0,s+1,s+1):c=Lt._sampleContext=we.getContext(new nt(s)),c.save();var f=new ht().scale(u/e.width,h/e.height).translate(-e.x,-e.y);f.applyToContext(c),n&&n.draw(c,new p({clip:!0,matrices:[f]})),this._matrix.applyToContext(c);var g=this.getElement(),v=this._size;g&&c.drawImage(g,-v.width/2,-v.height/2),c.restore();for(var b=c.getImageData(.5,.5,Math.ceil(u),Math.ceil(h)).data,S=[0,0,0],x=0,y=0,L=b.length;y<L;y+=4){var A=b[y+3];x+=A,A/=255,S[0]+=b[y]*A,S[1]+=b[y+1]*A,S[2]+=b[y+2]*A}for(var y=0;y<3;y++)S[y]/=x;return x?he.read(S):null},getPixel:function(){var t=V.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new he("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=V.read(t),n=he.read(t),s=n._convert("rgb"),u=n._alpha,h=this.getContext(!0),c=h.createImageData(1,1),f=c.data;f[0]=s[0]*255,f[1]=s[1]*255,f[2]=s[2]*255,f[3]=u!=null?u*255:255,h.putImageData(c,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=nt.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=ot.read(arguments);return t.isEmpty()&&(t=new ot(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=V.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var n=new ot(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new Ht("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,n){var s=this.getElement();if(s&&s.width>0&&s.height>0){t.globalAlpha=G.clamp(this._opacity,0,1),this._setStyles(t,e,n);var u=this._smoothing,h=u==="off";ee.setPrefixed(t,h?"imageSmoothingEnabled":"imageSmoothingQuality",h?!1:u),t.drawImage(s,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),yt=k.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==o&&V.read(arguments,1))||this.setDefinition(e instanceof It?e:new It(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var s=e.extend({all:!1}),u=this._definition._item._hitTest(t,s,n);return u&&(u.item=this),u},_draw:function(t,e){this._definition._item.draw(t,e)}}),It=p.extend({_class:"SymbolDefinition",initialize:function(e,n){this._id=$.get(),this.project=Jt.project,e&&this.setItem(e,n)},_serialize:function(t,e){return e.add(this,function(){return p.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){t&8&&k._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new V),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new yt(this,t)},clone:function(){return new It(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Ht=p.extend({_class:"HitResult",initialize:function(e,n,s){this.type=e,this.item=n,s&&this.inject(s)},statics:{getOptions:function(t){var e=t&&p.read(t);return new p({type:null,tolerance:Jt.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),At=p.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,n,s,u,h,c){var f=arguments.length,g,v,b,S;f>0&&(e==null||typeof e=="object"?f===1&&e&&"point"in e?(g=e.point,v=e.handleIn,b=e.handleOut,S=e.selection):(g=e,v=n,b=s,S=u):(g=[e,n],v=s!==o?[s,u]:null,b=h!==o?[h,c]:null)),new oe(g,this,"_point"),new oe(v,this,"_handleIn"),new oe(b,this,"_handleOut"),S&&this.setSelection(S)},_serialize:function(t,e){var n=this._point,s=this._selection,u=s||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return s&&u.push(s),p.serialize(u,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n=e._curves,s=this._index,u;n&&((!t||t===this._point||t===this._handleIn)&&(u=s>0?n[s-1]:e._closed?n[n.length-1]:null)&&u._changed(),(!t||t===this._point||t===this._handleOut)&&(u=n[s])&&u._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(V.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(V.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(V.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(257))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new se(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var s=t||{},u=s.type,h=s.factor,c=this.getPrevious(),f=this.getNext(),g=(c||this)._point,v=this._point,b=(f||this)._point,S=g.getDistance(v),x=v.getDistance(b);if(!u||u==="catmull-rom"){var y=h===o?.5:h,L=Math.pow(S,y),A=L*L,T=Math.pow(x,y),w=T*T;if(!e&&c){var P=2*w+3*T*L+A,m=3*T*(T+L);this.setHandleIn(m!==0?new V((w*g._x+P*v._x-A*b._x)/m-v._x,(w*g._y+P*v._y-A*b._y)/m-v._y):new V)}if(!n&&f){var P=2*A+3*L*T+w,m=3*L*(L+T);this.setHandleOut(m!==0?new V((A*b._x+P*v._x-w*g._x)/m-v._x,(A*b._y+P*v._y-w*g._y)/m-v._y):new V)}}else if(u==="geometric"){if(c&&f){var I=g.subtract(b),O=h===o?.4:h,R=O*S/(S+x);e||this.setHandleIn(I.multiply(R)),n||this.setHandleOut(I.multiply(R-O))}}else throw new Error("Smoothing method '"+u+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new At(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new At(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var s=1-n,u=n,h=t._point,c=e._point,f=t._handleIn,g=e._handleIn,v=e._handleOut,b=t._handleOut;this._point._set(s*h._x+u*c._x,s*h._y+u*c._y,!0),this._handleIn._set(s*f._x+u*g._x,s*f._y+u*g._y,!0),this._handleOut._set(s*b._x+u*v._x,s*b._y+u*v._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var s=this._point,u=!n||!this._handleIn.isZero()?this._handleIn:null,h=!n||!this._handleOut.isZero()?this._handleOut:null,c=s._x,f=s._y,g=2;return e[0]=c,e[1]=f,u&&(e[g++]=u._x+c,e[g++]=u._y+f),h&&(e[g++]=h._x+c,e[g++]=h._y+f),t&&(t._transformCoordinates(e,e,g/2),c=e[0],f=e[1],n?(s._x=c,s._y=f,g=2,u&&(u._x=e[g++]-c,u._y=e[g++]-f),h&&(h._x=e[g++]-c,h._y=e[g++]-f)):(u||(e[g++]=c,e[g++]=f),h||(e[g++]=c,e[g++]=f))),e}}),oe=V.extend({initialize:function(e,n,s){var u,h,c;if(!e)u=h=0;else if((u=e[0])!==o)h=e[1];else{var f=e;(u=f.x)===o&&(f=V.read(arguments),u=f.x),h=f.y,c=f.selected}this._x=u,this._y=h,this._owner=n,n[s]=this,c&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=G.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),ft=p.extend({_class:"Curve",beans:!0,initialize:function(e,n,s,u,h,c,f,g){var v=arguments.length,b,S,x,y,L,A;v===3?(this._path=e,b=n,S=s):v?v===1?"segment1"in e?(b=new At(e.segment1),S=new At(e.segment2)):"point1"in e?(x=e.point1,L=e.handle1,A=e.handle2,y=e.point2):Array.isArray(e)&&(x=[e[0],e[1]],y=[e[6],e[7]],L=[e[2]-e[0],e[3]-e[1]],A=[e[4]-e[6],e[5]-e[7]]):v===2?(b=new At(e),S=new At(n)):v===4?(x=e,L=n,A=s,y=u):v===8&&(x=[e,n],y=[f,g],L=[s-e,u-n],A=[h-f,c-g]):(b=new At,S=new At),this._segment1=b||new At(x,null,L),this._segment2=S||new At(y,A,null)},_serialize:function(t,e){return p.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=o},clone:function(){return new ft(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return ft.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(V.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(V.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(V.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(V.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return ft.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new V(t[n],t[n+1]));return e}},{getLength:function(){return this._length==null&&(this._length=ft.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ft.getArea(this.getValues())},getLine:function(){return new _t(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new ft(ft.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return ft.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=1e-8,s=1-n,u=null;if(t>=n&&t<=s){var h=ft.subdivide(this.getValues(),t),c=h[0],f=h[1],g=e||this.hasHandles(),v=this._segment1,b=this._segment2,S=this._path;g&&(v._handleOut._set(c[2]-c[0],c[3]-c[1]),b._handleIn._set(f[4]-f[6],f[5]-f[7]));var x=c[6],y=c[7],L=new At(new V(x,y),g&&new V(c[4]-x,c[5]-y),g&&new V(f[2]-x,f[3]-y));S?(S.insert(v._index+1,L),u=this.getNext()):(this._segment2=L,this._changed(),u=new ft(L,b))}return u},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===o?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===o?.5:e?t:this.getTimeAt(t))},reversed:function(){return new ft(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,s){var u=t._point,h=t._handleOut,c=e._handleIn,f=e._point,g=u.x,v=u.y,b=f.x,S=f.y,x=s?[g,v,g,v,b,S,b,S]:[g,v,g+h._x,v+h._y,b+c._x,S+c._y,b,S];return n&&n._transformCoordinates(x,x,4),x},subdivide:function(t,e){var n=t[0],s=t[1],u=t[2],h=t[3],c=t[4],f=t[5],g=t[6],v=t[7];e===o&&(e=.5);var b=1-e,S=b*n+e*u,x=b*s+e*h,y=b*u+e*c,L=b*h+e*f,A=b*c+e*g,T=b*f+e*v,w=b*S+e*y,P=b*x+e*L,m=b*y+e*A,I=b*L+e*T,O=b*w+e*m,R=b*P+e*I;return[[n,s,S,x,w,P,O,R],[O,R,m,I,A,T,g,v]]},getMonoCurves:function(t,e){var n=[],s=e?0:1,u=t[s+0],h=t[s+2],c=t[s+4],f=t[s+6];if(u>=h==h>=c&&h>=c==c>=f||ft.isStraight(t))n.push(t);else{var g=3*(h-c)-u+f,v=2*(u+c)-4*h,b=h-u,S=1e-8,x=1-S,y=[],L=G.solveQuadratic(g,v,b,y,S,x);if(!L)n.push(t);else{y.sort();var A=y[0],T=ft.subdivide(t,A);n.push(T[0]),L>1&&(A=(y[1]-A)/(1-A),T=ft.subdivide(T[1],A),n.push(T[0])),n.push(T[1])}}return n},solveCubic:function(t,e,n,s,u,h){var c=t[e],f=t[e+2],g=t[e+4],v=t[e+6],b=0;if(!(c<n&&v<n&&f<n&&g<n||c>n&&v>n&&f>n&&g>n)){var S=3*(f-c),x=3*(g-f)-S,y=v-c-S-x;b=G.solveCubic(y,x,S,c-n,s,u,h)}return b},getTimeOf:function(t,e){var n=new V(t[0],t[1]),s=new V(t[6],t[7]),u=1e-12,h=1e-7,c=e.isClose(n,u)?0:e.isClose(s,u)?1:null;if(c===null)for(var f=[e.x,e.y],g=[],v=0;v<2;v++)for(var b=ft.solveCubic(t,v,f[v],g,0,1),S=0;S<b;S++){var x=g[S];if(e.isClose(ft.getPoint(t,x),h))return x}return e.isClose(n,h)?0:e.isClose(s,h)?1:null},getNearestTime:function(t,e){if(ft.isStraight(t)){var n=t[0],s=t[1],u=t[6],h=t[7],c=u-n,f=h-s,g=c*c+f*f;if(g===0)return 0;var v=((e.x-n)*c+(e.y-s)*f)/g;return v<1e-12?0:v>.999999999999?1:ft.getTimeOf(t,new V(n+v*c,s+v*f))}var b=100,S=1/0,x=0;function y(T){if(T>=0&&T<=1){var w=e.getDistance(ft.getPoint(t,T),!0);if(w<S)return S=w,x=T,!0}}for(var L=0;L<=b;L++)y(L/b);for(var A=1/(b*2);A>1e-8;)!y(x-A)&&!y(x+A)&&(A/=2);return x},getPart:function(t,e,n){var s=e>n;if(s){var u=e;e=n,n=u}return e>0&&(t=ft.subdivide(t,e)[1]),n<1&&(t=ft.subdivide(t,(n-e)/(1-e))[0]),s?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],s=t[1],u=t[2],h=t[3],c=t[4],f=t[5],g=t[6],v=t[7],b=3*u-2*n-g,S=3*h-2*s-v,x=3*c-2*g-n,y=3*f-2*v-s;return Math.max(b*b,x*x)+Math.max(S*S,y*y)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],s=t[2],u=t[3],h=t[4],c=t[5],f=t[6],g=t[7];return 3*((g-n)*(s+h)-(f-e)*(u+c)+u*(e-h)-s*(n-c)+g*(h+e/3)-f*(c+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),s=[0,0],u=0;u<2;u++)ft._addBounds(t[u],t[u+2],t[u+4],t[u+6],u,0,e,n,s);return new ot(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,s,u,h,c,f,g){function v(O,R){var E=O-R,B=O+R;E<c[u]&&(c[u]=E),B>f[u]&&(f[u]=B)}h/=2;var b=c[u]+h,S=f[u]-h;if(t<b||e<b||n<b||s<b||t>S||e>S||n>S||s>S)if(e<t!=e<s&&n<t!=n<s)v(t,0),v(s,0);else{var x=3*(e-n)-t+s,y=2*(t+n)-4*e,L=e-t,A=G.solveQuadratic(x,y,L,g),T=1e-8,w=1-T;v(s,0);for(var P=0;P<A;P++){var m=g[P],I=1-m;T<=m&&m<=w&&v(I*I*I*t+3*I*I*m*e+3*I*m*m*n+m*m*m*s,h)}}}}},p.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=Pt[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),p.each({isStraight:function(t,e,n,s){if(e.isZero()&&n.isZero())return!0;var u=s.subtract(t);if(u.isZero())return!1;if(u.isCollinear(e)&&u.isCollinear(n)){var h=new _t(t,s),c=1e-7;if(h.getDistance(t.add(e))<c&&h.getDistance(s.add(n))<c){var f=u.dot(u),g=u.dot(e)/f,v=u.dot(n)/f;return g>=0&&g<=1&&v<=0&&v>=-1}}return!1},isLinear:function(t,e,n,s){var u=s.subtract(t).divide(3);return e.equals(u)&&n.negate().equals(u)}},function(t,e){this[e]=function(n){var s=this._segment1,u=this._segment2;return t(s._point,s._handleOut,u._handleIn,u._point,n)},this.statics[e]=function(n,s){var u=n[0],h=n[1],c=n[6],f=n[7];return t(new V(u,h),new V(n[2]-u,n[3]-h),new V(n[4]-c,n[5]-f),new V(c,f),s)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new se(this,t):null},getTimeAt:function(t,e){return ft.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=V.read(arguments);return t.isZero()?[]:ft.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(V.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return ft.getTimeOf(this.getValues(),V.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=V.read(arguments),e=this.getValues(),n=ft.getNearestTime(e,t),s=ft.getPoint(e,n);return new se(this,n,s,null,t.getDistance(s))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return p.each(t,function(e){this[e+"At"]=function(n,s){var u=this.getValues();return ft[e](u,s?n:ft.getTimeAt(u,n))},this[e+"AtTime"]=function(n){return ft[e](this.getValues(),n)}},{statics:{_evaluateMethods:t}})},new function(){function t(s){var u=s[0],h=s[1],c=s[2],f=s[3],g=s[4],v=s[5],b=s[6],S=s[7],x=9*(c-g)+3*(b-u),y=6*(u+g)-12*c,L=3*(c-u),A=9*(f-v)+3*(S-h),T=6*(h+v)-12*f,w=3*(f-h);return function(P){var m=(x*P+y)*P+L,I=(A*P+T)*P+w;return Math.sqrt(m*m+I*I)}}function e(s,u){return Math.max(2,Math.min(16,Math.ceil(Math.abs(u-s)*32)))}function n(s,u,h,c){if(u==null||u<0||u>1)return null;var f=s[0],g=s[1],v=s[2],b=s[3],S=s[4],x=s[5],y=s[6],L=s[7],A=G.isZero;A(v-f)&&A(b-g)&&(v=f,b=g),A(S-y)&&A(x-L)&&(S=y,x=L);var T=3*(v-f),w=3*(S-v)-T,P=y-f-T-w,m=3*(b-g),I=3*(x-b)-m,O=L-g-m-I,R,E;if(h===0)R=u===0?f:u===1?y:((P*u+w)*u+T)*u+f,E=u===0?g:u===1?L:((O*u+I)*u+m)*u+g;else{var B=1e-8,U=1-B;if(u<B?(R=T,E=m):u>U?(R=3*(y-S),E=3*(L-x)):(R=(3*P*u+2*w)*u+T,E=(3*O*u+2*I)*u+m),c){R===0&&E===0&&(u<B||u>U)&&(R=S-v,E=x-b);var W=Math.sqrt(R*R+E*E);W&&(R/=W,E/=W)}if(h===3){var S=6*P*u+2*w,x=6*O*u+2*I,K=Math.pow(R*R+E*E,3/2);R=K!==0?(R*x-E*S)/K:0,E=0}}return h===2?new V(E,-R):new V(R,E)}return{statics:{classify:function(s){var u=s[0],h=s[1],c=s[2],f=s[3],g=s[4],v=s[5],b=s[6],S=s[7],x=u*(S-v)+h*(g-b)+b*v-S*g,y=c*(h-S)+f*(b-u)+u*S-h*b,L=g*(f-h)+v*(u-c)+c*h-f*u,A=3*L,T=A-y,w=T-y+x,P=Math.sqrt(w*w+T*T+A*A),m=P!==0?1/P:0,I=G.isZero,O="serpentine";w*=m,T*=m,A*=m;function R(W,K,F){var X=K!==o,Q=X&&K>0&&K<1,tt=X&&F>0&&F<1;return X&&(!(Q||tt)||W==="loop"&&!(Q&&tt))&&(W="arch",Q=tt=!1),{type:W,roots:Q||tt?Q&&tt?K<F?[K,F]:[F,K]:[Q?K:F]:null}}if(I(w))return I(T)?R(I(A)?"line":"quadratic"):R(O,A/(3*T));var E=3*T*T-4*w*A;if(I(E))return R("cusp",T/(2*w));var B=E>0?Math.sqrt(E/3):Math.sqrt(-E),U=2*w;return R(E>0?O:"loop",(T+B)/U,(T-B)/U)},getLength:function(s,u,h,c){if(u===o&&(u=0),h===o&&(h=1),ft.isStraight(s)){var f=s;h<1&&(f=ft.subdivide(f,h)[0],u/=h),u>0&&(f=ft.subdivide(f,u)[1]);var g=f[6]-f[0],v=f[7]-f[1];return Math.sqrt(g*g+v*v)}return G.integrate(c||t(s),u,h,e(u,h))},getTimeAt:function(s,u,h){if(h===o&&(h=u<0?1:0),u===0)return h;var c=Math.abs,f=1e-12,g=u>0,v=g?h:0,b=g?1:h,S=t(s),x=ft.getLength(s,v,b,S),y=c(u)-x;if(c(y)<f)return g?b:v;if(y>f)return null;var L=u/x,A=0;function T(w){return A+=G.integrate(S,h,w,e(h,w)),h=w,A-u}return G.findRoot(T,S,h+L,v,b,32,1e-12)},getPoint:function(s,u){return n(s,u,0,!1)},getTangent:function(s,u){return n(s,u,1,!0)},getWeightedTangent:function(s,u){return n(s,u,1,!1)},getNormal:function(s,u){return n(s,u,2,!0)},getWeightedNormal:function(s,u){return n(s,u,2,!1)},getCurvature:function(s,u){return n(s,u,3,!1).x},getPeaks:function(s){var u=s[0],h=s[1],c=s[2],f=s[3],g=s[4],v=s[5],b=s[6],S=s[7],x=-u+3*c-3*g+b,y=3*u-6*c+3*g,L=-3*u+3*c,A=-h+3*f-3*v+S,T=3*h-6*f+3*v,w=-3*h+3*f,P=1e-8,m=1-P,I=[];return G.solveCubic(9*(x*x+A*A),9*(x*y+T*A),2*(y*y+T*T)+3*(L*x+w*A),L*y+T*w,I,P,m),I.sort()}}}},new function(){function t(y,L,A,T,w,P,m){var I=!m&&A.getPrevious()===w,O=!m&&A!==w&&A.getNext()===w,R=1e-8,E=1-R;if(T!==null&&T>=(I?R:0)&&T<=(O?E:1)&&P!==null&&P>=(O?R:0)&&P<=(I?E:1)){var B=new se(A,T,null,m),U=new se(w,P,null,m);B._intersection=U,U._intersection=B,(!L||L(B))&&se.insert(y,B,!0)}}function e(y,L,A,T,w,P,m,I,O,R,E,B,U){if(++O>=4096||++I>=40)return O;var W=1e-9,K=L[0],F=L[1],X=L[6],Q=L[7],tt=_t.getSignedDistance,et=tt(K,F,X,Q,L[2],L[3]),rt=tt(K,F,X,Q,L[4],L[5]),mt=et*rt>0?3/4:4/9,Ct=mt*Math.min(0,et,rt),Et=mt*Math.max(0,et,rt),Ot=tt(K,F,X,Q,y[0],y[1]),ct=tt(K,F,X,Q,y[2],y[3]),dt=tt(K,F,X,Q,y[4],y[5]),Tt=tt(K,F,X,Q,y[6],y[7]),zt=n(Ot,ct,dt,Tt),Rt=zt[0],Xt=zt[1],jt,ne;if(et===0&&rt===0&&Ot===0&&ct===0&&dt===0&&Tt===0||(jt=s(Rt,Xt,Ct,Et))==null||(ne=s(Rt.reverse(),Xt.reverse(),Ct,Et))==null)return O;var ce=R+(E-R)*jt,$t=R+(E-R)*ne;if(Math.max(U-B,$t-ce)<W){var He=(ce+$t)/2,ze=(B+U)/2;t(w,P,m?T:A,m?ze:He,m?A:T,m?He:ze)}else{y=ft.getPart(y,jt,ne);var Ye=U-B;if(ne-jt>.8)if($t-ce>Ye){var Ve=ft.subdivide(y,.5),He=(ce+$t)/2;O=e(L,Ve[0],T,A,w,P,!m,I,O,B,U,ce,He),O=e(L,Ve[1],T,A,w,P,!m,I,O,B,U,He,$t)}else{var Ve=ft.subdivide(L,.5),ze=(B+U)/2;O=e(Ve[0],y,T,A,w,P,!m,I,O,B,ze,ce,$t),O=e(Ve[1],y,T,A,w,P,!m,I,O,ze,U,ce,$t)}else Ye===0||Ye>=W?O=e(L,y,T,A,w,P,!m,I,O,B,U,ce,$t):O=e(y,L,A,T,w,P,m,I,O,ce,$t,B,U)}return O}function n(y,L,A,T){var w=[0,y],P=[1/3,L],m=[2/3,A],I=[1,T],O=L-(2*y+T)/3,R=A-(y+2*T)/3,E;if(O*R<0)E=[[w,P,I],[w,m,I]];else{var B=O/R;E=[B>=2?[w,P,I]:B<=.5?[w,m,I]:[w,P,m,I],[w,I]]}return(O||R)<0?E.reverse():E}function s(y,L,A,T){return y[0][1]<A?u(y,!0,A):L[0][1]>T?u(L,!1,T):y[0][0]}function u(y,L,A){for(var T=y[0][0],w=y[0][1],P=1,m=y.length;P<m;P++){var I=y[P][0],O=y[P][1];if(L?O>=A:O<=A)return O===A?I:T+(A-w)*(I-T)/(O-w);T=I,w=O}return null}function h(y,L,A,T,w){var P=G.isZero;if(P(T)&&P(w)){var m=ft.getTimeOf(y,new V(L,A));return m===null?[]:[m]}for(var I=Math.atan2(-w,T),O=Math.sin(I),R=Math.cos(I),E=[],B=[],U=0;U<8;U+=2){var W=y[U]-L,K=y[U+1]-A;E.push(W*R-K*O,W*O+K*R)}return ft.solveCubic(E,1,0,B,0,1),B}function c(y,L,A,T,w,P,m){for(var I=L[0],O=L[1],R=L[6],E=L[7],B=h(y,I,O,R-I,E-O),U=0,W=B.length;U<W;U++){var K=B[U],F=ft.getPoint(y,K),X=ft.getTimeOf(L,F);X!==null&&t(w,P,m?T:A,m?X:K,m?A:T,m?K:X)}}function f(y,L,A,T,w,P){var m=_t.intersect(y[0],y[1],y[6],y[7],L[0],L[1],L[6],L[7]);m&&t(w,P,A,ft.getTimeOf(y,m),T,ft.getTimeOf(L,m))}function g(y,L,A,T,w,P){var m=1e-12,I=Math.min,O=Math.max;if(O(y[0],y[2],y[4],y[6])+m>I(L[0],L[2],L[4],L[6])&&I(y[0],y[2],y[4],y[6])-m<O(L[0],L[2],L[4],L[6])&&O(y[1],y[3],y[5],y[7])+m>I(L[1],L[3],L[5],L[7])&&I(y[1],y[3],y[5],y[7])-m<O(L[1],L[3],L[5],L[7])){var R=S(y,L);if(R)for(var E=0;E<2;E++){var B=R[E];t(w,P,A,B[0],T,B[1],!0)}else{var U=ft.isStraight(y),W=ft.isStraight(L),K=U&&W,F=U&&!W,X=w.length;if((K?f:U||W?c:e)(F?L:y,F?y:L,F?T:A,F?A:T,w,P,F,0,0,0,1,0,1),!K||w.length===X)for(var E=0;E<4;E++){var Q=E>>1,tt=E&1,et=Q*6,rt=tt*6,mt=new V(y[et],y[et+1]),Ct=new V(L[rt],L[rt+1]);mt.isClose(Ct,m)&&t(w,P,A,Q,T,tt)}}}return w}function v(y,L,A,T){var w=ft.classify(y);if(w.type==="loop"){var P=w.roots;t(A,T,L,P[0],L,P[1])}return A}function b(y,L,A,T,w,P){var m=1e-7,I=!L;I&&(L=y);for(var O=y.length,R=L.length,E=new Array(O),B=I?E:new Array(R),U=[],W=0;W<O;W++)E[W]=y[W].getValues(T);if(!I)for(var W=0;W<R;W++)B[W]=L[W].getValues(w);for(var K=D.findCurveBoundsCollisions(E,B,m),F=0;F<O;F++){var X=y[F],Q=E[F];I&&v(Q,X,U,A);var tt=K[F];if(tt)for(var et=0;et<tt.length;et++){if(P&&U.length)return U;var rt=tt[et];if(!I||rt>F){var mt=L[rt],Ct=B[rt];g(Q,Ct,X,mt,U,A)}}}return U}function S(y,L){function A(Tt){var zt=Tt[6]-Tt[0],Rt=Tt[7]-Tt[1];return zt*zt+Rt*Rt}var T=Math.abs,w=_t.getDistance,P=1e-8,m=1e-7,I=ft.isStraight(y),O=ft.isStraight(L),R=I&&O,E=A(y)<A(L),B=E?L:y,U=E?y:L,W=B[0],K=B[1],F=B[6]-W,X=B[7]-K;if(w(W,K,F,X,U[0],U[1],!0)<m&&w(W,K,F,X,U[6],U[7],!0)<m)!R&&w(W,K,F,X,B[2],B[3],!0)<m&&w(W,K,F,X,B[4],B[5],!0)<m&&w(W,K,F,X,U[2],U[3],!0)<m&&w(W,K,F,X,U[4],U[5],!0)<m&&(I=O=R=!0);else if(R)return null;if(I^O)return null;for(var Q=[y,L],tt=[],et=0;et<4&&tt.length<2;et++){var rt=et&1,mt=rt^1,Ct=et>>1,Et=ft.getTimeOf(Q[rt],new V(Q[mt][Ct?6:0],Q[mt][Ct?7:1]));if(Et!=null){var Ot=rt?[Ct,Et]:[Et,Ct];(!tt.length||T(Ot[0]-tt[0][0])>P&&T(Ot[1]-tt[0][1])>P)&&tt.push(Ot)}if(et>2&&!tt.length)break}if(tt.length!==2)tt=null;else if(!R){var ct=ft.getPart(y,tt[0][0],tt[1][0]),dt=ft.getPart(L,tt[0][1],tt[1][1]);(T(dt[2]-ct[2])>m||T(dt[3]-ct[3])>m||T(dt[4]-ct[4])>m||T(dt[5]-ct[5])>m)&&(tt=null)}return tt}function x(y,L){var A=y[0],T=y[1],w=y[2],P=y[3],m=y[4],I=y[5],O=y[6],R=y[7],E=L.normalize(),B=E.x,U=E.y,W=3*O-9*m+9*w-3*A,K=3*R-9*I+9*P-3*T,F=6*m-12*w+6*A,X=6*I-12*P+6*T,Q=3*w-3*A,tt=3*P-3*T,et=2*W*U-2*K*B,rt=[];if(Math.abs(et)<G.CURVETIME_EPSILON){var mt=W*tt-K*Q,et=W*X-K*F;if(et!=0){var Ct=-mt/et;Ct>=0&&Ct<=1&&rt.push(Ct)}}else{var Et=(F*F-4*W*Q)*U*U+(-2*F*X+4*K*Q+4*W*tt)*B*U+(X*X-4*K*tt)*B*B,Ot=F*U-X*B;if(Et>=0&&et!=0){var ct=Math.sqrt(Et),dt=-(Ot+ct)/et,Tt=(-Ot+ct)/et;dt>=0&&dt<=1&&rt.push(dt),Tt>=0&&Tt<=1&&rt.push(Tt)}}return rt}return{getIntersections:function(y){var L=this.getValues(),A=y&&y!==this&&y.getValues();return A?g(L,A,this,y,[]):v(L,this,[])},statics:{getOverlaps:S,getIntersections:b,getCurveLineIntersections:h,getTimesWithTangent:x}}}),se=p.extend({_class:"CurveLocation",initialize:function(e,n,s,u,h){if(n>=.99999999){var c=e.getNext();c&&(n=0,e=c)}this._setCurve(e),this._time=n,this._point=s||e.getPointAtTime(n),this._overlap=u,this._distance=h,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();n===0?t=e._segment1:n===1?t=e._segment2:n!=null&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function n(s){var u=s&&s.getCurve();if(u&&(e._time=u.getTimeOf(e._point))!=null)return e._setCurve(u),u}return this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&e==null?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var e=this.getPath(),n=this.getIndex();if(e&&n!=null)for(var s=e.getCurves(),u=0;u<n;u++)t+=s[u].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=n!=null&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof se){var s=this.getCurve(),u=t.getCurve(),h=s._path,c=u._path;if(h===c){var f=Math.abs,g=1e-7,v=f(this.getOffset()-t.getOffset()),b=!e&&this._intersection,S=!e&&t._intersection;n=(v<g||h&&f(h.getLength()-v)<g)&&(!b&&!S||b&&S&&b.equals(S,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=j.instance;e&&t.push("point: "+e);var s=this.getIndex();s!=null&&t.push("index: "+s);var u=this.getTime();return u!=null&&t.push("time: "+n.number(u)),this._distance!=null&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),n=t.getTime(),s=1e-8,u=1-s,h=e>=s&&e<=u,c=n>=s&&n<=u;if(h&&c)return!this.isTouching();var f=this.getCurve(),g=f&&e<s?f.getPrevious():f,v=t.getCurve(),b=v&&n<s?v.getPrevious():v;if(e>u&&(f=f.getNext()),n>u&&(v=v.getNext()),!g||!f||!b||!v)return!1;var S=[];function x(B,U){var W=B.getValues(),K=ft.classify(W).roots||ft.getPeaks(W),F=K.length,X=ft.getLength(W,U&&F?K[F-1]:0,!U&&F?K[0]:1);S.push(F?X:X/32)}function y(B,U,W){return U<W?B>U&&B<W:B>U||B<W}h||(x(g,!0),x(f,!1)),c||(x(b,!0),x(v,!1));var L=this.getPoint(),A=Math.min.apply(Math,S),T=h?f.getTangentAtTime(e):f.getPointAt(A).subtract(L),w=h?T.negate():g.getPointAt(-A).subtract(L),P=c?v.getTangentAtTime(n):v.getPointAt(A).subtract(L),m=c?P.negate():b.getPointAt(-A).subtract(L),I=w.getAngle(),O=T.getAngle(),R=m.getAngle(),E=P.getAngle();return!!(h?y(I,R,E)^y(O,R,E)&&y(I,E,R)^y(O,E,R):y(R,I,O)^y(E,I,O)&&y(R,O,I)^y(E,O,I))},hasOverlap:function(){return!!this._overlap}},p.each(ft._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var n=this.getCurve(),s=this.getTime();return s!=null&&n&&n[e](s,!0)}},{preserve:!0}),new function(){function t(e,n,s){var u=e.length,h=0,c=u-1;function f(L,A){for(var T=L+A;T>=-1&&T<=u;T+=A){var w=e[(T%u+u)%u];if(!n.getPoint().isClose(w.getPoint(),1e-7))break;if(n.equals(w))return w}return null}for(;h<=c;){var g=h+c>>>1,v=e[g],b;if(s&&(b=n.equals(v)?v:f(g,-1)||f(g,1)))return n._overlap&&(b._overlap=b._intersection._overlap=!0),b;var S=n.getPath(),x=v.getPath(),y=S!==x?S._id-x._id:n.getIndex()+n.getTime()-(v.getIndex()+v.getTime());y<0?c=g-1:h=g+1}return e.splice(h,0,n),n}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),s=e.length-1;s>=0;s--)t(n,e[s]._intersection,!1);return n}}}}),xe=k.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,s;if(p.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:typeof t=="string"&&(e=t),n){var u=n[0];s=u&&Array.isArray(u[0])}else e&&(s=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var h=s?Vt:Pt;return new h(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),n,s=!1,u,h,c=new V,f=new V;function g(m,I){var O=+n[m];return s&&(O+=c[I]),O}function v(m){return new V(g(m,"x"),g(m+1,"y"))}this.clear();for(var b=0,S=e&&e.length;b<S;b++){var x=e[b],y=x[0],L=y.toLowerCase();n=x.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var A=n&&n.length;switch(s=y===L,u==="z"&&!/[mz]/.test(L)&&this.moveTo(c),L){case"m":case"l":for(var T=L==="m",w=0;w<A;w+=2)this[T?"moveTo":"lineTo"](c=v(w)),T&&(f=c,T=!1);h=c;break;case"h":case"v":var P=L==="h"?"x":"y";c=c.clone();for(var w=0;w<A;w++)c[P]=g(w,P),this.lineTo(c);h=c;break;case"c":for(var w=0;w<A;w+=6)this.cubicCurveTo(v(w),h=v(w+2),c=v(w+4));break;case"s":for(var w=0;w<A;w+=4)this.cubicCurveTo(/[cs]/.test(u)?c.multiply(2).subtract(h):c,h=v(w),c=v(w+2)),u=L;break;case"q":for(var w=0;w<A;w+=4)this.quadraticCurveTo(h=v(w),c=v(w+2));break;case"t":for(var w=0;w<A;w+=2)this.quadraticCurveTo(h=/[qt]/.test(u)?c.multiply(2).subtract(h):c,c=v(w)),u=L;break;case"a":for(var w=0;w<A;w+=7)this.arcTo(c=v(w+5),new nt(+n[w],+n[w+1]),+n[w+2],+n[w+4],+n[w+3]);break;case"z":this.closePath(1e-12),c=f;break}u=L}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(t,e,n,s){var u=this===t||!t,h=this._matrix._orNullIfIdentity(),c=u?h:(n||t._matrix)._orNullIfIdentity();return u||this.getBounds(h).intersects(t.getBounds(c),1e-12)?ft.getIntersections(this.getCurves(),!u&&t.getCurves(),e,h,c,s):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=V.read(arguments),e=this.getCurves(),n=1/0,s=null,u=0,h=e.length;u<h;u++){var c=e[u].getNearestLocation(t);c._distance<n&&(n=c._distance,s=c)}return s},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,n){var s=!this._children,u=s?"_segments":"_children",h=t[u],c=e[u],f=this[u];if(!h||!c||h.length!==c.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var g=f.length,v=c.length;if(g<v)for(var b=s?At:Pt,S=g;S<v;S++)this.add(new b);else g>v&&this[s?"removeSegments":"removeChildren"](v,g);for(var S=0;S<v;S++)f[S].interpolate(h[S],c[S],n);s&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],s=t._children?t._children.slice():[t],u=n.length,h=s.length,c=[],f=0;e=!0;for(var g=D.findItemBoundsCollisions(n,s,G.GEOMETRIC_EPSILON),v=u-1;v>=0&&e;v--){var b=n[v];e=!1;var S=g[v];if(S)for(var x=S.length-1;x>=0&&!e;x--)b.compare(s[S[x]])&&(c[S[x]]||(c[S[x]]=!0,f++),e=!0)}e=e&&f===h}return e}}),Pt=xe.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var n=arguments,s=Array.isArray(e)?typeof e[0]=="object"?e:n:e&&e.size===o&&(e.x!==o||e.point!==o)?n:null;s&&s.length>0?this.setSegments(s):(this._curves=o,this._segmentSelection=0,!s&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!s&&e)},_equals:function(t){return this._closed===t._closed&&p.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),e&8){if(this._length=this._area=o,e&32)this._version++;else if(this._curves)for(var n=0,s=this._curves.length;n<s;n++)this._curves[n]._changed()}else e&64&&(this._bounds=o)},getStyle:function(){var t=this._parent;return(t instanceof Vt?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,n){var s=t[n-1];typeof s=="boolean"&&(this.setClosed(s),n--),this._add(At.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var s=0;s<n;s++)t[s]=new ft(this,e[s],e[s+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new ft(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var n=this._segments,s=n.length,u=new j(e),h=new Array(6),c=!0,f,g,v,b,S,x,y,L,A=[];function T(P,m){if(P._transformCoordinates(t,h),f=h[0],g=h[1],c)A.push("M"+u.pair(f,g)),c=!1;else if(S=h[2],x=h[3],S===f&&x===g&&y===v&&L===b){if(!m){var I=f-v,O=g-b;A.push(I===0?"v"+u.number(O):O===0?"h"+u.number(I):"l"+u.pair(I,O))}}else A.push("c"+u.pair(y-v,L-b)+" "+u.pair(S-v,x-b)+" "+u.pair(f-v,g-b));v=f,b=g,y=h[4],L=h[5]}if(!s)return"";for(var w=0;w<s;w++)T(n[w]);return this._closed&&s>0&&(T(n[0],!0),A.push("z")),A.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),s=0,u=e.length;s<u;s++)e[s]._transformCoordinates(t,n,!0);return!0},_add:function(t,c){for(var n=this._segments,s=this._curves,u=t.length,h=c==null,c=h?n.length:c,f=0;f<u;f++){var g=t[f];g._path&&(g=t[f]=g.clone()),g._path=this,g._index=c+f,g._selection&&this._updateSelection(g,0,g._selection)}if(h)p.push(n,t);else{n.splice.apply(n,[c,0].concat(t));for(var f=c+u,v=n.length;f<v;f++)n[f]._index=f}if(s){var b=this._countCurves(),S=c>0&&c+u-1===b?c-1:c,x=S,y=Math.min(S+u,b);t._curves&&(s.splice.apply(s,[S,0].concat(t._curves)),x+=t._curves.length);for(var f=x;f<y;f++)s.splice(f,0,new ft(this,null,null));this._adjustCurves(S,y)}return this._changed(41),t},_adjustCurves:function(t,e){for(var n=this._segments,s=this._curves,u,h=t;h<e;h++)u=s[h],u._path=this,u._segment1=n[h],u._segment2=n[h+1]||n[0],u._changed();(u=s[this._closed&&!t?n.length-1:t-1])&&(u._segment2=n[t]||n[0],u._changed()),(u=s[e])&&(u._segment1=n[e],u._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&typeof t!="number"?this._add(At.readList(e)):this._add([At.read(e)])[0]},insert:function(t,e){var n=arguments;return n.length>2&&typeof e!="number"?this._add(At.readList(n,1),t):this._add([At.read(n,1)],t)[0]},addSegment:function(){return this._add([At.read(arguments)])[0]},insertSegment:function(t){return this._add([At.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(At.readList(t))},insertSegments:function(t,e){return this._add(At.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=p.pick(e,this._segments.length);var s=this._segments,u=this._curves,h=s.length,c=s.splice(t,e-t),f=c.length;if(!f)return c;for(var g=0;g<f;g++){var v=c[g];v._selection&&this._updateSelection(v,v._selection,0),v._index=v._path=null}for(var g=t,b=s.length;g<b;g++)s[g]._index=g;if(u){for(var S=t>0&&e===h+(this._closed?1:0)?t-1:t,u=u.splice(S,f),g=u.length-1;g>=0;g--)u[g]._path=null;n&&(c._curves=u.slice(1)),this._adjustCurves(S,S)}return this._changed(41),c},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),e=0,n=0,s=t.length;n<s;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(t==null){var e=this._segments,n=this._closed;t=0;for(var s=0,u=e.length;s<u;s++){var h=s+1===u;t+=ft.getArea(ft.getValues(e[s],e[h?0:s+1],null,h&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){e&1||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,s=t?7:0;this._segmentSelection=s*n;for(var u=0;u<n;u++)e[u]._selection=s},_updateSelection:function(t,e,n){t._selection=n;var s=this._segmentSelection+=n-e;s>0&&this.setSelected(!0)},divideAt:function(t){var e=this.getLocationAt(t),n;return e&&(n=e.getCurve().divideAt(e.getCurveOffset()))?n._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,s=e&&e.time,u=1e-8,h=1-u;s>h&&(n++,s=0);var c=this.getCurves();if(n>=0&&n<c.length){s>=u&&c[n++].divideAtTime(s);var f=this.removeSegments(n,this._segments.length,!0),g;return this._closed?(this.setClosed(!1),g=this):(g=new Pt(k.NO_INSERT),g.insertAbove(this),g.copyAttributes(this)),g._add(f,0),this.addSegment(f[0]),g}return null},split:function(t,e){var n,s=e===o?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return s!=null?this.splitAt(s):null},join:function(t,e){var n=e||0;if(t&&t!==this){var s=t._segments,u=this.getLastSegment(),h=t.getLastSegment();if(!h)return this;u&&u._point.isClose(h._point,n)&&t.reverse();var c=t.getFirstSegment();if(u&&u._point.isClose(c._point,n))u.setHandleOut(c._handleOut),this._add(s.slice(1));else{var f=this.getFirstSegment();f&&f._point.isClose(c._point,n)&&t.reverse(),h=t.getLastSegment(),f&&f._point.isClose(h._point,n)?(f.setHandleIn(h._handleIn),this._add(s.slice(0,s.length-1),0)):this._add(s.slice())}t._closed&&this._add([s[0]]),t.remove()}var g=this.getFirstSegment(),v=this.getLastSegment();return g!==v&&g._point.isClose(v._point,n)&&(g.setHandleIn(v._handleIn),v.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,s=n?1e-7:0,u=e.length-1;u>=0;u--){var h=e[u];!h.hasHandles()&&(!h.hasLength(s)||n&&h.isCollinear(h.getNext()))&&h.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],s=n._handleIn;n._handleIn=n._handleOut,n._handleOut=s,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new Ft(this,t||.25,256,!0),n=e.parts,s=n.length,u=[],h=0;h<s;h++)u.push(new At(n[h].curve.slice(0,2)));!this._closed&&s>0&&u.push(new At(n[s-1].curve.slice(6))),this.setSegments(u)},simplify:function(t){var e=new ge(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,n=t||{},s=n.type||"asymmetric",u=this._segments,h=u.length,c=this._closed;function f(Rt,Xt){var jt=Rt&&Rt.index;if(jt!=null){var ne=Rt.path;if(ne&&ne!==e)throw new Error(Rt._class+" "+jt+" of "+ne+" is not part of "+e);Xt&&Rt instanceof ft&&jt++}else jt=typeof Rt=="number"?Rt:Xt;return Math.min(jt<0&&c?jt%h:jt<0?jt+h:jt,h-1)}var g=c&&n.from===o&&n.to===o,v=f(n.from,0),b=f(n.to,h-1);if(v>b)if(c)v-=h;else{var S=v;v=b,b=S}if(/^(?:asymmetric|continuous)$/.test(s)){var x=s==="asymmetric",y=Math.min,L=b-v+1,A=L-1,T=g?y(L,4):1,w=T,P=T,m=[];if(c||(w=y(1,v),P=y(1,h-b-1)),A+=w+P,A<=1)return;for(var I=0,O=v-w;I<=A;I++,O++)m[I]=u[(O<0?O+h:O)%h]._point;for(var R=m[0]._x+2*m[1]._x,E=m[0]._y+2*m[1]._y,B=2,U=A-1,W=[R],K=[E],F=[B],X=[],Q=[],I=1;I<A;I++){var tt=I<U,et=tt||x?1:2,rt=tt?4:x?2:7,mt=tt?4:x?3:8,Ct=tt?2:x?0:1,Et=et/B;B=F[I]=rt-Et,R=W[I]=mt*m[I]._x+Ct*m[I+1]._x-Et*R,E=K[I]=mt*m[I]._y+Ct*m[I+1]._y-Et*E}X[U]=W[U]/F[U],Q[U]=K[U]/F[U];for(var I=A-2;I>=0;I--)X[I]=(W[I]-X[I+1])/F[I],Q[I]=(K[I]-Q[I+1])/F[I];X[A]=(3*m[A]._x-X[U])/2,Q[A]=(3*m[A]._y-Q[U])/2;for(var I=w,Ot=A-P,O=v;I<=Ot;I++,O++){var ct=u[O<0?O+h:O],dt=ct._point,Tt=X[I]-dt._x,zt=Q[I]-dt._y;(g||I<Ot)&&ct.setHandleOut(Tt,zt),(g||I>w)&&ct.setHandleIn(-Tt,-zt)}}else for(var I=v;I<=b;I++)u[I<0?I+h:I].smooth(n,!g&&I===v,!g&&I===b)},toShape:function(t){if(!this._closed)return null;var e=this._segments,n,s,u,h;function c(x,y){var L=e[x],A=L.getNext(),T=e[y],w=T.getNext();return L._handleOut.isZero()&&A._handleIn.isZero()&&T._handleOut.isZero()&&w._handleIn.isZero()&&A._point.subtract(L._point).isCollinear(w._point.subtract(T._point))}function f(x){var y=e[x],L=y.getPrevious(),A=y.getNext();return L._handleOut.isZero()&&y._handleIn.isZero()&&y._handleOut.isZero()&&A._handleIn.isZero()&&y._point.subtract(L._point).isOrthogonal(A._point.subtract(y._point))}function g(x){var y=e[x],L=y.getNext(),A=y._handleOut,T=L._handleIn,w=.5522847498307936;if(A.isOrthogonal(T)){var P=y._point,m=L._point,I=new _t(P,A,!0).intersect(new _t(m,T,!0),!0);return I&&G.isZero(A.getLength()/I.subtract(P).getLength()-w)&&G.isZero(T.getLength()/I.subtract(m).getLength()-w)}return!1}function v(x,y){return e[x]._point.getDistance(e[y]._point)}if(!this.hasHandles()&&e.length===4&&c(0,2)&&c(1,3)&&f(1)?(n=qt.Rectangle,s=new nt(v(0,3),v(0,1)),h=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&g(0)&&g(2)&&g(4)&&g(6)&&c(1,5)&&c(3,7)?(n=qt.Rectangle,s=new nt(v(1,6),v(0,3)),u=s.subtract(new nt(v(0,7),v(1,2))).divide(2),h=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&g(0)&&g(1)&&g(2)&&g(3)&&(G.isZero(v(0,2)-v(1,3))?(n=qt.Circle,u=v(0,2)/2):(n=qt.Ellipse,u=new nt(v(2,0)/2,v(3,1)/2)),h=e[1]._point),n){var b=this.getPosition(!0),S=new n({center:b,size:s,radius:u,insert:!1});return S.copyAttributes(this,!0),S._matrix.prepend(this._matrix),S.rotate(h.subtract(b).getAngle()+90),(t===o||t)&&S.insertAbove(this),S}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof Vt)return t.base.call(this,e);var n=this.getCurves(),s=e.getCurves(),u=n.length,h=s.length;if(!u||!h)return u==h;for(var c=n[0].getValues(),f=[],g=0,v,b=0,S,x=0;x<h;x++){var T=s[x].getValues();f.push(T);var y=ft.getOverlaps(c,T);if(y){v=!x&&y[0][0]>0?h-1:x,S=y[0][1];break}}for(var L=Math.abs,A=1e-8,T=f[v],w;c&&T;){var y=ft.getOverlaps(c,T);if(y){var P=y[0][0];if(L(P-b)<A){b=y[1][0],b===1&&(c=++g<u?n[g].getValues():null,b=0);var m=y[0][1];if(L(m-S)<A){if(w||(w=[v,m]),S=y[1][1],S===1&&(++v>=h&&(v=0),T=f[v]||s[v].getValues(),S=0),!c)return w[0]===v&&w[1]===S;continue}}}break}return!1},_hitTestSelf:function(t,e,n,s){var u=this,h=this.getStyle(),c=this._segments,f=c.length,g=this._closed,v=e._tolerancePadding,b=v,S,x,y,L,A,T,w=e.stroke&&h.hasStroke(),P=e.fill&&h.hasFill(),m=e.curves,I=w?h.getStrokeWidth()/2:P&&e.tolerance>0||m?0:null;I!==null&&(I>0?(S=h.getStrokeJoin(),x=h.getStrokeCap(),y=h.getMiterLimit(),b=b.add(Pt._getStrokePadding(I,s))):S=x="round");function O(X,Q){return t.subtract(X).divide(Q).length<=1}function R(X,Q,tt){if(!e.selected||Q.isSelected()){var et=X._point;if(Q!==et&&(Q=Q.add(et)),O(Q,b))return new Ht(tt,u,{segment:X,point:Q})}}function E(X,Q){return(Q||e.segments)&&R(X,X._point,"segment")||!Q&&e.handles&&(R(X,X._handleIn,"handle-in")||R(X,X._handleOut,"handle-out"))}function B(X){L.add(X)}function U(X){var Q=g||X._index>0&&X._index<f-1;if((Q?S:x)==="round")return O(X._point,b);if(L=new Pt({internal:!0,closed:!0}),Q?X.isSmooth()||Pt._addBevelJoin(X,S,I,y,null,s,B,!0):x==="square"&&Pt._addSquareCap(X,x,I,null,s,B,!0),!L.isEmpty()){var tt;return L.contains(t)||(tt=L.getNearestLocation(t))&&O(tt.getPoint(),v)}}if(e.ends&&!e.segments&&!g){if(T=E(c[0],!0)||E(c[f-1],!0))return T}else if(e.segments||e.handles){for(var W=0;W<f;W++)if(T=E(c[W]))return T}if(I!==null){if(A=this.getNearestLocation(t),A){var K=A.getTime();K===0||K===1&&f>1?U(A.getSegment())||(A=null):O(A.getPoint(),b)||(A=null)}if(!A&&S==="miter"&&f>1)for(var W=0;W<f;W++){var F=c[W];if(t.getDistance(F._point)<=y*I&&U(F)){A=F.getLocation();break}}}return!A&&P&&this._contains(t)||A&&!w&&!m?new Ht("fill",this):A?new Ht(w?"stroke":"curve",this,{location:A,point:A.getPoint()}):null}},p.each(ft._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=V.read(arguments),e=this.getCurves(),n=0,s=e.length;n<s;n++){var u=e[n].getLocationOf(t);if(u)return u}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var e=this.getCurves(),n=0,s=0,u=e.length;s<u;s++){var h=n,c=e[s];if(n+=c.getLength(),n>t)return c.getLocationAt(t-h)}if(e.length>0&&t<=this.getLength())return new se(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=V.read(arguments);if(t.isZero())return[];for(var e=[],n=0,s=this.getCurves(),u=0,h=s.length;u<h;u++){for(var c=s[u],f=c.getTimesWithTangent(t),g=0,v=f.length;g<v;g++){var b=n+c.getOffsetAtTime(f[g]);e.indexOf(b)<0&&e.push(b)}n+=c.length}return e}}),new function(){function t(n,s,u,h){if(h<=0)return;var c=h/2,f=h-2,g=c-1,v=new Array(6),b,S;function x(P){var m=v[P],I=v[P+1];(b!=m||S!=I)&&(n.beginPath(),n.moveTo(b,S),n.lineTo(m,I),n.stroke(),n.beginPath(),n.arc(m,I,c,0,Math.PI*2,!0),n.fill())}for(var y=0,L=s.length;y<L;y++){var A=s[y],T=A._selection;if(A._transformCoordinates(u,v),b=v[0],S=v[1],T&2&&x(2),T&4&&x(4),n.fillRect(b-c,S-c,h,h),f>0&&!(T&1)){var w=n.fillStyle;n.fillStyle="#ffffff",n.fillRect(b-g,S-g,f,f),n.fillStyle=w}}}function e(n,s,u){var h=s._segments,c=h.length,f=new Array(6),g=!0,v,b,S,x,y,L,A,T;function w(m){if(u)m._transformCoordinates(u,f),v=f[0],b=f[1];else{var I=m._point;v=I._x,b=I._y}if(g)n.moveTo(v,b),g=!1;else{if(u)y=f[2],L=f[3];else{var O=m._handleIn;y=v+O._x,L=b+O._y}y===v&&L===b&&A===S&&T===x?n.lineTo(v,b):n.bezierCurveTo(A,T,y,L,v,b)}if(S=v,x=b,u)A=f[4],T=f[5];else{var O=m._handleOut;A=S+O._x,T=x+O._y}}for(var P=0;P<c;P++)w(h[P]);s._closed&&c>0&&w(h[0])}return{_draw:function(n,s,u,h){var c=s.dontStart,f=s.dontFinish||s.clip,g=this.getStyle(),v=g.hasFill(),b=g.hasStroke(),S=g.getDashArray(),x=!Jt.support.nativeDash&&b&&S&&S.length;c||n.beginPath(),(v||b&&!x||f)&&(e(n,this,h),this._closed&&n.closePath());function y(m){return S[(m%x+x)%x]}if(!f&&(v||b)&&(this._setStyles(n,s,u),v&&(n.fill(g.getFillRule()),n.shadowColor="rgba(0,0,0,0)"),b)){if(x){c||n.beginPath();for(var L=new Ft(this,.25,32,!1,h),A=L.length,T=-g.getDashOffset(),w,P=0;T>0;)T-=y(P--)+y(P--);for(;T<A;)w=T+y(P++),(T>0||w>0)&&L.drawPart(n,Math.max(T,0),Math.max(w,0)),T=w+y(P++)}n.stroke()}},_drawSelected:function(n,s){n.beginPath(),e(n,this,s),n.stroke(),t(n,this._segments,s,Jt.settings.handleSize)}}},new function(){function t(e){var n=e._segments;if(!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new At(V.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new At(V.read(arguments))])},cubicCurveTo:function(){var e=arguments,n=V.read(e),s=V.read(e),u=V.read(e),h=t(this);h.setHandleOut(n.subtract(h._point)),this._add([new At(u,s.subtract(u))])},quadraticCurveTo:function(){var e=arguments,n=V.read(e),s=V.read(e),u=t(this)._point;this.cubicCurveTo(n.add(u.subtract(n).multiply(1/3)),n.add(s.subtract(n).multiply(1/3)),s)},curveTo:function(){var e=arguments,n=V.read(e),s=V.read(e),u=p.pick(p.read(e),.5),h=1-u,c=t(this)._point,f=n.subtract(c.multiply(h*h)).subtract(s.multiply(u*u)).divide(2*u*h);if(f.isNaN())throw new Error("Cannot put a curve through points with parameter = "+u);this.quadraticCurveTo(f,s)},arcTo:function(){var e=arguments,n=Math.abs,s=Math.sqrt,u=t(this),h=u._point,c=V.read(e),f,g=p.peek(e),v=p.pick(g,!0),b,S,x,y;if(typeof v=="boolean")var L=h.add(c).divide(2),f=L.add(L.subtract(h).rotate(v?-90:90));else if(p.remain(e)<=2)f=c,c=V.read(e);else if(!h.equals(c)){var A=nt.read(e),T=G.isZero;if(T(A.width)||T(A.height))return this.lineTo(c);var w=p.read(e),v=!!p.read(e),P=!!p.read(e),L=h.add(c).divide(2),m=h.subtract(L).rotate(-w),I=m.x,O=m.y,R=n(A.width),E=n(A.height),B=R*R,U=E*E,W=I*I,K=O*O,F=s(W/B+K/U);if(F>1&&(R*=F,E*=F,B=R*R,U=E*E),F=(B*U-B*K-U*W)/(B*K+U*W),n(F)<1e-12&&(F=0),F<0)throw new Error("Cannot create an arc with the given arguments");b=new V(R*O/E,-E*I/R).multiply((P===v?-1:1)*s(F)).rotate(w).add(L),y=new ht().translate(b).rotate(w).scale(R,E),x=y._inverseTransform(h),S=x.getDirectedAngle(y._inverseTransform(c)),!v&&S>0?S-=360:v&&S<0&&(S+=360)}if(f){var X=new _t(h.add(f).divide(2),f.subtract(h).rotate(90),!0),Q=new _t(f.add(c).divide(2),c.subtract(f).rotate(90),!0),tt=new _t(h,c),et=tt.getSide(f);if(b=X.intersect(Q,!0),!b){if(!et)return this.lineTo(c);throw new Error("Cannot create an arc with the given arguments")}x=h.subtract(b),S=x.getDirectedAngle(c.subtract(b));var rt=tt.getSide(b,!0);rt===0?S=et*n(S):et===rt&&(S+=S<0?360:-360)}if(S){for(var mt=1e-5,Ct=n(S),Et=Ct>=360?4:Math.ceil((Ct-mt)/90),Ot=S/Et,ct=Ot*Math.PI/360,dt=4/3*Math.sin(ct)/(1+Math.cos(ct)),Tt=[],zt=0;zt<=Et;zt++){var m=c,Rt=null;if(zt<Et&&(Rt=x.rotate(90).multiply(dt),y?(m=y._transformPoint(x),Rt=y._transformPoint(x.add(Rt)).subtract(m)):m=b.add(x)),!zt)u.setHandleOut(Rt);else{var Xt=x.rotate(-90).multiply(dt);y&&(Xt=y._transformPoint(x.add(Xt)).subtract(m)),Tt.push(new At(m,Xt,Rt))}x=x.rotate(Ot)}this._add(Tt)}},lineBy:function(){var e=V.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=arguments,n=V.read(e),s=V.read(e),u=p.read(e),h=t(this)._point;this.curveTo(h.add(n),h.add(s),u)},cubicCurveBy:function(){var e=arguments,n=V.read(e),s=V.read(e),u=V.read(e),h=t(this)._point;this.cubicCurveTo(h.add(n),h.add(s),h.add(u))},quadraticCurveBy:function(){var e=arguments,n=V.read(e),s=V.read(e),u=t(this)._point;this.quadraticCurveTo(u.add(n),u.add(s))},arcBy:function(){var e=arguments,n=t(this)._point,s=n.add(V.read(e)),u=p.pick(p.peek(e),!0);typeof u=="boolean"?this.arcTo(s,u):this.arcTo(s,n.add(V.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return Pt[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,s,u,h){var c=t[0];if(!c)return new ot;var f=new Array(6),g=c._transformCoordinates(s,new Array(6)),v=g.slice(0,2),b=v.slice(),S=new Array(2);function x(A){A._transformCoordinates(s,f);for(var T=0;T<2;T++)ft._addBounds(g[T],g[T+4],f[T+2],f[T],T,h?h[T]:0,v,b,S);var w=g;g=f,f=w}for(var y=1,L=t.length;y<L;y++)x(t[y]);return e&&x(c),new ot(v[0],v[1],b[0]-v[0],b[1]-v[1])},getStrokeBounds:function(t,e,n,s,u){var h=n.getStyle(),c=h.hasStroke(),f=h.getStrokeWidth(),g=c&&n._getStrokeMatrix(s,u),v=c&&Pt._getStrokePadding(f,g),b=Pt.getBounds(t,e,n,s,u,v);if(!c)return b;var S=f/2,x=h.getStrokeJoin(),y=h.getStrokeCap(),L=h.getMiterLimit(),A=new ot(new nt(v));function T(R){b=b.include(R)}function w(R){b=b.unite(A.setCenter(R._point.transform(s)))}function P(R,E){E==="round"||R.isSmooth()?w(R):Pt._addBevelJoin(R,E,S,L,s,g,T)}function m(R,E){E==="round"?w(R):Pt._addSquareCap(R,E,S,s,g,T)}var I=t.length-(e?0:1);if(I>0){for(var O=1;O<I;O++)P(t[O],x);e?P(t[0],x):(m(t[0],y),m(t[t.length-1],y))}return b},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new V(t,0).transform(e),s=new V(0,t).transform(e),u=n.getAngleInRadians(),h=n.getLength(),c=s.getLength(),f=Math.sin(u),g=Math.cos(u),v=Math.tan(u),b=Math.atan2(c*v,h),S=Math.atan2(c,v*h);return[Math.abs(h*Math.cos(b)*g+c*Math.sin(b)*f),Math.abs(c*Math.sin(S)*g+h*Math.cos(S)*f)]},_addBevelJoin:function(t,e,n,s,u,h,c,f){var g=t.getCurve(),v=g.getPrevious(),b=g.getPoint1().transform(u),S=v.getNormalAtTime(1).multiply(n).transform(h),x=g.getNormalAtTime(0).multiply(n).transform(h),y=S.getDirectedAngle(x);if((y<0||y>=180)&&(S=S.negate(),x=x.negate()),f&&c(b),c(b.add(S)),e==="miter"){var L=new _t(b.add(S),new V(-S.y,S.x),!0).intersect(new _t(b.add(x),new V(-x.y,x.x),!0),!0);L&&b.getDistance(L)<=s*n&&c(L)}c(b.add(x))},_addSquareCap:function(t,e,n,s,u,h,c){var f=t._point.transform(s),g=t.getLocation(),v=g.getNormal().multiply(g.getTime()===0?n:-n).transform(u);e==="square"&&(c&&(h(f.subtract(v)),h(f.add(v))),f=f.add(v.rotate(-90))),h(f.add(v)),h(f.subtract(v))},getHandleBounds:function(t,e,n,s,u){var h=n.getStyle(),c=u.stroke&&h.hasStroke(),f,g;if(c){var v=n._getStrokeMatrix(s,u),b=h.getStrokeWidth()/2,S=b;h.getStrokeJoin()==="miter"&&(S=b*h.getMiterLimit()),h.getStrokeCap()==="square"&&(S=Math.max(S,b*Math.SQRT2)),f=Pt._getStrokePadding(b,v),g=Pt._getStrokePadding(S,v)}for(var x=new Array(6),y=1/0,L=-y,A=y,T=L,w=0,P=t.length;w<P;w++){var m=t[w];m._transformCoordinates(s,x);for(var I=0;I<6;I+=2){var O=I?f:g,R=O?O[0]:0,E=O?O[1]:0,B=x[I],U=x[I+1],W=B-R,K=B+R,F=U-E,X=U+E;W<y&&(y=W),K>L&&(L=K),F<A&&(A=F),X>T&&(T=X)}}return new ot(y,A,L-y,T-A)}}});Pt.inject({statics:new function(){var t=.5522847498307936,e=[new At([-1,0],[0,t],[0,-t]),new At([0,-1],[-t,0],[t,0]),new At([1,0],[0,-t],[0,t]),new At([0,1],[t,0],[-t,0])];function n(u,h,c){var f=p.getNamed(c),g=new Pt(f&&(f.insert==!0?k.INSERT:f.insert==!1?k.NO_INSERT:null));return g._add(u),g._closed=h,g.set(f,k.INSERT)}function s(u,h,c){for(var f=new Array(4),g=0;g<4;g++){var v=e[g];f[g]=new At(v._point.multiply(h).add(u),v._handleIn.multiply(h),v._handleOut.multiply(h))}return n(f,!0,c)}return{Line:function(){var u=arguments;return n([new At(V.readNamed(u,"from")),new At(V.readNamed(u,"to"))],!1,u)},Circle:function(){var u=arguments,h=V.readNamed(u,"center"),c=p.readNamed(u,"radius");return s(h,new nt(c),u)},Rectangle:function(){var u=arguments,h=ot.readNamed(u,"rectangle"),c=nt.readNamed(u,"radius",0,{readNull:!0}),f=h.getBottomLeft(!0),g=h.getTopLeft(!0),v=h.getTopRight(!0),b=h.getBottomRight(!0),S;if(!c||c.isZero())S=[new At(f),new At(g),new At(v),new At(b)];else{c=nt.min(c,h.getSize(!0).divide(2));var x=c.width,y=c.height,L=x*t,A=y*t;S=[new At(f.add(x,0),null,[-L,0]),new At(f.subtract(0,y),[0,A]),new At(g.add(0,y),null,[0,-A]),new At(g.add(x,0),[-L,0],null),new At(v.subtract(x,0),null,[L,0]),new At(v.add(0,y),[0,-A],null),new At(b.subtract(0,y),null,[0,A]),new At(b.subtract(x,0),[L,0])]}return n(S,!0,u)},RoundRectangle:"#Rectangle",Ellipse:function(){var u=arguments,h=qt._readEllipse(u);return s(h.center,h.radius,u)},Oval:"#Ellipse",Arc:function(){var u=arguments,h=V.readNamed(u,"from"),c=V.readNamed(u,"through"),f=V.readNamed(u,"to"),g=p.getNamed(u),v=new Pt(g&&g.insert==!1&&k.NO_INSERT);return v.moveTo(h),v.arcTo(c,f),v.set(g)},RegularPolygon:function(){for(var u=arguments,h=V.readNamed(u,"center"),c=p.readNamed(u,"sides"),f=p.readNamed(u,"radius"),g=360/c,v=c%3===0,b=new V(0,v?-f:f),S=v?-1:.5,x=new Array(c),y=0;y<c;y++)x[y]=new At(h.add(b.rotate((y+S)*g)));return n(x,!0,u)},Star:function(){for(var u=arguments,h=V.readNamed(u,"center"),c=p.readNamed(u,"points")*2,f=p.readNamed(u,"radius1"),g=p.readNamed(u,"radius2"),v=360/c,b=new V(0,-1),S=new Array(c),x=0;x<c;x++)S[x]=new At(h.add(b.rotate(v*x).multiply(x%2?g:f)));return n(S,!0,u)}}}});var Vt=xe.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,n){var s=n,u=s[0];u&&typeof u[0]=="number"&&(s=[s]);for(var h=n.length-1;h>=0;h--){var c=s[h];s===n&&!(c instanceof Pt)&&(s=p.slice(s)),Array.isArray(c)?s[h]=new Pt({segments:c,insert:!1}):c instanceof Vt&&(s.splice.apply(s,[h,1].concat(c.removeChildren())),c.remove())}return t.base.call(this,e,s)},reduce:function t(e){for(var n=this._children,s=n.length-1;s>=0;s--){var u=n[s].reduce(e);u.isEmpty()&&u.remove()}if(!n.length){var u=new Pt(k.NO_INSERT);return u.copyAttributes(this),u.insertAbove(this),this.remove(),u}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,s=e.length;n<s;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,s=t.length;n<s;n++)p.push(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,s=t.length;n<s;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,s=t.length;n<s;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,s=[],u=0,h=n.length;u<h;u++){var c=n[u],f=c._matrix;s.push(c.getPathData(t&&!f.isIdentity()?t.appended(f):t,e))}return s.join("")},_hitTestChildren:function t(e,n,s){return t.base.call(this,e,n.class===Pt||n.type==="path"?n:p.set({},n,{fill:!1}),s)},_draw:function(t,e,n,s){var u=this._children;if(u.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var h=0,c=u.length;h<c;h++)u[h].draw(t,e,s);if(!e.clip){this._setStyles(t,e,n);var f=this._style;f.hasFill()&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),f.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var s=this._children,u=0,h=s.length;u<h;u++){var c=s[u],f=c._matrix;n[c._id]||c._drawSelected(t,f.isIdentity()?e:e.appended(f))}}},new function(){function t(e,n){var s=e._children;if(n&&!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return p.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new Pt(k.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),s=V.read(arguments);this.moveTo(n?s.add(n._point):s)},closePath:function(e){t(this,!0).closePath(e)}})},p.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n=this._children,s,u=0,h=n.length;u<h;u++)s=n[u][t](e)||s;return s}},{}));xe.inject(new function(){var t=Math.min,e=Math.max,n=Math.abs,s={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function u(w){return w._children||[w]}function h(w,P){var m=w.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(P){for(var I=u(m),O=0,R=I.length;O<R;O++){var w=I[O];!w._closed&&!w.isEmpty()&&(w.closePath(1e-12),w.getFirstSegment().setHandleIn(0,0),w.getLastSegment().setHandleOut(0,0))}m=m.resolveCrossings().reorient(m.getFillRule()==="nonzero",!0)}return m}function c(w,P,m,I,O){var R=new Vt(k.NO_INSERT);return R.addChildren(w,!0),R=R.reduce({simplify:P}),O&&O.insert==!1||R.insertAbove(I&&m.isSibling(I)&&m.getIndex()<I.getIndex()?I:m),R.copyAttributes(m,!0),R}function f(w){return w.hasOverlap()||w.isCrossing()}function g(w,P,m,I){if(I&&(I.trace==!1||I.stroke)&&/^(subtract|intersect)$/.test(m))return v(w,P,m);var O=h(w,!0),R=P&&w!==P&&h(P,!0),E=s[m];E[m]=!0,R&&(E.subtract||E.exclude)^(R.isClockwise()^O.isClockwise())&&R.reverse();var B=y(se.expand(O.getIntersections(R,f))),U=u(O),W=R&&u(R),K=[],F=[],X;function Q(Rt){for(var Xt=0,jt=Rt.length;Xt<jt;Xt++){var ne=Rt[Xt];p.push(K,ne._segments),p.push(F,ne.getCurves()),ne._overlapsOnly=!0}}function tt(Rt){for(var Xt=[],jt=0,ne=Rt&&Rt.length;jt<ne;jt++)Xt.push(F[Rt[jt]]);return Xt}if(B.length){Q(U),W&&Q(W);for(var et=new Array(F.length),rt=0,mt=F.length;rt<mt;rt++)et[rt]=F[rt].getValues();for(var Ct=D.findCurveBoundsCollisions(et,et,0,!0),Et={},rt=0;rt<F.length;rt++){var Ot=F[rt],ct=Ot._path._id,dt=Et[ct]=Et[ct]||{};dt[Ot.getIndex()]={hor:tt(Ct[rt].hor),ver:tt(Ct[rt].ver)}}for(var rt=0,mt=B.length;rt<mt;rt++)A(B[rt]._segment,O,R,Et,E);for(var rt=0,mt=K.length;rt<mt;rt++){var Tt=K[rt],zt=Tt._intersection;Tt._winding||A(Tt,O,R,Et,E),zt&&zt._overlap||(Tt._path._overlapsOnly=!1)}X=T(K,E)}else X=x(W?U.concat(W):U.slice(),function(Rt){return!!E[Rt]});return c(X,!0,w,P,I)}function v(w,P,m){var I=h(w),O=h(P),R=I.getIntersections(O,f),E=m==="subtract",B=m==="divide",U={},W=[];function K(Q){if(!U[Q._id]&&(B||O.contains(Q.getPointAt(Q.getLength()/2))^E))return W.unshift(Q),U[Q._id]=!0}for(var F=R.length-1;F>=0;F--){var X=R[F].split();X&&(K(X)&&X.getFirstSegment().setHandleIn(0,0),I.getLastSegment().setHandleOut(0,0))}return K(I),c(W,!1,w,P)}function b(w,P){for(var m=w;m;){if(m===P)return;m=m._previous}for(;w._next&&w._next!==P;)w=w._next;if(!w._next){for(;P._previous;)P=P._previous;w._next=P,P._previous=w}}function S(w){for(var P=w.length-1;P>=0;P--)w[P].clearHandles()}function x(w,P,m){var I=w&&w.length;if(I){var O=p.each(w,function(Ct,Et){this[Ct._id]={container:null,winding:Ct.isClockwise()?1:-1,index:Et}},{}),R=w.slice().sort(function(Ct,Et){return n(Et.getArea())-n(Ct.getArea())}),E=R[0],B=D.findItemBoundsCollisions(R,null,G.GEOMETRIC_EPSILON);m==null&&(m=E.isClockwise());for(var U=0;U<I;U++){var W=R[U],K=O[W._id],F=0,X=B[U];if(X){for(var Q=null,tt=X.length-1;tt>=0;tt--)if(X[tt]<U){Q=Q||W.getInteriorPoint();var et=R[X[tt]];if(et.contains(Q)){var rt=O[et._id];F=rt.winding,K.winding+=F,K.container=rt.exclude?rt.container:et;break}}}if(P(K.winding)===P(F))K.exclude=!0,w[K.index]=null;else{var mt=K.container;W.setClockwise(mt?!mt.isClockwise():m)}}}return w}function y(w,P,m){var I=P&&[],O=1e-8,R=1-O,E=!1,B=m||[],U=m&&{},W,K,F;function X(Xt){return Xt._path._id+"."+Xt._segment1._index}for(var Q=(m&&m.length)-1;Q>=0;Q--){var tt=m[Q];tt._path&&(U[X(tt)]=!0)}for(var Q=w.length-1;Q>=0;Q--){var et=w[Q],rt=et._time,mt=rt,Ct=P&&!P(et),tt=et._curve,Et;if(tt&&(tt!==K?(E=!tt.hasHandles()||U&&U[X(tt)],W=[],F=null,K=tt):F>=O&&(rt/=F)),Ct){W&&W.push(et);continue}else P&&I.unshift(et);if(F=mt,rt<O)Et=tt._segment1;else if(rt>R)Et=tt._segment2;else{var Ot=tt.divideAtTime(rt,!0);E&&B.push(tt,Ot),Et=Ot._segment1;for(var ct=W.length-1;ct>=0;ct--){var dt=W[ct];dt._time=(dt._time-rt)/(1-rt)}}et._setSegment(Et);var Tt=Et._intersection,zt=et._intersection;if(Tt){b(Tt,zt);for(var Rt=Tt;Rt;)b(Rt._intersection,Tt),Rt=Rt._next}else Et._intersection=zt}return m||S(B),I||w}function L(w,P,m,I,O){var R=Array.isArray(P)?P:P[m?"hor":"ver"],E=m?1:0,B=E^1,U=[w.x,w.y],W=U[E],K=U[B],F=1e-9,X=1e-6,Q=W-F,tt=W+F,et=0,rt=0,mt=0,Ct=0,Et=!1,Ot=!1,ct=1,dt=[],Tt,zt;function Rt(St){var Ee=St[B+0],Me=St[B+6];if(!(K<t(Ee,Me)||K>e(Ee,Me))){var Ue=St[E+0],pi=St[E+2],ki=St[E+4],vi=St[E+6];if(Ee===Me){(Ue<tt&&vi>Q||vi<tt&&Ue>Q)&&(Et=!0);return}var _i=K===Ee?0:K===Me||Q>e(Ue,pi,ki,vi)||tt<t(Ue,pi,ki,vi)?1:ft.solveCubic(St,B,K,dt,0,1)>0?dt[0]:1,ri=_i===0?Ue:_i===1?vi:ft.getPoint(St,_i)[m?"y":"x"],fi=Ee>Me?1:-1,Ai=Tt[B]>Tt[B+6]?1:-1,We=Tt[E+6];return K!==Ee?(ri<Q?mt+=fi:ri>tt?Ct+=fi:Et=!0,ri>W-X&&ri<W+X&&(ct/=2)):(fi!==Ai?Ue<Q?mt+=fi:Ue>tt&&(Ct+=fi):Ue!=We&&(We<tt&&ri>tt?(Ct+=fi,Et=!0):We>Q&&ri<Q&&(mt+=fi,Et=!0)),ct/=4),Tt=St,!O&&ri>Q&&ri<tt&&ft.getTangent(St,_i)[m?"x":"y"]===0&&L(w,P,!m,I,!0)}}function Xt(St){var Ee=St[B+0],Me=St[B+2],Ue=St[B+4],pi=St[B+6];if(K<=e(Ee,Me,Ue,pi)&&K>=t(Ee,Me,Ue,pi)){for(var ki=St[E+0],vi=St[E+2],_i=St[E+4],ri=St[E+6],fi=Q>e(ki,vi,_i,ri)||tt<t(ki,vi,_i,ri)?[St]:ft.getMonoCurves(St,m),Ai,We=0,si=fi.length;We<si;We++)if(Ai=Rt(fi[We]))return Ai}}for(var jt=0,ne=R.length;jt<ne;jt++){var ce=R[jt],$t=ce._path,He=ce.getValues(),ze;if((!jt||R[jt-1]._path!==$t)&&(Tt=null,$t._closed||(zt=ft.getValues($t.getLastCurve().getSegment2(),ce.getSegment1(),null,!I),zt[B]!==zt[B+6]&&(Tt=zt)),!Tt)){Tt=He;for(var Ye=$t.getLastCurve();Ye&&Ye!==ce;){var Ve=Ye.getValues();if(Ve[B]!==Ve[B+6]){Tt=Ve;break}Ye=Ye.getPrevious()}}if(ze=Xt(He))return ze;if(jt+1===ne||R[jt+1]._path!==$t){if(zt&&(ze=Xt(zt)))return ze;Et&&!mt&&!Ct&&(mt=Ct=$t.isClockwise(I)^m?1:-1),et+=mt,rt+=Ct,mt=Ct=0,Et&&(Ot=!0,Et=!1),zt=null}}return et=n(et),rt=n(rt),{winding:e(et,rt),windingL:et,windingR:rt,quality:ct,onPath:Ot}}function A(w,P,m,I,O){var R=[],E=w,B=0,F;do{var U=w.getCurve();if(U){var W=U.getLength();R.push({segment:w,curve:U,length:W}),B+=W}w=w.getNext()}while(w&&!w._intersection&&w!==E);for(var K=[.5,.25,.75],F={winding:0,quality:-1},X=.001,Q=1-X,tt=0;tt<K.length&&F.quality<.5;tt++)for(var W=B*K[tt],et=0,rt=R.length;et<rt;et++){var mt=R[et],Ct=mt.length;if(W<=Ct){var U=mt.curve,Et=U._path,Ot=Et._parent,ct=Ot instanceof Vt?Ot:Et,dt=G.clamp(U.getTimeAt(W),X,Q),Tt=U.getPointAtTime(dt),zt=n(U.getTangentAtTime(dt).y)<Math.SQRT1_2,Rt=null;if(O.subtract&&m){var Xt=ct===P?m:P,jt=Xt._getWinding(Tt,zt,!0);if(ct===P&&jt.winding||ct===m&&!jt.winding){if(jt.quality<1)continue;Rt={winding:0,quality:1}}}Rt=Rt||L(Tt,I[Et._id][U.getIndex()],zt,!0),Rt.quality>F.quality&&(F=Rt);break}W-=Ct}for(var et=R.length-1;et>=0;et--)R[et].segment._winding=F}function T(w,P){var m=[],I;function O(ne){var ce;return!!(ne&&!ne._visited&&(!P||P[(ce=ne._winding||{}).winding]&&!(P.unite&&ce.winding===2&&ce.windingL&&ce.windingR)))}function R(ne){if(ne){for(var ce=0,$t=I.length;ce<$t;ce++)if(ne===I[ce])return!0}return!1}function E(ne){for(var ce=ne._segments,$t=0,He=ce.length;$t<He;$t++)ce[$t]._visited=!0}function B(ne,ce){var $t=ne._intersection,He=$t,ze=[];ce&&(I=[ne]);function Ye(Ve,St){for(;Ve&&Ve!==St;){var Ee=Ve._segment,Me=Ee&&Ee._path;if(Me){var Ue=Ee.getNext()||Me.getFirstSegment(),pi=Ue._intersection;Ee!==ne&&(R(Ee)||R(Ue)||Ue&&O(Ee)&&(O(Ue)||pi&&O(pi._segment)))&&ze.push(Ee),ce&&I.push(Ee)}Ve=Ve._next}}if($t){for(Ye($t);$t&&$t._previous;)$t=$t._previous;Ye($t,He)}return ze}w.sort(function(ne,ce){var $t=ne._intersection,He=ce._intersection,ze=!!($t&&$t._overlap),Ye=!!(He&&He._overlap),Ve=ne._path,St=ce._path;return ze^Ye?ze?1:-1:!$t^!He?$t?1:-1:Ve!==St?Ve._id-St._id:ne._index-ce._index});for(var U=0,W=w.length;U<W;U++){var K=w[U],F=O(K),X=null,Q=!1,tt=!0,et=[],rt,mt,Ct;if(F&&K._path._overlapsOnly){var Et=K._path,Ot=K._intersection._segment._path;Et.compare(Ot)&&(Et.getArea()&&m.push(Et.clone(!1)),E(Et),E(Ot),F=!1)}for(;F;){var ct=!X,dt=B(K,ct),Tt=dt.shift(),Q=!ct&&(R(K)||R(Tt)),zt=!Q&&Tt;if(ct&&(X=new Pt(k.NO_INSERT),rt=null),Q){(K.isFirst()||K.isLast())&&(tt=K._path._closed),K._visited=!0;break}if(zt&&rt&&(et.push(rt),rt=null),rt||(zt&&dt.push(K),rt={start:X._segments.length,crossings:dt,visited:mt=[],handleIn:Ct}),zt&&(K=Tt),!O(K)){X.removeSegments(rt.start);for(var Rt=0,Xt=mt.length;Rt<Xt;Rt++)mt[Rt]._visited=!1;mt.length=0;do K=rt&&rt.crossings.shift(),(!K||!K._path)&&(K=null,rt=et.pop(),rt&&(mt=rt.visited,Ct=rt.handleIn));while(rt&&!O(K));if(!K)break}var jt=K.getNext();X.add(new At(K._point,Ct,jt&&K._handleOut)),K._visited=!0,mt.push(K),K=jt||K._path.getFirstSegment(),Ct=jt&&jt._handleIn}Q&&(tt&&(X.getFirstSegment().setHandleIn(Ct),X.setClosed(tt)),X.getArea()!==0&&m.push(X))}return m}return{_getWinding:function(w,P,m){return L(w,this.getCurves(),P,m)},unite:function(w,P){return g(this,w,"unite",P)},intersect:function(w,P){return g(this,w,"intersect",P)},subtract:function(w,P){return g(this,w,"subtract",P)},exclude:function(w,P){return g(this,w,"exclude",P)},divide:function(w,P){return P&&(P.trace==!1||P.stroke)?v(this,w,"divide"):c([this.subtract(w,P),this.intersect(w,P)],!0,this,w,P)},resolveCrossings:function(){var w=this._children,P=w||[this];function m(rt,mt){var Ct=rt&&rt._intersection;return Ct&&Ct._overlap&&Ct._path===mt}var I=!1,O=!1,R=this.getIntersections(null,function(rt){return rt.hasOverlap()&&(I=!0)||rt.isCrossing()&&(O=!0)}),E=I&&O&&[];if(R=se.expand(R),I)for(var B=y(R,function(rt){return rt.hasOverlap()},E),U=B.length-1;U>=0;U--){var W=B[U],K=W._path,F=W._segment,X=F.getPrevious(),Q=F.getNext();m(X,K)&&m(Q,K)&&(F.remove(),X._handleOut._set(0,0),Q._handleIn._set(0,0),X!==F&&!X.getCurve().hasLength()&&(Q._handleIn.set(X._handleIn),X.remove()))}O&&(y(R,I&&function(rt){var mt=rt.getCurve(),Ct=rt.getSegment(),Et=rt._intersection,Ot=Et._curve,ct=Et._segment;if(mt&&Ot&&mt._path&&Ot._path)return!0;Ct&&(Ct._intersection=null),ct&&(ct._intersection=null)},E),E&&S(E),P=T(p.each(P,function(rt){p.push(this,rt._segments)},[])));var tt=P.length,et;return tt>1&&w?(P!==w&&this.setChildren(P),et=this):tt===1&&!w&&(P[0]!==this&&this.setSegments(P[0].removeSegments()),et=this),et||(et=new Vt(k.NO_INSERT),et.addChildren(P),et=et.reduce(),et.copyAttributes(this),this.replaceWith(et)),et},reorient:function(w,P){var m=this._children;return m&&m.length?this.setChildren(x(this.removeChildren(),function(I){return!!(w?I:I&1)},P)):P!==o&&this.setClockwise(P),this},getInteriorPoint:function(){var w=this.getBounds(),P=w.getCenter(!0);if(!this.contains(P)){for(var m=this.getCurves(),I=P.y,O=[],R=[],E=0,B=m.length;E<B;E++){var U=m[E].getValues(),W=U[1],K=U[3],F=U[5],X=U[7];if(I>=t(W,K,F,X)&&I<=e(W,K,F,X))for(var Q=ft.getMonoCurves(U),tt=0,et=Q.length;tt<et;tt++){var rt=Q[tt],mt=rt[1],Ct=rt[7];if(mt!==Ct&&(I>=mt&&I<=Ct||I>=Ct&&I<=mt)){var Et=I===mt?rt[0]:I===Ct?rt[6]:ft.solveCubic(rt,1,I,R,0,1)===1?ft.getPoint(rt,R[0]).x:(rt[0]+rt[6])/2;O.push(Et)}}}O.length>1&&(O.sort(function(Ot,ct){return Ot-ct}),P.x=(O[0]+O[1])/2)}return P}}});var Ft=p.extend({_class:"PathFlattener",initialize:function(t,e,n,s,u){var h=[],c=[],f=0,g=1/(n||32),v=t._segments,b=v[0],S;function x(T,w){var P=ft.getValues(T,w,u);h.push(P),y(P,T._index,0,1)}function y(T,w,P,m){if(m-P>g&&!(s&&ft.isStraight(T))&&!ft.isFlatEnough(T,e||.25)){var I=ft.subdivide(T,.5),O=(P+m)/2;y(I[0],w,P,O),y(I[1],w,O,m)}else{var R=T[6]-T[0],E=T[7]-T[1],B=Math.sqrt(R*R+E*E);B>0&&(f+=B,c.push({offset:f,curve:T,index:w,time:m}))}}for(var L=1,A=v.length;L<A;L++)S=v[L],x(b,S),b=S;t._closed&&x(S||b,v[0]),this.curves=h,this.parts=c,this.length=f,this.index=0},_get:function(t){for(var e=this.parts,n=e.length,s,u=this.index;s=u,!(!u||e[--u].offset<t););for(;s<n;s++){var h=e[s];if(h.offset>=t){this.index=s;var c=e[s-1],f=c&&c.index===h.index?c.time:0,g=c?c.offset:0;return{index:h.index,time:f+(h.time-f)*(t-g)/(h.offset-g)}}}return{index:e[n-1].index,time:1}},drawPart:function(t,e,n){for(var s=this._get(e),u=this._get(n),h=s.index,c=u.index;h<=c;h++){var f=ft.getPart(this.curves[h],h===s.index?s.time:0,h===u.index?u.time:1);h===s.index&&t.moveTo(f[0],f[1]),t.bezierCurveTo.apply(t,f.slice(2))}}},p.each(ft._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return ft[t](this.curves[n.index],n.time)}},{})),ge=p.extend({initialize:function(t){for(var e=this.points=[],n=t._segments,s=t._closed,u=0,h,c=n.length;u<c;u++){var f=n[u].point;(!h||!h.equals(f))&&e.push(h=f.clone())}s&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=s},fit:function(t){var e=this.points,n=e.length,s=null;return n>0&&(s=[new At(e[0])],n>1&&(this.fitCubic(s,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(s.shift(),s.pop()))),s},fitCubic:function(t,e,n,s,u,h){var c=this.points;if(s-n===1){var f=c[n],g=c[s],v=f.getDistance(g)/3;this.addCurve(t,[f,f.add(u.normalize(v)),g.add(h.normalize(v)),g]);return}for(var b=this.chordLengthParameterize(n,s),S=Math.max(e,e*e),x,y=!0,L=0;L<=4;L++){var A=this.generateBezier(n,s,b,u,h),T=this.findMaxError(n,s,A,b);if(T.error<e&&y){this.addCurve(t,A);return}if(x=T.index,T.error>=S)break;y=this.reparameterize(n,s,b,A),S=T.error}var w=c[x-1].subtract(c[x+1]);this.fitCubic(t,e,n,x,u,w),this.fitCubic(t,e,x,s,w.negate(),h)},addCurve:function(t,e){var n=t[t.length-1];n.setHandleOut(e[1].subtract(e[0])),t.push(new At(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,s,u){for(var h=1e-12,c=Math.abs,f=this.points,g=f[t],v=f[e],b=[[0,0],[0,0]],S=[0,0],x=0,y=e-t+1;x<y;x++){var L=n[x],A=1-L,T=3*L*A,w=A*A*A,P=T*A,m=T*L,I=L*L*L,O=s.normalize(P),R=u.normalize(m),E=f[t+x].subtract(g.multiply(w+P)).subtract(v.multiply(m+I));b[0][0]+=O.dot(O),b[0][1]+=O.dot(R),b[1][0]=b[0][1],b[1][1]+=R.dot(R),S[0]+=O.dot(E),S[1]+=R.dot(E)}var B=b[0][0]*b[1][1]-b[1][0]*b[0][1],U,W;if(c(B)>h){var K=b[0][0]*S[1]-b[1][0]*S[0],F=S[0]*b[1][1]-S[1]*b[0][1];U=F/B,W=K/B}else{var X=b[0][0]+b[0][1],Q=b[1][0]+b[1][1];U=W=c(X)>h?S[0]/X:c(Q)>h?S[1]/Q:0}var tt=v.getDistance(g),et=h*tt,rt,mt;if(U<et||W<et)U=W=tt/3;else{var Ct=v.subtract(g);rt=s.normalize(U),mt=u.normalize(W),rt.dot(Ct)-mt.dot(Ct)>tt*tt&&(U=W=tt/3,rt=mt=null)}return[g,g.add(rt||s.normalize(U)),v.add(mt||u.normalize(W)),v]},reparameterize:function(t,e,n,s){for(var u=t;u<=e;u++)n[u-t]=this.findRoot(s,this.points[u],n[u-t]);for(var u=1,h=n.length;u<h;u++)if(n[u]<=n[u-1])return!1;return!0},findRoot:function(t,e,n){for(var s=[],u=[],h=0;h<=2;h++)s[h]=t[h+1].subtract(t[h]).multiply(3);for(var h=0;h<=1;h++)u[h]=s[h+1].subtract(s[h]).multiply(2);var c=this.evaluate(3,t,n),f=this.evaluate(2,s,n),g=this.evaluate(1,u,n),v=c.subtract(e),b=f.dot(f)+v.dot(g);return G.isMachineZero(b)?n:n-v.dot(f)/b},evaluate:function(t,e,n){for(var s=e.slice(),u=1;u<=t;u++)for(var h=0;h<=t-u;h++)s[h]=s[h].multiply(1-n).add(s[h+1].multiply(n));return s[0]},chordLengthParameterize:function(t,e){for(var n=[0],s=t+1;s<=e;s++)n[s-t]=n[s-t-1]+this.points[s].getDistance(this.points[s-1]);for(var s=1,u=e-t;s<=u;s++)n[s]/=n[u];return n},findMaxError:function(t,e,n,s){for(var u=Math.floor((e-t+1)/2),h=0,c=t+1;c<e;c++){var f=this.evaluate(3,n,s[c-t]),g=f.subtract(this.points[c]),v=g.x*g.x+g.y*g.y;v>=h&&(h=v,u=c)}return{error:h,index:u}}}),Ut=k.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var n=e&&p.isPlainObject(e)&&e.x===o&&e.y===o;this._initialize(n&&e,!n&&V.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Se=Ut.extend({_class:"PointText",initialize:function(){Ut.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new st(t.x,t.y,this,"setPoint")},setPoint:function(){var t=V.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var s=this._lines,u=this._style,h=u.hasFill(),c=u.hasStroke(),f=u.getLeading(),g=t.shadowColor;t.font=u.getFontStyle(),t.textAlign=u.getJustification();for(var v=0,b=s.length;v<b;v++){t.shadowColor=g;var S=s[v];h&&(t.fillText(S,0,0),t.shadowColor="rgba(0,0,0,0)"),c&&t.strokeText(S,0,0),t.translate(0,f)}}},_getBounds:function(t,e){var n=this._style,s=this._lines,u=s.length,h=n.getJustification(),c=n.getLeading(),f=this.getView().getTextWidth(n.getFontStyle(),s),g=0;h!=="left"&&(g-=f/(h==="center"?2:1));var v=new ot(g,u?-.75*c:0,f,u*c);return t?t._transformBounds(v,v):v}}),he=p.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},n={transparent:[0,0,0,0]},s;function u(f){var g=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||f.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),v="rgb",b;if(g){var S=g[4]?4:3;b=new Array(S);for(var x=0;x<S;x++){var y=g[x+1];b[x]=parseInt(y.length==1?y+y:y,16)/255}}else if(g=f.match(/^(rgb|hsl)a?\((.*)\)$/)){v=g[1],b=g[2].trim().split(/[,\s]+/g);for(var L=v==="hsl",x=0,A=Math.min(b.length,4);x<A;x++){var T=b[x],y=parseFloat(T);if(L)if(x===0){var w=T.match(/([a-z]*)$/)[1];y*={turn:360,rad:180/Math.PI,grad:.9}[w]||1}else x<3&&(y/=100);else x<3&&(y/=/%$/.test(T)?100:255);b[x]=y}}else{var P=n[f];if(!P)if(d){s||(s=we.getContext(1,1,{willReadFrequently:!0}),s.globalCompositeOperation="copy"),s.fillStyle="rgba(0,0,0,0)",s.fillStyle=f,s.fillRect(0,0,1,1);var m=s.getImageData(0,0,1,1).data;P=n[f]=[m[0]/255,m[1]/255,m[2]/255]}else P=[0,0,0];b=P.slice()}return[v,b]}var h=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],c={"rgb-hsb":function(f,g,v){var b=Math.max(f,g,v),S=Math.min(f,g,v),x=b-S,y=x===0?0:(b==f?(g-v)/x+(g<v?6:0):b==g?(v-f)/x+2:(f-g)/x+4)*60;return[y,b===0?0:x/b,b]},"hsb-rgb":function(f,g,v){f=(f/60%6+6)%6;var S=Math.floor(f),b=f-S,S=h[S],x=[v,v*(1-g),v*(1-g*b),v*(1-g*(1-b))];return[x[S[0]],x[S[1]],x[S[2]]]},"rgb-hsl":function(f,g,v){var b=Math.max(f,g,v),S=Math.min(f,g,v),x=b-S,y=x===0,L=y?0:(b==f?(g-v)/x+(g<v?6:0):b==g?(v-f)/x+2:(f-g)/x+4)*60,A=(b+S)/2,T=y?0:A<.5?x/(b+S):x/(2-b-S);return[L,T,A]},"hsl-rgb":function(f,g,v){if(f=(f/360%1+1)%1,g===0)return[v,v,v];for(var b=[f+1/3,f,f-1/3],S=v<.5?v*(1+g):v+g-v*g,x=2*v-S,y=[],L=0;L<3;L++){var A=b[L];A<0&&(A+=1),A>1&&(A-=1),y[L]=6*A<1?x+(S-x)*6*A:2*A<1?S:3*A<2?x+(S-x)*(2/3-A)*6:x}return y},"rgb-gray":function(f,g,v){return[f*.2989+g*.587+v*.114]},"gray-rgb":function(f){return[f,f,f]},"gray-hsb":function(f){return[0,0,f]},"gray-hsl":function(f){return[0,0,f]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return p.each(t,function(f,g){e[g]=[],p.each(f,function(v,b){var S=p.capitalize(v),x=/^(hue|saturation)$/.test(v),y=e[g][b]=g==="gradient"?v==="gradient"?function(L){var A=this._components[0];return L=Fe.read(Array.isArray(L)?L:arguments,0,{readNull:!0}),A!==L&&(A&&A._removeOwner(this),L&&L._addOwner(this)),L}:function(){return V.read(arguments,0,{readNull:v==="highlight",clone:!0})}:function(L){return L==null||isNaN(L)?0:+L};this["get"+S]=function(){return this._type===g||x&&/^hs[bl]$/.test(this._type)?this._components[b]:this._convert(g)[b]},this["set"+S]=function(L){this._type!==g&&!(x&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(g),this._properties=t[g],this._type=g),this._components[b]=y.call(this,L),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function f(g){var v=arguments,b=this.__read,S=0,x,y,L,A;Array.isArray(g)&&(v=g,g=v[0]);var T=g!=null&&typeof g;if(T==="string"&&g in t&&(x=g,g=v[1],Array.isArray(g)?(y=g,L=v[2]):(b&&(S=1),v=p.slice(v,1),T=typeof g)),!y){if(A=T==="number"?v:T==="object"&&g.length!=null?g:null,A){x||(x=A.length>=3?"rgb":"gray");var w=t[x].length;L=A[w],b&&(S+=A===arguments?w+(L!=null?1:0):1),A.length>w&&(A=p.slice(A,0,w))}else if(T==="string"){var P=u(g);x=P[0],y=P[1],y.length===4&&(L=y[3],y.length--)}else if(T==="object")if(g.constructor===f){if(x=g._type,y=g._components.slice(),L=g._alpha,x==="gradient")for(var m=1,I=y.length;m<I;m++){var O=y[m];O&&(y[m]=O.clone())}}else if(g.constructor===Fe)x="gradient",A=v;else{x="hue"in g?"lightness"in g?"hsl":"hsb":"gradient"in g||"stops"in g||"radial"in g?"gradient":"gray"in g?"gray":"rgb";var R=t[x],E=e[x];this._components=y=[];for(var m=0,I=R.length;m<I;m++){var B=g[R[m]];B==null&&!m&&x==="gradient"&&"stops"in g&&(B={stops:g.stops,radial:g.radial}),B=E[m].call(this,B),B!=null&&(y[m]=B)}L=g.alpha}b&&x&&(S=1)}if(this._type=x||"rgb",!y){this._components=y=[];for(var E=e[this._type],m=0,I=E.length;m<I;m++){var B=E[m].call(this,A&&A[m]);B!=null&&(y[m]=B)}}return this._components=y,this._properties=t[this._type],this._alpha=L,b&&(this.__read=S),this},set:"#initialize",_serialize:function(f,g){var v=this.getComponents();return p.serialize(/^(gray|rgb)$/.test(this._type)?v:[this._type].concat(v),f,!0,g)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(f){var g;return this._type===f?this._components.slice():(g=c[this._type+"-"+f])?g.apply(this,this._components):c["rgb-"+f].apply(this,c[this._type+"-rgb"].apply(this,this._components))},convert:function(f){return new he(f,this._convert(f),this._alpha)},getType:function(){return this._type},setType:function(f){this._components=this._convert(f),this._properties=t[f],this._type=f},getComponents:function(){var f=this._components.slice();return this._alpha!=null&&f.push(this._alpha),f},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(f){this._alpha=f==null?null:Math.min(Math.max(f,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(f){var g=p.isPlainValue(f,!0)?he.read(arguments):f;return g===this||g&&this._class===g._class&&this._type===g._type&&this.getAlpha()===g.getAlpha()&&p.equals(this._components,g._components)||!1},toString:function(){for(var f=this._properties,g=[],v=this._type==="gradient",b=j.instance,S=0,x=f.length;S<x;S++){var y=this._components[S];y!=null&&g.push(f[S]+": "+(v?y:b.number(y)))}return this._alpha!=null&&g.push("alpha: "+b.number(this._alpha)),"{ "+g.join(", ")+" }"},toCSS:function(f){var g=this._convert("rgb"),v=f||this._alpha==null?1:this._alpha;function b(S){return Math.round((S<0?0:S>1?1:S)*255)}return g=[b(g[0]),b(g[1]),b(g[2])],v<1&&g.push(v<0?0:v),f?"#"+((1<<24)+(g[0]<<16)+(g[1]<<8)+g[2]).toString(16).slice(1):(g.length==4?"rgba(":"rgb(")+g.join(",")+")"},toCanvasStyle:function(f,g){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var v=this._components,b=v[0],S=b._stops,x=v[1],y=v[2],L=v[3],A=g&&g.inverted(),T;if(A&&(x=A._transformPoint(x),y=A._transformPoint(y),L&&(L=A._transformPoint(L))),b._radial){var w=y.getDistance(x);if(L){var P=L.subtract(x);P.getLength()>w&&(L=x.add(P.normalize(w-.1)))}var m=L||x;T=f.createRadialGradient(m.x,m.y,0,x.x,x.y,w)}else T=f.createLinearGradient(x.x,x.y,y.x,y.y);for(var I=0,O=S.length;I<O;I++){var R=S[I],E=R._offset;T.addColorStop(E??I/(O-1),R._color.toCanvasStyle())}return this._canvasStyle=T},transform:function(f){if(this._type==="gradient"){for(var g=this._components,v=1,b=g.length;v<b;v++){var S=g[v];f._transformPoint(S,S,!0)}this._changed()}},statics:{_types:t,random:function(){var f=Math.random;return new he(f(),f(),f())},_setOwner:function(f,g,v){return f&&(f._owner&&g&&f._owner!==g&&(f=f.clone()),!f._owner^!g&&(f._owner=g||null,f._setter=v||null)),f}}})},new function(){var t={add:function(e,n){return e+n},subtract:function(e,n){return e-n},multiply:function(e,n){return e*n},divide:function(e,n){return e/n}};return p.each(t,function(e,n){this[n]=function(s){s=he.read(arguments);for(var u=this._type,h=this._components,c=s._convert(u),f=0,g=h.length;f<g;f++)c[f]=e(h[f],c[f]);return new he(u,c,this._alpha!=null?e(this._alpha,s.getAlpha()):null)}},{})}),Fe=p.extend({_class:"Gradient",initialize:function(e,n){this._id=$.get(),e&&p.isPlainObject(e)&&(this.set(e),e=n=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof n=="string"&&n==="radial"||n||!1)},_serialize:function(t,e){return e.add(this,function(){return p.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=o))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new Fe(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,s=e.length;n<s;n++)e[n]._owner=o;e=this._stops=Te.readList(t,0,{clone:!0});for(var n=0,s=e.length;n<s;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,s=e.length;if(s===n.length){for(var u=0;u<s;u++)if(!e[u].equals(n[u]))return!1;return!0}}return!1}}),Te=p.extend({_class:"GradientStop",initialize:function(e,n){var s=e,u=n;typeof e=="object"&&n===o&&(Array.isArray(e)&&typeof e[0]!="number"?(s=e[0],u=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(s=e.color,u=e.offset||e.rampPoint||0)),this.setColor(s),this.setOffset(u)},clone:function(){return new Te(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,s=this._offset;return p.serialize(s==null?[n]:[n,s],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){he._setOwner(this._color,null),this._color=he._setOwner(he.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),Pe=p.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new V,selectedColor:null},e=p.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=p.set({},e,{fillColor:new he}),s={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},u={beans:!0},h={_class:"Style",beans:!0,initialize:function(f,g,v){this._values={},this._owner=g,this._project=g&&g._project||v||Jt.project,this._defaults=!g||g instanceof wt?e:g instanceof Ut?n:t,f&&this.set(f)}};return p.each(e,function(c,f){var g=/Color$/.test(f),v=f==="shadowOffset",b=p.capitalize(f),S=s[f],x="set"+b,y="get"+b;h[x]=function(L){var A=this._owner,T=A&&A._children,w=T&&T.length>0&&!(A instanceof Vt);if(w)for(var P=0,m=T.length;P<m;P++)T[P]._style[x](L);if((f==="selectedColor"||!w)&&f in this._defaults){var I=this._values[f];I!==L&&(g&&(I&&(he._setOwner(I,null),I._canvasStyle=null),L&&L.constructor===he&&(L=he._setOwner(L,A,w&&x))),this._values[f]=L,A&&A._changed(S||129))}},h[y]=function(L){var A=this._owner,T=A&&A._children,w=T&&T.length>0&&!(A instanceof Vt),P;if(w&&!L)for(var m=0,I=T.length;m<I;m++){var O=T[m]._style[y]();if(!m)P=O;else if(!p.equals(P,O))return o}else if(f in this._defaults){var P=this._values[f];if(P===o)P=this._defaults[f],P&&P.clone&&(P=P.clone());else{var R=g?he:v?V:null;R&&!(P&&P.constructor===R)&&(this._values[f]=P=R.read([P],0,{readNull:!0,clone:!0}))}}return P&&g&&(P=he._setOwner(P,A,w&&x)),P},u[y]=function(L){return this._style[y](L)},u[x]=function(L){this._style[x](L)}}),p.each({Font:"FontFamily",WindingRule:"FillRule"},function(c,f){var g="get"+f,v="set"+f;h[g]=u[g]="#get"+c,h[v]=u[v]="#set"+c}),k.inject(u),h},{set:function(t){var e=t instanceof Pe,n=e?t._values:t;if(n){for(var s in n)if(s in this._defaults){var u=n[s];this[s]=u&&e&&u.clone?u.clone():u}}},equals:function(t){function e(n,s,u){var h=n._values,c=s._values,f=s._defaults;for(var g in h){var v=h[g],b=c[g];if(!(u&&g in c)&&!p.equals(v,b===o?f[g]:b))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),e??n*1.2}}),ee=new function(){function t(e,n,s,u){for(var h=["","webkit","moz","Moz","ms","o"],c=n[0].toUpperCase()+n.substring(1),f=0;f<6;f++){var g=h[f],v=g?g+c:n;if(v in e){if(s)e[v]=u;else return e[v];break}}}return{getStyles:function(e){var n=e&&e.nodeType!==9?e.ownerDocument:e,s=n&&n.defaultView;return s&&s.getComputedStyle(e,"")},getBounds:function(e,n){var s=e.ownerDocument,u=s.body,h=s.documentElement,c;try{c=e.getBoundingClientRect()}catch{c={left:0,top:0,width:0,height:0}}var f=c.left-(h.clientLeft||u.clientLeft||0),g=c.top-(h.clientTop||u.clientTop||0);if(!n){var v=s.defaultView;f+=v.pageXOffset||h.scrollLeft||u.scrollLeft,g+=v.pageYOffset||h.scrollTop||u.scrollTop}return new ot(f,g,c.width,c.height)},getViewportBounds:function(e){var n=e.ownerDocument,s=n.defaultView,u=n.documentElement;return new ot(0,0,s.innerWidth||u.clientWidth,s.innerHeight||u.clientHeight)},getOffset:function(e,n){return ee.getBounds(e,n).getPoint()},getSize:function(e){return ee.getBounds(e,!0).getSize()},isInvisible:function(e){return ee.getSize(e).equals(new nt(0,0))},isInView:function(e){return!ee.isInvisible(e)&&ee.getViewportBounds(e).intersects(ee.getBounds(e,!0))},isInserted:function(e){return _.body.contains(e)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,s){if(typeof n=="object")for(var u in n)t(e,u,!0,n[u]);else t(e,n,!0,s)}}},ve={add:function(t,e){if(t)for(var n in e)for(var s=e[n],u=n.split(/[\s,]+/g),h=0,c=u.length;h<c;h++){var f=u[h],g=t===_&&(f==="touchstart"||f==="touchmove")?{passive:!1}:!1;t.addEventListener(f,s,g)}},remove:function(t,e){if(t)for(var n in e)for(var s=e[n],u=n.split(/[\s,]+/g),h=0,c=u.length;h<c;h++)t.removeEventListener(u[h],s,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new V(e.pageX||e.clientX+_.documentElement.scrollLeft,e.pageY||e.clientY+_.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return ve.getPoint(t).subtract(ee.getOffset(e||ve.getTarget(t)))}};ve.requestAnimationFrame=new function(){var t=ee.getPrefixed(d,"requestAnimationFrame"),e=!1,n=[],s;function u(){var h=n;n=[];for(var c=0,f=h.length;c<f;c++)h[c]();e=t&&n.length,e&&t(u)}return function(h){n.push(h),t?e||(t(u),e=!0):s||(s=setInterval(u,1e3/60))}};var Yt=p.extend(N,{_class:"View",initialize:function t(e,n){function s(S){return n[S]||parseInt(n.getAttribute(S),10)}function u(){var S=ee.getSize(n);return S.isNaN()||S.isZero()?new nt(s("width"),s("height")):S}var h;if(d&&n){this._id=n.getAttribute("id"),this._id==null&&n.setAttribute("id",this._id="paper-view-"+t._id++),ve.add(n,this._viewEvents);var c="none";if(ee.setPrefixed(n.style,{userDrag:c,userSelect:c,touchCallout:c,contentZooming:c,tapHighlightColor:"rgba(0,0,0,0)"}),z.hasAttribute(n,"resize")){var f=this;ve.add(d,this._windowEvents={resize:function(){f.setViewSize(u())}})}if(h=u(),z.hasAttribute(n,"stats")&&typeof Stats<"u"){this._stats=new Stats;var g=this._stats.domElement,v=g.style,b=ee.getOffset(n);v.position="absolute",v.left=b.x+"px",v.top=b.y+"px",_.body.appendChild(g)}}else h=new nt(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=d&&d.devicePixelRatio||1),this._setElementSize(h.width,h.height),this._viewSize=h,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new ht)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Jt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Yt._focused===this&&(Yt._focused=null),Yt._views.splice(Yt._views.indexOf(this),1),delete Yt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),ve.remove(this._element,this._viewEvents),ve.remove(d,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:p.each(k._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;ve.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!ee.getPrefixed(_,"hidden")||z.getAttribute(e,"keepalive")==="true")&&ee.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Jt=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new p({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete n[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new p(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new ut(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=nt.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new ot(new V,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return ee.isInView(this._element)},isInserted:function(){return ee.isInserted(this._element)},getPixelSize:function(t){var e=this._element,n;if(e){var s=e.parentNode,u=_.createElement("div");u.style.fontSize=t,s.appendChild(u),n=parseFloat(ee.getStyles(u).fontSize),s.removeChild(u)}else n=parseFloat(n);return n},getTextWidth:function(t,e){return 0}},p.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var n=arguments,s=(e?p:V).read(n),u=V.read(n,0,{readNull:!0});return this.transform(new ht()[t](s,u||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new ht;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=V.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new ht().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();e!=null&&t!=null&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new st(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=V.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(V.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(V.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(V.read(arguments))},getEventPoint:function(t){return this.viewToProject(ve.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){_&&typeof e=="string"&&(e=_.getElementById(e));var n=d?Re:Yt;return new n(t,e)}}},new function(){if(!d)return;var t,e,n=!1,s=!1;function u(F){var X=ve.getTarget(F);return X.getAttribute&&Yt._viewsById[X.getAttribute("id")]}function h(){var F=Yt._focused;if(!F||!F.isVisible()){for(var X=0,Q=Yt._views.length;X<Q;X++)if((F=Yt._views[X]).isVisible()){Yt._focused=e=F;break}}}function c(F,X,Q){F._handleMouseEvent("mousemove",X,Q)}var f=d.navigator,g,v,b;f.pointerEnabled||f.msPointerEnabled?(g="pointerdown MSPointerDown",v="pointermove MSPointerMove",b="pointerup pointercancel MSPointerUp MSPointerCancel"):(g="touchstart",v="touchmove",b="touchend touchcancel","ontouchstart"in d&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(g+=" mousedown",v+=" mousemove",b+=" mouseup"));var S={},x={mouseout:function(F){var X=Yt._focused,Q=ve.getRelatedTarget(F);if(X&&(!Q||Q.nodeName==="HTML")){var tt=ve.getOffset(F,X._element),et=tt.x,rt=Math.abs,mt=rt(et),Ct=1<<25,Et=mt-Ct;tt.x=rt(Et)<mt?Et*(et<0?-1:1):et,c(X,F,X.viewToProject(tt))}},scroll:h};S[g]=function(F){var X=Yt._focused=u(F);n||(n=!0,X._handleMouseEvent("mousedown",F))},x[v]=function(F){var X=Yt._focused;if(!s){var Q=u(F);Q?X!==Q&&(X&&c(X,F),t||(t=X),X=Yt._focused=e=Q):e&&e===X&&(t&&!t.isInserted()&&(t=null),X=Yt._focused=t,t=null,h())}X&&c(X,F)},x[g]=function(){s=!0},x[b]=function(F){var X=Yt._focused;X&&n&&X._handleMouseEvent("mouseup",F),s=n=!1},ve.add(_,x),ve.add(d,{load:h});var y=!1,L=!1,A={doubleclick:"click",mousedrag:"mousemove"},T=!1,w,P,m,I,O,R,E,B;function U(F,X,Q,tt,et,rt,mt){var Ct=!1,Et;function Ot(ct,dt){if(ct.responds(dt)){if(Et||(Et=new _e(dt,tt,et,X||ct,rt?et.subtract(rt):null)),ct.emit(dt,Et)&&(y=!0,Et.prevented&&(L=!0),Et.stopped))return Ct=!0}else{var Tt=A[dt];if(Tt)return Ot(ct,Tt)}}for(;F&&F!==mt&&!Ot(F,Q);)F=F._parent;return Ct}function W(F,X,Q,tt,et,rt){return F._project.removeOn(Q),L=y=!1,O&&U(O,null,Q,tt,et,rt)||X&&X!==O&&!X.isDescendant(O)&&U(X,null,Q==="mousedrag"?"mousemove":Q,tt,et,rt,O)||U(F,O||X||F,Q,tt,et,rt)}var K={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:S,_handleMouseEvent:function(F,X,Q){var tt=this._itemEvents,et=tt.native[F],rt=F==="mousemove",mt=this._scope.tool,Ct=this;function Et(Xt){return tt.virtual[Xt]||Ct.responds(Xt)||mt&&mt.responds(Xt)}rt&&n&&Et("mousedrag")&&(F="mousedrag"),Q||(Q=this.getEventPoint(X));var Ot=this.getBounds().contains(Q),ct=et&&Ot&&Ct._project.hitTest(Q,{tolerance:0,fill:!0,stroke:!0}),dt=ct&&ct.item||null,Tt=!1,zt={};if(zt[F.substr(5)]=!0,et&&dt!==I&&(I&&U(I,null,"mouseleave",X,Q),dt&&U(dt,null,"mouseenter",X,Q),I=dt),T^Ot&&(U(this,null,Ot?"mouseenter":"mouseleave",X,Q),Tt=!0),(Ot||zt.drag)&&!Q.equals(P)&&(W(this,dt,rt?F:"mousemove",X,Q,P),Tt=!0),T=Ot,zt.down&&Ot||zt.up&&w){if(W(this,dt,F,X,Q,w),zt.down){if(B=dt===R&&Date.now()-E<300,m=R=dt,!L&&dt){for(var Rt=dt;Rt&&!Rt.responds("mousedrag");)Rt=Rt._parent;Rt&&(O=dt)}w=Q}else zt.up&&(!L&&dt===m&&(E=Date.now(),W(this,dt,B?"doubleclick":"click",X,Q,w),B=!1),m=O=null);T=!1,Tt=!0}P=Q,Tt&&mt&&(y=mt._handleMouseEvent(F,X,Q,zt)||y),X.cancelable!==!1&&(y&&!zt.move||zt.down&&Et("mouseup"))&&X.preventDefault()},_handleKeyEvent:function(F,X,Q,tt){var et=this._scope,rt=et.tool,mt;function Ct(Et){Et.responds(F)&&(Jt=et,Et.emit(F,mt=mt||new Qt(F,X,Q,tt)))}this.isVisible()&&(Ct(this),rt&&rt.responds(F)&&Ct(rt))},_countItemEvent:function(F,X){var Q=this._itemEvents,tt=Q.native,et=Q.virtual;for(var rt in K)tt[rt]=(tt[rt]||0)+(K[rt][F]||0)*X;et[F]=(et[F]||0)+X},statics:{updateFocus:h,_resetState:function(){n=s=y=T=!1,t=e=w=P=m=I=O=R=E=B=null}}}}),Re=Yt.extend({_class:"CanvasView",initialize:function(e,n){if(!(n instanceof d.HTMLCanvasElement)){var s=nt.read(arguments,1);if(s.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+p.slice(arguments,1));n=we.getCanvas(s)}var u=this._context=n.getContext("2d");if(u.save(),this._pixelRatio=1,!/^off|false$/.test(z.getAttribute(n,"hidpi"))){var h=d.devicePixelRatio||1,c=ee.getPrefixed(u,"backingStorePixelRatio")||1;this._pixelRatio=h/c}Yt.call(this,e,n),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var s=this._pixelRatio;if(t.base.call(this,e*s,n*s),s!==1){var u=this._element,h=this._context;if(!z.hasAttribute(u,"resize")){var c=u.style;c.width=e+"px",c.height=n+"px"}h.restore(),h.save(),h.scale(s,s)}},getContext:function(){return this._context},getPixelSize:function t(e){var n=Jt.agent,s;if(n&&n.firefox)s=t.base.call(this,e);else{var u=this._context,h=u.font;u.font=e+" serif",s=parseFloat(u.font),u.font=h}return s},getTextWidth:function(t,e){var n=this._context,s=n.font,u=0;n.font=t;for(var h=0,c=e.length;h<c;h++)u=Math.max(u,n.measureText(e[h]).width);return n.font=s,u},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Gt=p.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Zt.modifiers}}),Qt=Gt.extend({_class:"KeyEvent",initialize:function(e,n,s,u){this.type=e,this.event=n,this.key=s,this.character=u},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Zt=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},n={},s={},u,h,c=new p({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var v=Jt&&Jt.agent;return v&&v.mac?this.meta:this.control}}});function f(v){var b=v.key||v.keyIdentifier;return b=/^U\+/.test(b)?String.fromCharCode(parseInt(b.substr(2),16)):/^Arrow[A-Z]/.test(b)?b.substr(5):b==="Unidentified"||b===o?String.fromCharCode(v.keyCode):b,t[b]||(b.length>1?p.hyphenate(b):b.toLowerCase())}function g(v,b,S,x){var y=Yt._focused,L;if(n[b]=v,v?s[b]=S:delete s[b],b.length>1&&(L=p.camelize(b))in c){c[L]=v;var A=Jt&&Jt.agent;if(L==="meta"&&A&&A.mac)if(v)u={};else{for(var T in u)T in s&&g(!1,T,u[T],x);u=null}}else v&&u&&(u[b]=S);y&&y._handleKeyEvent(v?"keydown":"keyup",x,b,S)}return ve.add(_,{keydown:function(v){var b=f(v),S=Jt&&Jt.agent;b.length>1||S&&S.chrome&&(v.altKey||S.mac&&v.metaKey||!S.mac&&v.ctrlKey)?g(!0,b,e[b]||(b.length>1?"":b),v):h=b},keypress:function(v){if(h){var b=f(v),S=v.charCode,x=S>=32?String.fromCharCode(S):b.length>1?"":b;b!==h&&(b=x.toLowerCase()),g(!0,b,x,v),h=null}},keyup:function(v){var b=f(v);b in s&&g(!1,b,s[b],v)}}),ve.add(d,{blur:function(v){for(var b in s)g(!1,b,s[b],v)}}),{modifiers:c,isDown:function(v){return!!n[v]}}},_e=Gt.extend({_class:"MouseEvent",initialize:function(e,n,s,u,h){this.type=e,this.event=n,this.point=s,this.target=u,this.delta=h},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),be=Gt.extend({_class:"ToolEvent",_item:null,initialize:function(e,n,s){this.tool=e,this.type=n,this.event=s},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Ae=q.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){q.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,s){Jt=this._scope,s.drag&&!this.responds(t)&&(t="mousemove");var u=s.move||s.drag,h=this.responds(t),c=!1,f=this;function g(b,S){var x=n,y=u?f._point:f._downPoint||x;if(u){if(f._moveCount>=0&&x.equals(y))return!1;if(y&&(b!=null||S!=null)){var L=x.subtract(y),A=L.getLength();if(A<(b||0))return!1;S&&(x=y.add(L.normalize(Math.min(A,S))))}f._moveCount++}return f._point=x,f._lastPoint=y||x,s.down&&(f._moveCount=-1,f._downPoint=x,f._downCount++),!0}function v(){h&&(c=f.emit(t,new be(f,t,e))||c)}if(s.down)g(),v();else if(s.up)g(null,this._maxDistance),v();else if(h)for(;g(this._minDistance,this._maxDistance);)v();return c}}),qe=p.extend(N,{_class:"Tween",statics:{easings:new p({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,n,s,u,h,c){this.object=e;var f=typeof h,g=f==="function";this.type=g?f:f==="string"?h:"linear",this.easing=g?h:t.easings[this.type],this.duration=u,this.running=!1,this._then=null,this._startTime=null;var v=n||s;this._keys=v?Object.keys(v):[],this._parsedKeys=this._parseKeys(this._keys),this._from=v&&this._getState(n),this._to=v&&this._getState(s),c!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),n=this._keys,s=function(b){return typeof b=="function"?b(e,t):b},u=0,h=n&&n.length;u<h;u++){var c=n[u],f=s(this._from[c]),g=s(this._to[c]),v=f&&g&&f.__add&&g.__add?g.__subtract(f).__multiply(e).__add(f):(g-f)*e+f;this._setProperty(this._parsedKeys[c],v)}this.responds("update")&&this.emit("update",new p({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,n=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(n)},_getState:function(t){for(var e=this._keys,n={},s=0,u=e.length;s<u;s++){var h=e[s],c=this._parsedKeys[h],f=this._getProperty(c),g;if(t){var v=this._resolveValue(f,t[h]);this._setProperty(c,v),g=this._getProperty(c),g=g&&g.clone?g.clone():g,this._setProperty(c,f)}else g=f&&f.clone?f.clone():f;n[h]=g}return n},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&e.length===2){var n=e[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(t,n[0],e[1]):e}else if(typeof e=="string"){var s=e.match(/^[+\-*/]=(.*)/);if(s){var u=JSON.parse(s[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],u)}}}return e},_calculate:function(t,e,n){return Jt.PaperScript.calculateBinary(t,e,n)},_parseKeys:function(t){for(var e={},n=0,s=t.length;n<s;n++){var u=t[n],h=u.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[u]=h.split("/")}return e},_getProperty:function(t,e){for(var n=this.object,s=0,u=t.length-(e||0);s<u&&n;s++)n=n[t[s]];return n},_setProperty:function(t,e){var n=this._getProperty(t,1);n&&(n[t[t.length-1]]=e)}}),Xe={request:function(t){var e=new a.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,p.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;n===0||n===200?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,s='Could not load "'+t.url+'" (Status: '+n+")";if(t.onError)t.onError(s,n);else throw new Error(s)},e.send(null)}},we=p.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,n){if(!d)return null;var s,u=!0;typeof t=="object"&&(e=t.height,t=t.width),this.canvases.length?s=this.canvases.pop():(s=_.createElement("canvas"),u=!1);var h=s.getContext("2d",n||{});if(!h)throw new Error("Canvas "+s+" is unable to provide a 2D context.");return s.width===t&&s.height===e?u&&h.clearRect(0,0,t+1,e+1):(s.width=t,s.height=e),h.save(),s},getContext:function(t,e,n){var s=this.getCanvas(t,e,n);return s?s.getContext("2d",n||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},Ke=new function(){var t=Math.min,e=Math.max,n=Math.abs,s,u,h,c,f,g,v,b,S,x,y;function L(O,R,E){return .2989*O+.587*R+.114*E}function A(O,R,E,W){var U=W-L(O,R,E);S=O+U,x=R+U,y=E+U;var W=L(S,x,y),K=t(S,x,y),F=e(S,x,y);if(K<0){var X=W-K;S=W+(S-W)*W/X,x=W+(x-W)*W/X,y=W+(y-W)*W/X}if(F>255){var Q=255-W,tt=F-W;S=W+(S-W)*Q/tt,x=W+(x-W)*Q/tt,y=W+(y-W)*Q/tt}}function T(O,R,E){return e(O,R,E)-t(O,R,E)}function w(O,R,E,B){var U=[O,R,E],W=e(O,R,E),K=t(O,R,E),F;K=K===O?0:K===R?1:2,W=W===O?0:W===R?1:2,F=t(K,W)===0?e(K,W)===1?2:1:0,U[W]>U[K]?(U[F]=(U[F]-U[K])*B/(U[W]-U[K]),U[W]=B):U[F]=U[W]=0,U[K]=0,S=U[0],x=U[1],y=U[2]}var P={multiply:function(){S=f*s/255,x=g*u/255,y=v*h/255},screen:function(){S=f+s-f*s/255,x=g+u-g*u/255,y=v+h-v*h/255},overlay:function(){S=f<128?2*f*s/255:255-2*(255-f)*(255-s)/255,x=g<128?2*g*u/255:255-2*(255-g)*(255-u)/255,y=v<128?2*v*h/255:255-2*(255-v)*(255-h)/255},"soft-light":function(){var O=s*f/255;S=O+f*(255-(255-f)*(255-s)/255-O)/255,O=u*g/255,x=O+g*(255-(255-g)*(255-u)/255-O)/255,O=h*v/255,y=O+v*(255-(255-v)*(255-h)/255-O)/255},"hard-light":function(){S=s<128?2*s*f/255:255-2*(255-s)*(255-f)/255,x=u<128?2*u*g/255:255-2*(255-u)*(255-g)/255,y=h<128?2*h*v/255:255-2*(255-h)*(255-v)/255},"color-dodge":function(){S=f===0?0:s===255?255:t(255,255*f/(255-s)),x=g===0?0:u===255?255:t(255,255*g/(255-u)),y=v===0?0:h===255?255:t(255,255*v/(255-h))},"color-burn":function(){S=f===255?255:s===0?0:e(0,255-(255-f)*255/s),x=g===255?255:u===0?0:e(0,255-(255-g)*255/u),y=v===255?255:h===0?0:e(0,255-(255-v)*255/h)},darken:function(){S=f<s?f:s,x=g<u?g:u,y=v<h?v:h},lighten:function(){S=f>s?f:s,x=g>u?g:u,y=v>h?v:h},difference:function(){S=f-s,S<0&&(S=-S),x=g-u,x<0&&(x=-x),y=v-h,y<0&&(y=-y)},exclusion:function(){S=f+s*(255-f-f)/255,x=g+u*(255-g-g)/255,y=v+h*(255-v-v)/255},hue:function(){w(s,u,h,T(f,g,v)),A(S,x,y,L(f,g,v))},saturation:function(){w(f,g,v,T(s,u,h)),A(S,x,y,L(f,g,v))},luminosity:function(){A(f,g,v,L(s,u,h))},color:function(){A(s,u,h,L(f,g,v))},add:function(){S=t(f+s,255),x=t(g+u,255),y=t(v+h,255)},subtract:function(){S=e(f-s,0),x=e(g-u,0),y=e(v-h,0)},average:function(){S=(f+s)/2,x=(g+u)/2,y=(v+h)/2},negation:function(){S=255-n(255-s-f),x=255-n(255-u-g),y=255-n(255-h-v)}},m=this.nativeModes=p.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(O){this[O]=!0},{}),I=we.getContext(1,1,{willReadFrequently:!0});I&&(p.each(P,function(O,R){var E=R==="darken",B=!1;I.save();try{I.fillStyle=E?"#300":"#a00",I.fillRect(0,0,1,1),I.globalCompositeOperation=R,I.globalCompositeOperation===R&&(I.fillStyle=E?"#a00":"#300",I.fillRect(0,0,1,1),B=I.getImageData(0,0,1,1).data[0]!==E?170:51)}catch{}I.restore(),m[R]=B}),we.release(I)),this.process=function(O,R,E,B,U){var W=R.canvas,K=O==="normal";if(K||m[O])E.save(),E.setTransform(1,0,0,1,0,0),E.globalAlpha=B,K||(E.globalCompositeOperation=O),E.drawImage(W,U.x,U.y),E.restore();else{var F=P[O];if(!F)return;for(var X=E.getImageData(U.x,U.y,W.width,W.height),Q=X.data,tt=R.getImageData(0,0,W.width,W.height).data,et=0,rt=Q.length;et<rt;et+=4){s=tt[et],f=Q[et],u=tt[et+1],g=Q[et+1],h=tt[et+2],v=Q[et+2],c=tt[et+3],b=Q[et+3],F();var mt=c*B/255,Ct=1-mt;Q[et]=mt*S+Ct*f,Q[et+1]=mt*x+Ct*g,Q[et+2]=mt*y+Ct*v,Q[et+3]=c*B+Ct*b}E.putImageData(X,U.x,U.y)}}},ae=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",s={href:n,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function u(f,g,v){return c(_.createElementNS(t,f),g,v)}function h(f,g){var v=s[g],b=v?f.getAttributeNS(v,g):f.getAttribute(g);return b==="null"?null:b}function c(f,g,v){for(var b in g){var S=g[b],x=s[b];typeof S=="number"&&v&&(S=v.number(S)),x?f.setAttributeNS(x,b,S):f.setAttribute(b,S)}return f}return{svg:t,xmlns:e,xlink:n,create:u,get:h,set:c}},ci=p.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof xe||t instanceof qt||t instanceof Ut)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=p.capitalize(e),s=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:s,fromSVG:s&&p.each(s,function(u,h){this[u]=h},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});new function(){var t;function e(P,m,I){var O=new p,R=P.getTranslation();if(m){var E;P.isInvertible()?(P=P._shiftless(),E=P._inverseTransform(R),R=null):E=new V,O[I?"cx":"x"]=E.x,O[I?"cy":"y"]=E.y}if(!P.isIdentity()){var B=P.decompose();if(B){var U=[],W=B.rotation,K=B.scaling,F=B.skewing;R&&!R.isZero()&&U.push("translate("+t.point(R)+")"),W&&U.push("rotate("+t.number(W)+")"),(!G.isZero(K.x-1)||!G.isZero(K.y-1))&&U.push("scale("+t.point(K)+")"),F.x&&U.push("skewX("+t.number(F.x)+")"),F.y&&U.push("skewY("+t.number(F.y)+")"),O.transform=U.join(" ")}else O.transform="matrix("+P.getValues().join(",")+")"}return O}function n(P,m){for(var I=e(P._matrix),O=P._children,R=ae.create("g",I,t),E=0,B=O.length;E<B;E++){var U=O[E],W=T(U,m);if(W)if(U.isClipMask()){var K=ae.create("clipPath");K.appendChild(W),L(U,K,"clip"),ae.set(R,{"clip-path":"url(#"+K.id+")"})}else R.appendChild(W)}return R}function s(P,m){var I=e(P._matrix,!0),O=P.getSize(),R=P.getImage();return I.x-=O.width/2,I.y-=O.height/2,I.width=O.width,I.height=O.height,I.href=m.embedImages==!1&&R&&R.src||P.toDataURL(),ae.create("image",I,t)}function u(P,m){var I=m.matchShapes;if(I){var O=P.toShape(!1);if(O)return h(O)}var R=P._segments,E=R.length,B,U=e(P._matrix);if(I&&E>=2&&!P.hasHandles())if(E>2){B=P._closed?"polygon":"polyline";for(var W=[],K=0;K<E;K++)W.push(t.point(R[K]._point));U.points=W.join(" ")}else{B="line";var F=R[0]._point,X=R[1]._point;U.set({x1:F.x,y1:F.y,x2:X.x,y2:X.y})}else B="path",U.d=P.getPathData(null,m.precision);return ae.create(B,U,t)}function h(P){var m=P._type,I=P._radius,O=e(P._matrix,!0,m!=="rectangle");if(m==="rectangle"){m="rect";var R=P._size,E=R.width,B=R.height;O.x-=E/2,O.y-=B/2,O.width=E,O.height=B,I.isZero()&&(I=null)}return I&&(m==="circle"?O.r=I:(O.rx=I.width,O.ry=I.height)),ae.create(m,O,t)}function c(P,m){var I=e(P._matrix),O=P.getPathData(null,m.precision);return O&&(I.d=O),ae.create("path",I,t)}function f(P,m){var I=e(P._matrix,!0),O=P._definition,R=y(O,"symbol"),E=O._item,B=E.getStrokeBounds();return R||(R=ae.create("symbol",{viewBox:t.rectangle(B)}),R.appendChild(T(E,m)),L(O,R,"symbol")),I.href="#"+R.id,I.x+=B.x,I.y+=B.y,I.width=B.width,I.height=B.height,I.overflow="visible",ae.create("use",I,t)}function g(P){var m=y(P,"color");if(!m){var I=P.getGradient(),O=I._radial,R=P.getOrigin(),E=P.getDestination(),B;if(O){B={cx:R.x,cy:R.y,r:R.getDistance(E)};var U=P.getHighlight();U&&(B.fx=U.x,B.fy=U.y)}else B={x1:R.x,y1:R.y,x2:E.x,y2:E.y};B.gradientUnits="userSpaceOnUse",m=ae.create((O?"radial":"linear")+"Gradient",B,t);for(var W=I._stops,K=0,F=W.length;K<F;K++){var X=W[K],Q=X._color,tt=Q.getAlpha(),et=X._offset;B={offset:et??K/(F-1)},Q&&(B["stop-color"]=Q.toCSS(!0)),tt<1&&(B["stop-opacity"]=tt),m.appendChild(ae.create("stop",B,t))}L(P,m,"color")}return"url(#"+m.id+")"}function v(P){var m=ae.create("text",e(P._matrix,!0),t);return m.textContent=P._content,m}var b={Group:n,Layer:n,Raster:s,Path:u,Shape:h,CompoundPath:c,SymbolItem:f,PointText:v};function S(P,m,I,O){var R={},E=!O&&P.getParent(),B=[];return P._name!=null&&(R.id=P._name),p.each(ci,function(U){var W=U.get,K=U.type,F=P[W]();if(U.exportFilter?U.exportFilter(P,F):I.reduceAttributes==!1||!E||!p.equals(E[W](),F)){if(K==="color"&&F!=null){var X=F.getAlpha();X<1&&(R[U.attribute+"-opacity"]=X)}K==="style"?B.push(U.attribute+": "+F):R[U.attribute]=F==null?"none":K==="color"?F.gradient?g(F):F.toCSS(!0):K==="array"?F.join(","):K==="lookup"?U.toSVG[F]:F}}),B.length&&(R.style=B.join(";")),R.opacity===1&&delete R.opacity,P._visible||(R.visibility="hidden"),ae.set(m,R,t)}var x;function y(P,m){return x||(x={ids:{},svgs:{}}),P&&x.svgs[m+"-"+(P._id||P.__id||(P.__id=$.get("svg")))]}function L(P,m,I){x||y();var O=x.ids[I]=(x.ids[I]||0)+1;m.id=I+"-"+O,x.svgs[I+"-"+(P._id||P.__id)]=m}function A(P,m){var I=P,O=null;if(x){I=P.nodeName.toLowerCase()==="svg"&&P;for(var R in x.svgs)O||(I||(I=ae.create("svg"),I.appendChild(P)),O=I.insertBefore(ae.create("defs"),I.firstChild)),O.appendChild(x.svgs[R]);x=null}return m.asString?new a.XMLSerializer().serializeToString(I):I}function T(P,m,I){var O=b[P._class],R=O&&O(P,m);if(R){var E=m.onExport;E&&(R=E(P,R,m)||R);var B=JSON.stringify(P._data);B&&B!=="{}"&&B!=="null"&&R.setAttribute("data-paper-data",B)}return R&&S(P,R,m,I)}function w(P){return P||(P={}),t=new j(P.precision),P}k.inject({exportSVG:function(P){return P=w(P),A(T(this,P,!0),P)}}),pt.inject({exportSVG:function(P){P=w(P);var m=this._children,I=this.getView(),O=p.pick(P.bounds,"view"),R=P.matrix||O==="view"&&I._matrix,E=R&&ht.read([R]),B=O==="view"?new ot([0,0],I.getViewSize()):O==="content"?k._getBounds(m,E,{stroke:!0}).rect:ot.read([O],0,{readNull:!0}),U={version:"1.1",xmlns:ae.svg,"xmlns:xlink":ae.xlink};B&&(U.width=B.width,U.height=B.height,(B.x||B.x===0||B.y||B.y===0)&&(U.viewBox=t.rectangle(B)));var W=ae.create("svg",U,t),K=W;E&&!E.isIdentity()&&(K=W.appendChild(ae.create("g",e(E),t)));for(var F=0,X=m.length;F<X;F++)K.appendChild(T(m[F],P,!0));return A(W,P)}})},new function(){var t={},e;function n(m,I,O,R,E,B){var U=ae.get(m,I)||B,W=U==null?R?null:O?"":0:O?U:parseFloat(U);return/%\s*$/.test(U)?W/100*(E?1:e[/x|^width/.test(I)?"width":"height"]):W}function s(m,I,O,R,E,B,U){return I=n(m,I||"x",!1,R,E,B),O=n(m,O||"y",!1,R,E,U),R&&(I==null||O==null)?null:new V(I,O)}function u(m,I,O,R,E){return I=n(m,I||"width",!1,R,E),O=n(m,O||"height",!1,R,E),R&&(I==null||O==null)?null:new nt(I,O)}function h(m,I,O){return m==="none"?null:I==="number"?parseFloat(m):I==="array"?m?m.split(/[\s,]+/g).map(parseFloat):[]:I==="color"?T(m)||m:I==="lookup"?O[m]:m}function c(m,I,O,R){var E=m.childNodes,B=I==="clippath",U=I==="defs",W=new wt,K=W._project,F=K._currentStyle,X=[];if(!B&&!U&&(W=A(W,m,R),K._currentStyle=W._style.clone()),R)for(var Q=m.querySelectorAll("defs"),tt=0,et=Q.length;tt<et;tt++)w(Q[tt],O,!1);for(var tt=0,et=E.length;tt<et;tt++){var rt=E[tt],mt;rt.nodeType===1&&!/^defs$/i.test(rt.nodeName)&&(mt=w(rt,O,!1))&&!(mt instanceof It)&&X.push(mt)}return W.addChildren(X),B&&(W=A(W.reduce(),m,R)),K._currentStyle=F,(B||U)&&(W.remove(),W=null),W}function f(m,I){for(var O=m.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),R=[],E=0,B=O.length;E<B;E+=2)R.push(new V(parseFloat(O[E]),parseFloat(O[E+1])));var U=new Pt(R);return I==="polygon"&&U.closePath(),U}function g(m){return xe.create(m.getAttribute("d"))}function v(m,I){var O=(n(m,"href",!0)||"").substring(1),R=I==="radialgradient",E;if(O)E=t[O].getGradient(),E._radial^R&&(E=E.clone(),E._radial=R);else{for(var B=m.childNodes,U=[],W=0,K=B.length;W<K;W++){var F=B[W];F.nodeType===1&&U.push(A(new Te,F))}E=new Fe(U,R)}var X,Q,tt,et=n(m,"gradientUnits",!0)!=="userSpaceOnUse";R?(X=s(m,"cx","cy",!1,et,"50%","50%"),Q=X.add(n(m,"r",!1,!1,et,"50%"),0),tt=s(m,"fx","fy",!0,et)):(X=s(m,"x1","y1",!1,et,"0%","0%"),Q=s(m,"x2","y2",!1,et,"100%","0%"));var rt=A(new he(E,X,Q,tt),m);return rt._scaleToBounds=et,null}var b={"#document":function(m,I,O,R){for(var E=m.childNodes,B=0,U=E.length;B<U;B++){var W=E[B];if(W.nodeType===1)return w(W,O,R)}},g:c,svg:c,clippath:c,polygon:f,polyline:f,path:g,lineargradient:v,radialgradient:v,image:function(m){var I=new Lt(n(m,"href",!0));return I.on("load",function(){var O=u(m);this.setSize(O);var R=s(m).add(O.divide(2));this._matrix.append(new ht().translate(R))}),I},symbol:function(m,I,O,R){return new It(c(m,I,O,R),!0)},defs:c,use:function(m){var I=(n(m,"href",!0)||"").substring(1),O=t[I],R=s(m);return O?O instanceof It?O.place(R):O.clone().translate(R):null},circle:function(m){return new qt.Circle(s(m,"cx","cy"),n(m,"r"))},ellipse:function(m){return new qt.Ellipse({center:s(m,"cx","cy"),radius:u(m,"rx","ry")})},rect:function(m){return new qt.Rectangle(new ot(s(m),u(m)),u(m,"rx","ry"))},line:function(m){return new Pt.Line(s(m,"x1","y1"),s(m,"x2","y2"))},text:function(m){var I=new Se(s(m).add(s(m,"dx","dy")));return I.setContent(m.textContent.trim()||""),I},switch:c};function S(m,I,O,R){if(m.transform){for(var E=(R.getAttribute(O)||"").split(/\)\s*/g),B=new ht,U=0,W=E.length;U<W;U++){var K=E[U];if(!K)break;for(var F=K.split(/\(\s*/),X=F[0].trim(),Q=F[1].split(/[\s,]+/g),tt=0,et=Q.length;tt<et;tt++)Q[tt]=parseFloat(Q[tt]);switch(X){case"matrix":B.append(new ht(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]));break;case"rotate":B.rotate(Q[0],Q[1]||0,Q[2]||0);break;case"translate":B.translate(Q[0],Q[1]||0);break;case"scale":B.scale(Q);break;case"skewX":B.skew(Q[0],0);break;case"skewY":B.skew(0,Q[0]);break}}m.transform(B)}}function x(m,I,O){var R=O==="fill-opacity"?"getFillColor":"getStrokeColor",E=m[R]&&m[R]();E&&E.setAlpha(parseFloat(I))}var y=p.set(p.each(ci,function(m){this[m.attribute]=function(I,O){if(I[m.set]&&(I[m.set](h(O,m.type,m.fromSVG)),m.type==="color")){var R=I[m.get]();if(R&&R._scaleToBounds){var E=I.getBounds();R.transform(new ht().translate(E.getPoint()).scale(E.getSize()))}}}},{}),{id:function(m,I){t[I]=m,m.setName&&m.setName(I)},"clip-path":function(m,I){var O=T(I);if(O)if(O=O.clone(),O.setClipMask(!0),m instanceof wt)m.insertChild(0,O);else return new wt(O,m)},gradientTransform:S,transform:S,"fill-opacity":x,"stroke-opacity":x,visibility:function(m,I){m.setVisible&&m.setVisible(I==="visible")},display:function(m,I){m.setVisible&&m.setVisible(I!==null)},"stop-color":function(m,I){m.setColor&&m.setColor(I)},"stop-opacity":function(m,I){m._color&&m._color.setAlpha(parseFloat(I))},offset:function(m,I){if(m.setOffset){var O=I.match(/(.*)%$/);m.setOffset(O?O[1]/100:parseFloat(I))}},viewBox:function(m,I,O,R,E){var B=new ot(h(I,"array")),U=u(R,null,null,!0),W,K;if(m instanceof wt){var F=U?U.divide(B.getSize()):1,K=new ht().scale(F).translate(B.getPoint().negate());W=m}else m instanceof It&&(U&&B.setSize(U),W=m._item);if(W){if(L(R,"overflow",E)!=="visible"){var X=new qt.Rectangle(B);X.setClipMask(!0),W.addChild(X)}K&&W.transform(K)}}});function L(m,I,O){var R=m.attributes[I],E=R&&R.value;if(!E&&m.style){var B=p.camelize(I);E=m.style[B],!E&&O.node[B]!==O.parent[B]&&(E=O.node[B])}return E?E==="none"?null:E:o}function A(m,I,O){var R=I.parentNode,E={node:ee.getStyles(I)||{},parent:!O&&!/^defs$/i.test(R.tagName)&&ee.getStyles(R)||{}};return p.each(y,function(B,U){var W=L(I,U,E);m=W!==o&&B(m,W,U,I,E)||m}),m}function T(m){var I=m&&m.match(/\((?:["'#]*)([^"')]+)/),O=I&&I[1],R=O&&t[d?O.replace(d.location.href.split("#")[0]+"#",""):O];return R&&R._scaleToBounds&&(R=R.clone(),R._scaleToBounds=!0),R}function w(m,I,O){var R=m.nodeName.toLowerCase(),E=R!=="#document",B=_.body,U,W,K;O&&E&&(e=Jt.getView().getSize(),e=u(m,null,null,!0)||e,U=ae.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),W=m.parentNode,K=m.nextSibling,U.appendChild(m),B.appendChild(U));var F=Jt.settings,X=F.applyMatrix,Q=F.insertItems;F.applyMatrix=!1,F.insertItems=!1;var tt=b[R],et=tt&&tt(m,R,I,O)||null;if(F.insertItems=Q,F.applyMatrix=X,et){E&&!(et instanceof wt)&&(et=A(et,m,O));var rt=I.onImport,mt=E&&m.getAttribute("data-paper-data");rt&&(et=rt(m,et,I)||et),I.expandShapes&&et instanceof qt&&(et.remove(),et=et.toPath()),mt&&(et._data=JSON.parse(mt))}return U&&(B.removeChild(U),W&&(K?W.insertBefore(m,K):W.appendChild(m))),O&&(t={},et&&p.pick(I.applyMatrix,X)&&et.matrix.apply(!0,!0)),et}function P(m,I,O){if(!m)return null;I=typeof I=="function"?{onLoad:I}:I||{};var R=Jt,E=null;function B(F){try{var X=typeof F=="object"?F:new a.DOMParser().parseFromString(F.trim(),"image/svg+xml");if(!X.nodeName)throw X=null,new Error("Unsupported SVG source: "+m);Jt=R,E=w(X,I,!0),(!I||I.insert!==!1)&&O._insertItem(o,E);var Q=I.onLoad;Q&&Q(E,F)}catch(tt){U(tt)}}function U(F,X){var Q=I.onError;if(Q)Q(F,X);else throw new Error(F)}if(typeof m=="string"&&!/^[\s\S]*</.test(m)){var W=_.getElementById(m);W?B(W):Xe.request({url:m,async:!0,onLoad:B,onError:U})}else if(typeof File<"u"&&m instanceof File){var K=new FileReader;return K.onload=function(){B(K.result)},K.onerror=function(){U(K.error)},K.readAsText(m)}else B(m);return E}k.inject({importSVG:function(m,I){return P(m,I,this)}}),pt.inject({importSVG:function(m,I){return this.activate(),P(m,I,this)}})},p.exports.PaperScript=(function(){var t=this,e=t.acorn;if(!e&&typeof pd<"u")try{e=_d()}catch{}if(!e){var n,s;e=n=s={},function(A,T){if(typeof n=="object"&&typeof s=="object")return T(n);if(typeof o=="function"&&o.amd)return o(["exports"],T);T(A.acorn||(A.acorn={}))}(this,function(A){A.version="0.5.0";var T,w,P,m;A.parse=function(Z,J){return w=String(Z),P=w.length,O(J),pa(),Ro(T.program)};var I=A.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function O(Z){T=Z||{};for(var J in I)Object.prototype.hasOwnProperty.call(T,J)||(T[J]=I[J]);m=T.sourceFile||null}var R=A.getLineInfo=function(Z,J){for(var lt=1,gt=0;;){En.lastIndex=gt;var te=En.exec(Z);if(te&&te.index<J)++lt,gt=te.index+te[0].length;else break}return{line:lt,column:J-gt}};A.tokenize=function(Z,J){w=String(Z),P=w.length,O(J),pa();var lt={};function gt(te){return mt=U,fn(te),lt.start=B,lt.end=U,lt.startLoc=W,lt.endLoc=K,lt.type=F,lt.value=X,lt}return gt.jumpTo=function(te,re){if(E=te,T.locations){tt=1,et=En.lastIndex=0;for(var le;(le=En.exec(w))&&le.index<te;)++tt,et=le.index+le[0].length}Q=re,Tn()},gt};var E,B,U,W,K,F,X,Q,tt,et,rt,mt,Ct,Et,Ot,ct;function dt(Z,J){var lt=R(w,Z);J+=" ("+lt.line+":"+lt.column+")";var gt=new SyntaxError(J);throw gt.pos=Z,gt.loc=lt,gt.raisedAt=E,gt}var Tt=[],zt={type:"num"},Rt={type:"regexp"},Xt={type:"string"},jt={type:"name"},ne={type:"eof"},ce={keyword:"break"},$t={keyword:"case",beforeExpr:!0},He={keyword:"catch"},ze={keyword:"continue"},Ye={keyword:"debugger"},Ve={keyword:"default"},St={keyword:"do",isLoop:!0},Ee={keyword:"else",beforeExpr:!0},Me={keyword:"finally"},Ue={keyword:"for",isLoop:!0},pi={keyword:"function"},ki={keyword:"if"},vi={keyword:"return",beforeExpr:!0},_i={keyword:"switch"},ri={keyword:"throw",beforeExpr:!0},fi={keyword:"try"},Ai={keyword:"var"},We={keyword:"while",isLoop:!0},si={keyword:"with"},vr={keyword:"new",beforeExpr:!0},qn={keyword:"this"},_r={keyword:"null",atomValue:null},mr={keyword:"true",atomValue:!0},yr={keyword:"false",atomValue:!1},Pn={keyword:"in",binop:7,beforeExpr:!0},Ji={break:ce,case:$t,catch:He,continue:ze,debugger:Ye,default:Ve,do:St,else:Ee,finally:Me,for:Ue,function:pi,if:ki,return:vi,switch:_i,throw:ri,try:fi,var:Ai,while:We,with:si,null:_r,true:mr,false:yr,new:vr,in:Pn,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:qn,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},on={type:"[",beforeExpr:!0},ln={type:"]"},Hi={type:"{",beforeExpr:!0},bi={type:"}"},ue={type:"(",beforeExpr:!0},mi={type:")"},Ci={type:",",beforeExpr:!0},yi={type:";",beforeExpr:!0},Ui={type:":",beforeExpr:!0},Hn={type:"."},Un={type:"?",beforeExpr:!0},Wn={binop:10,beforeExpr:!0},i={isAssign:!0,beforeExpr:!0},l={isAssign:!0,beforeExpr:!0},C={postfix:!0,prefix:!0,isUpdate:!0},M={prefix:!0,beforeExpr:!0},H={binop:1,beforeExpr:!0},it={binop:2,beforeExpr:!0},at={binop:3,beforeExpr:!0},bt={binop:4,beforeExpr:!0},Mt={binop:5,beforeExpr:!0},ie={binop:6,beforeExpr:!0},me={binop:7,beforeExpr:!0},Ie={binop:8,beforeExpr:!0},$e={binop:9,prefix:!0,beforeExpr:!0},hn={binop:10,beforeExpr:!0};A.tokTypes={bracketL:on,bracketR:ln,braceL:Hi,braceR:bi,parenL:ue,parenR:mi,comma:Ci,semi:yi,colon:Ui,dot:Hn,question:Un,slash:Wn,eq:i,name:jt,eof:ne,num:zt,regexp:Rt,string:Xt};for(var Wi in Ji)A.tokTypes["_"+Wi]=Ji[Wi];function zi(Z){Z=Z.split(" ");var J="",lt=[];t:for(var gt=0;gt<Z.length;++gt){for(var te=0;te<lt.length;++te)if(lt[te][0].length==Z[gt].length){lt[te].push(Z[gt]);continue t}lt.push([Z[gt]])}function re(ke){if(ke.length==1)return J+="return str === "+JSON.stringify(ke[0])+";";J+="switch(str){";for(var Pi=0;Pi<ke.length;++Pi)J+="case "+JSON.stringify(ke[Pi])+":";J+="return true}return false;"}if(lt.length>3){lt.sort(function(ke,Pi){return Pi.length-ke.length}),J+="switch(str.length){";for(var gt=0;gt<lt.length;++gt){var le=lt[gt];J+="case "+le[0].length+":",re(le)}J+="}"}else re(Z);return new Function("str",J)}var $i=zi("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),tn=zi("class enum extends super const export import"),ha=zi("implements interface let package private protected public static yield"),xr=zi("eval arguments"),yo=zi("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),xo=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ca="ÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô§Ô±-ÕÕÕ¡-Ö×-×ª×°-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¢ à¢¢-à¢¬à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá®-á°á-áá-áá -á±á-áá -á¬á®-á°á-á³ááá  -á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á§-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á³©-á³¬á³®-á³±á³µá³¶á´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââ -ââ°-â°®â°°-â±â± -â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â¸¯ã-ãã¡-ã©ã±-ãµã¸-ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¯ê-êê¢-êê-êê-êê -êªê¸-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºêª-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿",wo="Ì-Í¯Ò-ÒÖ-Ö½Ö¿×××××Ø-ØØ -ÙÙ²-ÛÛ§-Û¨Û»-Û¼Ü°-Ýà -à à -à £à ¥-à §à ©-à ­à¡-à¡à£¤-à£¾à¤-à¤à¤º-à¤¼à¤¾-à¥à¥-à¥à¥¢-à¥£à¥¦-à¥¯à¦-à¦à¦¼à¦¾-à§à§à§à§à§-à§ à¨-à¨à¨¼à¨¾-à©à©à©à©-à©à©à©¦-à©±à©µàª-àªàª¼àª¾-à«à«-à«à«-à«à«¢-à«£à«¦-à«¯à¬-à¬à¬¼à¬¾-à­à­à­à­-à­à­à­à­-à­ à­¦-à­¯à®à®¾-à¯à¯-à¯à¯-à¯à¯à¯¦-à¯¯à°-à°à±-à±à±-à±à±à±à±¢-à±£à±¦-à±¯à²à²à²¼à²¾-à³à³-à³à³-à³à³à³à³¢-à³£à³¦-à³¯à´à´àµ-àµàµàµ¢-àµ£àµ¦-àµ¯à¶à¶à·à·-à·à·à·-à·à·²à·³à¸´-à¸ºà¹-à¹à¹-à¹àº´-àº¹à»-à»à»-à»à¼à¼à¼ -à¼©à¼µà¼·à¼¹à½-à½à½±-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á-á©á-áá§-á­á±-á´á-áá-áá-áá-áá -á°á-áá²á³á-á²áá -á©á -á á -á á¤ -á¤«á¤°-á¤»á¥-á¥­á¦°-á§á§-á§á§-á§á¨-á¨á¨ -á©á© -á©¼á©¿-áªáª-áªá­-á­á­-á­á­«-á­³á®°-á®¹á¯¦-á¯³á°-á°¢á±-á±á±-á±½á³-á³á´-á¶¾á¸-á¼âââ¿âââ-ââ¡â¥-â°â¶-â¶â· -â·¿ã¡-ã¨ããê-ê­ê´-ê½êê°-ê±ê¸-ê ê ê ê £-ê §ê¢-ê¢ê¢´-ê£ê£-ê£ê£³-ê£·ê¤-ê¤ê¤¦-ê¤­ê¤°-ê¥ê¦-ê¦ê¦³-ê§ê¨-ê¨§ê©-ê©ê©-ê©ê©-ê©ê©»ê« -ê«©ê«²-ê«³ê¯-ê¯¡ê¯¬ê¯­ê¯°-ê¯¹ï¬ -ï¬¨ï¸-ï¸ï¸ -ï¸¦ï¸³ï¸´ï¹-ï¹ï¼-ï¼ï¼¿",fa=new RegExp("["+ca+"]"),bo=new RegExp("["+ca+wo+"]"),wr=/[\n\r\u2028\u2029]/,En=/\r\n|[\n\r\u2028\u2029]/g,br=A.isIdentifierStart=function(Z){return Z<65?Z===36:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&fa.test(String.fromCharCode(Z))},da=A.isIdentifierChar=function(Z){return Z<48?Z===36:Z<58?!0:Z<65?!1:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&bo.test(String.fromCharCode(Z))};function cn(){this.line=tt,this.column=E-et}function pa(){tt=1,E=et=0,Q=!0,Tn()}function ti(Z,J){U=E,T.locations&&(K=new cn),F=Z,Tn(),X=J,Q=Z.beforeExpr}function Co(){var Z=T.onComment&&T.locations&&new cn,J=E,lt=w.indexOf("*/",E+=2);if(lt===-1&&dt(E-2,"Unterminated comment"),E=lt+2,T.locations){En.lastIndex=J;for(var gt;(gt=En.exec(w))&&gt.index<E;)++tt,et=gt.index+gt[0].length}T.onComment&&T.onComment(!0,w.slice(J+2,lt),J,E,Z,T.locations&&new cn)}function as(){for(var Z=E,J=T.onComment&&T.locations&&new cn,lt=w.charCodeAt(E+=2);E<P&&lt!==10&&lt!==13&&lt!==8232&&lt!==8233;)++E,lt=w.charCodeAt(E);T.onComment&&T.onComment(!1,w.slice(Z+2,E),Z,E,J,T.locations&&new cn)}function Tn(){for(;E<P;){var Z=w.charCodeAt(E);if(Z===32)++E;else if(Z===13){++E;var J=w.charCodeAt(E);J===10&&++E,T.locations&&(++tt,et=E)}else if(Z===10||Z===8232||Z===8233)++E,T.locations&&(++tt,et=E);else if(Z>8&&Z<14)++E;else if(Z===47){var J=w.charCodeAt(E+1);if(J===42)Co();else if(J===47)as();else break}else if(Z===160)++E;else if(Z>=5760&&xo.test(String.fromCharCode(Z)))++E;else break}}function So(){var Z=w.charCodeAt(E+1);return Z>=48&&Z<=57?va(!0):(++E,ti(Hn))}function ko(){var Z=w.charCodeAt(E+1);return Q?(++E,ga()):Z===61?ei(l,2):ei(Wn,1)}function Ao(){var Z=w.charCodeAt(E+1);return Z===61?ei(l,2):ei(hn,1)}function Io(Z){var J=w.charCodeAt(E+1);return J===Z?ei(Z===124?H:it,2):J===61?ei(l,2):ei(Z===124?at:Mt,1)}function Po(){var Z=w.charCodeAt(E+1);return Z===61?ei(l,2):ei(bt,1)}function Eo(Z){var J=w.charCodeAt(E+1);return J===Z?J==45&&w.charCodeAt(E+2)==62&&wr.test(w.slice(mt,E))?(E+=3,as(),Tn(),fn()):ei(C,2):J===61?ei(l,2):ei($e,1)}function To(Z){var J=w.charCodeAt(E+1),lt=1;return J===Z?(lt=Z===62&&w.charCodeAt(E+2)===62?3:2,w.charCodeAt(E+lt)===61?ei(l,lt+1):ei(Ie,lt)):J==33&&Z==60&&w.charCodeAt(E+2)==45&&w.charCodeAt(E+3)==45?(E+=4,as(),Tn(),fn()):(J===61&&(lt=w.charCodeAt(E+2)===61?3:2),ei(me,lt))}function Mo(Z){var J=w.charCodeAt(E+1);return J===61?ei(ie,w.charCodeAt(E+2)===61?3:2):ei(Z===61?i:M,1)}function No(Z){switch(Z){case 46:return So();case 40:return++E,ti(ue);case 41:return++E,ti(mi);case 59:return++E,ti(yi);case 44:return++E,ti(Ci);case 91:return++E,ti(on);case 93:return++E,ti(ln);case 123:return++E,ti(Hi);case 125:return++E,ti(bi);case 58:return++E,ti(Ui);case 63:return++E,ti(Un);case 48:var J=w.charCodeAt(E+1);if(J===120||J===88)return Lo();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return va(!1);case 34:case 39:return Oo(Z);case 47:return ko();case 37:case 42:return Ao();case 124:case 38:return Io(Z);case 94:return Po();case 43:case 45:return Eo(Z);case 60:case 62:return To(Z);case 61:case 33:return Mo(Z);case 126:return ei(M,1)}return!1}function fn(Z){if(Z?E=B+1:B=E,T.locations&&(W=new cn),Z)return ga();if(E>=P)return ti(ne);var J=w.charCodeAt(E);if(br(J)||J===92)return ma();var lt=No(J);if(lt===!1){var gt=String.fromCharCode(J);if(gt==="\\"||fa.test(gt))return ma();dt(E,"Unexpected character '"+gt+"'")}return lt}function ei(Z,J){var lt=w.slice(E,E+J);E+=J,ti(Z,lt)}function ga(){for(var te="",Z,J,lt=E;;){E>=P&&dt(lt,"Unterminated regular expression");var gt=w.charAt(E);if(wr.test(gt)&&dt(lt,"Unterminated regular expression"),Z)Z=!1;else{if(gt==="[")J=!0;else if(gt==="]"&&J)J=!1;else if(gt==="/"&&!J)break;Z=gt==="\\"}++E}var te=w.slice(lt,E);++E;var re=_a();re&&!/^[gmsiy]*$/.test(re)&&dt(lt,"Invalid regexp flag");try{var le=new RegExp(te,re)}catch(ke){ke instanceof SyntaxError&&dt(lt,ke.message),dt(ke)}return ti(Rt,le)}function Gn(Z,J){for(var lt=E,gt=0,te=0,re=J??1/0;te<re;++te){var le=w.charCodeAt(E),ke;if(le>=97?ke=le-97+10:le>=65?ke=le-65+10:le>=48&&le<=57?ke=le-48:ke=1/0,ke>=Z)break;++E,gt=gt*Z+ke}return E===lt||J!=null&&E-lt!==J?null:gt}function Lo(){E+=2;var Z=Gn(16);return Z==null&&dt(B+2,"Expected hexadecimal number"),br(w.charCodeAt(E))&&dt(E,"Identifier directly after number"),ti(zt,Z)}function va(Z){var J=E,lt=!1,gt=w.charCodeAt(E)===48;!Z&&Gn(10)===null&&dt(J,"Invalid number"),w.charCodeAt(E)===46&&(++E,Gn(10),lt=!0);var te=w.charCodeAt(E);(te===69||te===101)&&(te=w.charCodeAt(++E),(te===43||te===45)&&++E,Gn(10)===null&&dt(J,"Invalid number"),lt=!0),br(w.charCodeAt(E))&&dt(E,"Identifier directly after number");var re=w.slice(J,E),le;return lt?le=parseFloat(re):!gt||re.length===1?le=parseInt(re,10):/[89]/.test(re)||ct?dt(J,"Invalid number"):le=parseInt(re,8),ti(zt,le)}function Oo(Z){E++;for(var J="";;){E>=P&&dt(B,"Unterminated string constant");var lt=w.charCodeAt(E);if(lt===Z)return++E,ti(Xt,J);if(lt===92){lt=w.charCodeAt(++E);var gt=/^[0-7]+/.exec(w.slice(E,E+3));for(gt&&(gt=gt[0]);gt&&parseInt(gt,8)>255;)gt=gt.slice(0,-1);if(gt==="0"&&(gt=null),++E,gt)ct&&dt(E-2,"Octal literal in strict mode"),J+=String.fromCharCode(parseInt(gt,8)),E+=gt.length-1;else switch(lt){case 110:J+=`
`;break;case 114:J+="\r";break;case 120:J+=String.fromCharCode(Cr(2));break;case 117:J+=String.fromCharCode(Cr(4));break;case 85:J+=String.fromCharCode(Cr(8));break;case 116:J+="	";break;case 98:J+="\b";break;case 118:J+="\v";break;case 102:J+="\f";break;case 48:J+="\0";break;case 13:w.charCodeAt(E)===10&&++E;case 10:T.locations&&(et=E,++tt);break;default:J+=String.fromCharCode(lt);break}}else(lt===13||lt===10||lt===8232||lt===8233)&&dt(B,"Unterminated string constant"),J+=String.fromCharCode(lt),++E}}function Cr(Z){var J=Gn(16,Z);return J===null&&dt(B,"Bad character escape sequence"),J}var Mn;function _a(){Mn=!1;for(var Z,J=!0,lt=E;;){var gt=w.charCodeAt(E);if(da(gt))Mn&&(Z+=w.charAt(E)),++E;else if(gt===92){Mn||(Z=w.slice(lt,E)),Mn=!0,w.charCodeAt(++E)!=117&&dt(E,"Expecting Unicode escape sequence \\uXXXX"),++E;var te=Cr(4),re=String.fromCharCode(te);re||dt(E-1,"Invalid Unicode escape"),(J?br(te):da(te))||dt(E-4,"Invalid Unicode escape"),Z+=re}else break;J=!1}return Mn?Z:w.slice(lt,E)}function ma(){var Z=_a(),J=jt;return!Mn&&yo(Z)&&(J=Ji[Z]),ti(J,Z)}function Ce(){rt=B,mt=U,Ct=K,fn()}function us(Z){if(ct=Z,E=B,T.locations)for(;E<et;)et=w.lastIndexOf(`
`,et-2)+1,--tt;Tn(),fn()}function ya(){this.type=null,this.start=B,this.end=null}function xa(){this.start=W,this.end=null,m!==null&&(this.source=m)}function ai(){var Z=new ya;return T.locations&&(Z.loc=new xa),T.directSourceFile&&(Z.sourceFile=T.directSourceFile),T.ranges&&(Z.range=[B,0]),Z}function en(Z){var J=new ya;return J.start=Z.start,T.locations&&(J.loc=new xa,J.loc.start=Z.loc.start),T.ranges&&(J.range=[Z.range[0],0]),J}function ye(Z,J){return Z.type=J,Z.end=mt,T.locations&&(Z.loc.end=Ct),T.ranges&&(Z.range[1]=mt),Z}function os(Z){return T.ecmaVersion>=5&&Z.type==="ExpressionStatement"&&Z.expression.type==="Literal"&&Z.expression.value==="use strict"}function De(Z){if(F===Z)return Ce(),!0}function Sr(){return!T.strictSemicolons&&(F===ne||F===bi||wr.test(w.slice(mt,B)))}function dn(){!De(yi)&&!Sr()&&Gi()}function Qe(Z){F===Z?Ce():Gi()}function Gi(){dt(B,"Unexpected token")}function kr(Z){Z.type!=="Identifier"&&Z.type!=="MemberExpression"&&dt(Z.start,"Assigning to rvalue"),ct&&Z.type==="Identifier"&&xr(Z.name)&&dt(Z.start,"Assigning to "+Z.name+" in strict mode")}function Ro(Z){rt=mt=E,T.locations&&(Ct=new cn),Et=ct=null,Ot=[],fn();var J=Z||ai(),lt=!0;for(Z||(J.body=[]);F!==ne;){var gt=Ii();J.body.push(gt),lt&&os(gt)&&us(!0),lt=!1}return ye(J,"Program")}var ls={kind:"loop"},zo={kind:"switch"};function Ii(){(F===Wn||F===l&&X=="/=")&&fn(!0);var Z=F,J=ai();switch(Z){case ce:case ze:Ce();var lt=Z===ce;De(yi)||Sr()?J.label=null:F!==jt?Gi():(J.label=nn(),dn());for(var gt=0;gt<Ot.length;++gt){var te=Ot[gt];if((J.label==null||te.name===J.label.name)&&(te.kind!=null&&(lt||te.kind==="loop")||J.label&&lt))break}return gt===Ot.length&&dt(J.start,"Unsyntactic "+Z.keyword),ye(J,lt?"BreakStatement":"ContinueStatement");case Ye:return Ce(),dn(),ye(J,"DebuggerStatement");case St:return Ce(),Ot.push(ls),J.body=Ii(),Ot.pop(),Qe(We),J.test=Zn(),dn(),ye(J,"DoWhileStatement");case Ue:if(Ce(),Ot.push(ls),Qe(ue),F===yi)return hs(J,null);if(F===Ai){var re=ai();return Ce(),ba(re,!0),ye(re,"VariableDeclaration"),re.declarations.length===1&&De(Pn)?wa(J,re):hs(J,re)}var re=li(!1,!0);return De(Pn)?(kr(re),wa(J,re)):hs(J,re);case pi:return Ce(),gs(J,!0);case ki:return Ce(),J.test=Zn(),J.consequent=Ii(),J.alternate=De(Ee)?Ii():null,ye(J,"IfStatement");case vi:return!Et&&!T.allowReturnOutsideFunction&&dt(B,"'return' outside of function"),Ce(),De(yi)||Sr()?J.argument=null:(J.argument=li(),dn()),ye(J,"ReturnStatement");case _i:Ce(),J.discriminant=Zn(),J.cases=[],Qe(Hi),Ot.push(zo);for(var le,ke;F!=bi;)if(F===$t||F===Ve){var Pi=F===$t;le&&ye(le,"SwitchCase"),J.cases.push(le=ai()),le.consequent=[],Ce(),Pi?le.test=li():(ke&&dt(rt,"Multiple default clauses"),ke=!0,le.test=null),Qe(Ui)}else le||Gi(),le.consequent.push(Ii());return le&&ye(le,"SwitchCase"),Ce(),Ot.pop(),ye(J,"SwitchStatement");case ri:return Ce(),wr.test(w.slice(mt,B))&&dt(mt,"Illegal newline after throw"),J.argument=li(),dn(),ye(J,"ThrowStatement");case fi:if(Ce(),J.block=jn(),J.handler=null,F===He){var pn=ai();Ce(),Qe(ue),pn.param=nn(),ct&&xr(pn.param.name)&&dt(pn.param.start,"Binding "+pn.param.name+" in strict mode"),Qe(mi),pn.guard=null,pn.body=jn(),J.handler=ye(pn,"CatchClause")}return J.guardedHandlers=Tt,J.finalizer=De(Me)?jn():null,!J.handler&&!J.finalizer&&dt(J.start,"Missing catch or finally clause"),ye(J,"TryStatement");case Ai:return Ce(),ba(J),dn(),ye(J,"VariableDeclaration");case We:return Ce(),J.test=Zn(),Ot.push(ls),J.body=Ii(),Ot.pop(),ye(J,"WhileStatement");case si:return ct&&dt(B,"'with' in strict mode"),Ce(),J.object=Zn(),J.body=Ii(),ye(J,"WithStatement");case Hi:return jn();case yi:return Ce(),ye(J,"EmptyStatement");default:var _s=X,Ar=li();if(Z===jt&&Ar.type==="Identifier"&&De(Ui)){for(var gt=0;gt<Ot.length;++gt)Ot[gt].name===_s&&dt(Ar.start,"Label '"+_s+"' is already declared");var Ho=F.isLoop?"loop":F===_i?"switch":null;return Ot.push({name:_s,kind:Ho}),J.body=Ii(),Ot.pop(),J.label=Ar,ye(J,"LabeledStatement")}else return J.expression=Ar,dn(),ye(J,"ExpressionStatement")}}function Zn(){Qe(ue);var Z=li();return Qe(mi),Z}function jn(Z){var J=ai(),lt=!0,gt=!1,te;for(J.body=[],Qe(Hi);!De(bi);){var re=Ii();J.body.push(re),lt&&Z&&os(re)&&(te=gt,us(gt=!0)),lt=!1}return gt&&!te&&us(!1),ye(J,"BlockStatement")}function hs(Z,J){return Z.init=J,Qe(yi),Z.test=F===yi?null:li(),Qe(yi),Z.update=F===mi?null:li(),Qe(mi),Z.body=Ii(),Ot.pop(),ye(Z,"ForStatement")}function wa(Z,J){return Z.left=J,Z.right=li(),Qe(mi),Z.body=Ii(),Ot.pop(),ye(Z,"ForInStatement")}function ba(Z,J){for(Z.declarations=[],Z.kind="var";;){var lt=ai();if(lt.id=nn(),ct&&xr(lt.id.name)&&dt(lt.id.start,"Binding "+lt.id.name+" in strict mode"),lt.init=De(i)?li(!0,J):null,Z.declarations.push(ye(lt,"VariableDeclarator")),!De(Ci))break}return Z}function li(Z,J){var lt=cs(J);if(!Z&&F===Ci){var gt=en(lt);for(gt.expressions=[lt];De(Ci);)gt.expressions.push(cs(J));return ye(gt,"SequenceExpression")}return lt}function cs(Z){var J=Vo(Z);if(F.isAssign){var lt=en(J);return lt.operator=X,lt.left=J,Ce(),lt.right=cs(Z),kr(J),ye(lt,"AssignmentExpression")}return J}function Vo(Z){var J=Do(Z);if(De(Un)){var lt=en(J);return lt.test=J,lt.consequent=li(!0),Qe(Ui),lt.alternate=li(!0,Z),ye(lt,"ConditionalExpression")}return J}function Do(Z){return fs(ds(),-1,Z)}function fs(Z,J,lt){var gt=F.binop;if(gt!=null&&(!lt||F!==Pn)&&gt>J){var te=en(Z);te.left=Z,te.operator=X;var re=F;Ce(),te.right=fs(ds(),gt,lt);var le=ye(te,re===H||re===it?"LogicalExpression":"BinaryExpression");return fs(le,J,lt)}return Z}function ds(){if(F.prefix){var Z=ai(),J=F.isUpdate;return Z.operator=X,Z.prefix=!0,Q=!0,Ce(),Z.argument=ds(),J?kr(Z.argument):ct&&Z.operator==="delete"&&Z.argument.type==="Identifier"&&dt(Z.start,"Deleting local variable in strict mode"),ye(Z,J?"UpdateExpression":"UnaryExpression")}for(var lt=Bo();F.postfix&&!Sr();){var Z=en(lt);Z.operator=X,Z.prefix=!1,Z.argument=lt,kr(lt),Ce(),lt=ye(Z,"UpdateExpression")}return lt}function Bo(){return Xn(ps())}function Xn(Z,J){if(De(Hn)){var lt=en(Z);return lt.object=Z,lt.property=nn(!0),lt.computed=!1,Xn(ye(lt,"MemberExpression"),J)}else if(De(on)){var lt=en(Z);return lt.object=Z,lt.property=li(),lt.computed=!0,Qe(ln),Xn(ye(lt,"MemberExpression"),J)}else if(!J&&De(ue)){var lt=en(Z);return lt.callee=Z,lt.arguments=vs(mi,!1),Xn(ye(lt,"CallExpression"),J)}else return Z}function ps(){switch(F){case qn:var gt=ai();return Ce(),ye(gt,"ThisExpression");case jt:return nn();case zt:case Xt:case Rt:var gt=ai();return gt.value=X,gt.raw=w.slice(B,U),Ce(),ye(gt,"Literal");case _r:case mr:case yr:var gt=ai();return gt.value=F.atomValue,gt.raw=F.keyword,Ce(),ye(gt,"Literal");case ue:var Z=W,J=B;Ce();var lt=li();return lt.start=J,lt.end=U,T.locations&&(lt.loc.start=Z,lt.loc.end=K),T.ranges&&(lt.range=[J,U]),Qe(mi),lt;case on:var gt=ai();return Ce(),gt.elements=vs(ln,!0,!0),ye(gt,"ArrayExpression");case Hi:return qo();case pi:var gt=ai();return Ce(),gs(gt,!1);case vr:return Fo();default:Gi()}}function Fo(){var Z=ai();return Ce(),Z.callee=Xn(ps(),!0),De(ue)?Z.arguments=vs(mi,!1):Z.arguments=Tt,ye(Z,"NewExpression")}function qo(){var Z=ai(),J=!0,lt=!1;for(Z.properties=[],Ce();!De(bi);){if(J)J=!1;else if(Qe(Ci),T.allowTrailingCommas&&De(bi))break;var gt={key:Ca()},te=!1,re;if(De(Ui)?(gt.value=li(!0),re=gt.kind="init"):T.ecmaVersion>=5&&gt.key.type==="Identifier"&&(gt.key.name==="get"||gt.key.name==="set")?(te=lt=!0,re=gt.kind=gt.key.name,gt.key=Ca(),F!==ue&&Gi(),gt.value=gs(ai(),!1)):Gi(),gt.key.type==="Identifier"&&(ct||lt))for(var le=0;le<Z.properties.length;++le){var ke=Z.properties[le];if(ke.key.name===gt.key.name){var Pi=re==ke.kind||te&&ke.kind==="init"||re==="init"&&(ke.kind==="get"||ke.kind==="set");Pi&&!ct&&re==="init"&&ke.kind==="init"&&(Pi=!1),Pi&&dt(gt.key.start,"Redefinition of property")}}Z.properties.push(gt)}return ye(Z,"ObjectExpression")}function Ca(){return F===zt||F===Xt?ps():nn(!0)}function gs(Z,J){F===jt?Z.id=nn():J?Gi():Z.id=null,Z.params=[];var lt=!0;for(Qe(ue);!De(mi);)lt?lt=!1:Qe(Ci),Z.params.push(nn());var gt=Et,te=Ot;if(Et=!0,Ot=[],Z.body=jn(!0),Et=gt,Ot=te,ct||Z.body.body.length&&os(Z.body.body[0]))for(var re=Z.id?-1:0;re<Z.params.length;++re){var le=re<0?Z.id:Z.params[re];if((ha(le.name)||xr(le.name))&&dt(le.start,"Defining '"+le.name+"' in strict mode"),re>=0)for(var ke=0;ke<re;++ke)le.name===Z.params[ke].name&&dt(le.start,"Argument name clash in strict mode")}return ye(Z,J?"FunctionDeclaration":"FunctionExpression")}function vs(Z,J,lt){for(var gt=[],te=!0;!De(Z);){if(te)te=!1;else if(Qe(Ci),J&&T.allowTrailingCommas&&De(Z))break;lt&&F===Ci?gt.push(null):gt.push(li(!0))}return gt}function nn(Z){var J=ai();return Z&&T.forbidReserved=="everywhere"&&(Z=!1),F===jt?(!Z&&(T.forbidReserved&&(T.ecmaVersion===3?$i:tn)(X)||ct&&ha(X))&&w.slice(B,U).indexOf("\\")==-1&&dt(B,"The keyword '"+X+"' is reserved"),J.name=X):Z&&F.keyword?J.name=F.keyword:Gi(),Q=!1,Ce(),ye(J,"Identifier")}}),e.version||(e=null)}function u(A,T){return(t.acorn||e).parse(A,T)}var h={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},c={"-":"__negate","+":"__self"},f=p.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(A){this["__"+A]="#"+A},{__self:function(){return this}});V.inject(f),nt.inject(f),he.inject(f);function g(A,T,w){var P=h[T];if(A&&A[P]){var m=A[P](w);return T==="!="?!m:m}switch(T){case"+":return A+w;case"-":return A-w;case"*":return A*w;case"/":return A/w;case"%":return A%w;case"==":return A==w;case"!=":return A!=w}}function v(A,T){var w=c[A];if(T&&T[w])return T[w]();switch(A){case"+":return+T;case"-":return-T}}function b(A,T){if(!A)return"";T=T||{};var w=[];function P(ct){for(var dt=0,Tt=w.length;dt<Tt;dt++){var zt=w[dt];if(zt[0]>=ct)break;ct+=zt[1]}return ct}function m(ct){return A.substring(P(ct.range[0]),P(ct.range[1]))}function I(ct,dt){return A.substring(P(ct.range[1]),P(dt.range[0]))}function O(ct,dt){for(var Tt=P(ct.range[0]),zt=P(ct.range[1]),Rt=0,Xt=w.length-1;Xt>=0;Xt--)if(Tt>w[Xt][0]){Rt=Xt+1;break}w.splice(Rt,0,[Tt,dt.length-zt+Tt]),A=A.substring(0,Tt)+dt+A.substring(zt)}function R(ct,dt){switch(ct.type){case"UnaryExpression":if(ct.operator in c&&ct.argument.type!=="Literal"){var Tt=m(ct.argument);O(ct,'$__("'+ct.operator+'", '+Tt+")")}break;case"BinaryExpression":if(ct.operator in h&&ct.left.type!=="Literal"){var zt=m(ct.left),Rt=m(ct.right),Xt=I(ct.left,ct.right),jt=ct.operator;O(ct,"__$__("+zt+","+Xt.replace(new RegExp("\\"+jt),'"'+jt+'"')+", "+Rt+")")}break;case"UpdateExpression":case"AssignmentExpression":var ne=dt&&dt.type;if(!(ne==="ForStatement"||ne==="BinaryExpression"&&/^[=!<>]/.test(dt.operator)||ne==="MemberExpression"&&dt.computed)){if(ct.type==="UpdateExpression"){var Tt=m(ct.argument),ce="__$__("+Tt+', "'+ct.operator[0]+'", 1)',$t=Tt+" = "+ce;ct.prefix?$t="("+$t+")":(ne==="AssignmentExpression"||ne==="VariableDeclarator"||ne==="BinaryExpression")&&(m(dt.left||dt.id)===Tt&&($t=ce),$t=Tt+"; "+$t),O(ct,$t)}else if(/^.=$/.test(ct.operator)&&ct.left.type!=="Literal"){var zt=m(ct.left),Rt=m(ct.right),ce=zt+" = __$__("+zt+', "'+ct.operator[0]+'", '+Rt+")";O(ct,/^\(.*\)$/.test(m(ct))?"("+ce+")":ce)}}break}}function E(ct){switch(ct.type){case"ExportDefaultDeclaration":O({range:[ct.start,ct.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var dt=ct.declaration,Tt=ct.specifiers;if(dt){var zt=dt.declarations;zt&&(zt.forEach(function(Xt){O(Xt,"module.exports."+m(Xt))}),O({range:[ct.start,dt.start+dt.kind.length]},""))}else if(Tt){var Rt=Tt.map(function(Xt){var jt=m(Xt);return"module.exports."+jt+" = "+jt+"; "}).join("");Rt&&O(ct,Rt)}break}}function B(ct,dt,Tt){if(ct){for(var zt in ct)if(zt!=="range"&&zt!=="loc"){var Rt=ct[zt];if(Array.isArray(Rt))for(var Xt=0,jt=Rt.length;Xt<jt;Xt++)B(Rt[Xt],ct,Tt);else Rt&&typeof Rt=="object"&&B(Rt,ct,Tt)}Tt.operatorOverloading!==!1&&R(ct,dt),Tt.moduleExports!==!1&&E(ct)}}function U(ct){var dt="",Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ct=(Math.abs(ct)<<1)+(ct<0?1:0);ct||!dt;){var zt=ct&31;ct>>=5,ct&&(zt|=32),dt+=Tt[zt]}return dt}var W=T.url||"",K=T.sourceMaps,F=T.paperFeatures||{},X=T.source||A,Q=T.offset||0,tt=Jt.agent,et=tt.versionNumber,rt=!1,mt=/\r\n|\n|\r/mg,Ct;if(K&&(tt.chrome&&et>=30||tt.webkit&&et>=537.76||tt.firefox&&et>=23||tt.node)){if(tt.node)Q-=2;else if(d&&W&&!d.location.href.indexOf(W)){var Et=_.getElementsByTagName("html")[0].innerHTML;Q=Et.substr(0,Et.indexOf(A)+1).match(mt).length+1}rt=Q>0&&!(tt.chrome&&et>=36||tt.safari&&et>=600||tt.firefox&&et>=40||tt.node);var Ot=["AA"+U(rt?0:Q)+"A"];Ot.length=(A.match(mt)||[]).length+1+(rt?Q:0),Ct={version:3,file:W,names:[],mappings:Ot.join(";AACA"),sourceRoot:"",sources:[W],sourcesContent:[X]}}return(F.operatorOverloading!==!1||F.moduleExports!==!1)&&B(u(A,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,F),Ct&&(rt&&(A=new Array(Q+1).join(`
`)+A),/^(inline|both)$/.test(K)&&(A+=`
//# sourceMappingURL=data:application/json;base64,`+a.btoa(unescape(encodeURIComponent(JSON.stringify(Ct))))),A+=`
//# sourceURL=`+(W||"paperscript")),{url:W,source:X,code:A,map:Ct}}function S(A,T,w){Jt=T;var P=T.getView(),m=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(A)&&!/\bnew\s+Tool\b/.test(A)?new Ae:null,I=m?m._events:[],O=["onFrame","onResize"].concat(I),R=[],E=[],B,U=typeof A=="object"?A:b(A,w);A=U.code;function W(et,rt){for(var mt in et)(rt||!/^_/.test(mt))&&new RegExp("([\\b\\s\\W]|^)"+mt.replace(/\$/g,"\\$")+"\\b").test(A)&&(R.push(mt),E.push(et[mt]))}W({__$__:g,$__:v,paper:T,tool:m},!0),W(T),A="var module = { exports: {} }; "+A;var Q=p.each(O,function(et){new RegExp("\\s+"+et+"\\b").test(A)&&(R.push(et),this.push("module.exports."+et+" = "+et+";"))},[]).join(`
`);Q&&(A+=`
`+Q),A+=`
return module.exports;`;var K=Jt.agent;if(_&&(K.chrome||K.firefox&&K.versionNumber<40)){var F=_.createElement("script"),X=_.head||_.getElementsByTagName("head")[0];K.firefox&&(A=`
`+A),F.appendChild(_.createTextNode("document.__paperscript__ = function("+R+") {"+A+`
}`)),X.appendChild(F),B=_.__paperscript__,delete _.__paperscript__,X.removeChild(F)}else B=Function(R,A);var Q=B&&B.apply(T,E),tt=Q||{};return p.each(I,function(et){var rt=tt[et];rt&&(m[et]=rt)}),P&&(tt.onResize&&P.setOnResize(tt.onResize),P.emit("resize",{size:P.size,delta:new V}),tt.onFrame&&P.setOnFrame(tt.onFrame),P.requestUpdate()),Q}function x(A){if(/^text\/(?:x-|)paperscript$/.test(A.type)&&z.getAttribute(A,"ignore")!=="true"){var T=z.getAttribute(A,"canvas"),w=_.getElementById(T),P=A.src||A.getAttribute("data-src"),m=z.hasAttribute(A,"async"),I="data-paper-scope";if(!w)throw new Error('Unable to find canvas with id "'+T+'"');var O=z.get(w.getAttribute(I))||new z().setup(w);return w.setAttribute(I,O._id),P?Xe.request({url:P,async:m,mimeType:"text/plain",onLoad:function(R){S(R,O,P)}}):S(A.innerHTML,O,A.baseURI),A.setAttribute("data-paper-ignore","true"),O}}function y(){p.each(_&&_.getElementsByTagName("script"),x)}function L(A){return A?x(A):y()}return d&&(_.readyState==="complete"?setTimeout(y):ve.add(d,{load:y})),{compile:b,execute:S,load:L,parse:u,calculateBinary:g,calculateUnary:v}}).call(this);var Jt=new(z.inject(p.exports,{Base:p,Numerical:G,Key:Zt,DomEvent:ve,DomElement:ee,document:_,window:d,Symbol:It,PlacedSymbol:yt}));return Jt.agent.node&&nu(Jt),typeof o=="function"&&o.amd?o("paper",Jt):r&&(r.exports=Jt),Jt}).call(go,typeof self=="object"?self:null)})(vo);var md=vo.exports;const gn=fd(md),Zs=7,_o=13,yd=1,su=10,au=0,xd=2,uu="Â ",Ln=4;function mo(r){return An(".0%")(r)}function js(r,a){return[r*Math.sin(a),r*Math.cos(a)]}function Dr(r,a,o){o=Math.min(o,r);function d(p){return Math.acos(p/r)}function _(p){return-1/2*r**2*(p-Math.sin(p)*Math.cos(p))}return _(d(o))-_(d(a))}function Nr({layerRadius:r,cutY:a,cutX:o,nextCutX:d}){const _=Math.sqrt(r**2-a**2),p=Math.min(_,d);return Dr(r,o,p)-(p-o)*a}function wd({slope:r,yIntercept:a,radius:o}){const d=a**2*r**2-(r**2+1)*(a**2-o**2);return{discriminant:d,doesIntersect:d>0}}function Lr({slope:r,yIntercept:a,x1:o,x2:d}){return 1/2*r*(d**2-o**2)+a*(d-o)}function ou(r,a,o){return r>a&&r-a>3e-14&&r<o&&o-r>3e-14}function bd(r){return r.map(({pieceColumn:a})=>a.map(({pieceArea:o,subPieces:d})=>d.length?d.map(({subPieceArea:_})=>_):o)).flat(2)}function Cd(r){return r.map(({pieces:a})=>a.map(({area:o,subPieces:d})=>d.length?d:o)).flat(2)}function Sd(r,a){return+a.area.toFixed(10)-+r.area.toFixed(10)}var cr,Xs;class lu{constructor({radius:a,numLayers:o,numCuts:d,cutType:_,cutTargetDepthPercentage:p,numHorizontalCuts:N}){Nn(this,cr);this.radius=a,this.numLayers=o,this.numCuts=d,this.cutType=_,this.cutTargetDepthPercentage=p,this.numHorizontalCuts=N}get rScale(){return un().domain([0,this.numLayers]).range([0,this.radius])}get layerRadii(){return Array.from({length:this.numLayers}).map((a,o)=>this.rScale(o+1))}get layerThickness(){return this.rScale(1)}get layerArcs(){return this.layerRadii.map(a=>o=>Math.sqrt(a**2-o**2))}get cutNumbers(){return Array.from({length:this.numCuts}).map((a,o)=>o)}get cutWidthScale(){return un().domain([0,this.numCuts]).range([0,this.radius])}get cutThickness(){return this.cutWidthScale(1)}get cutAngleScale(){return un().domain([0,this.numCuts]).range([Math.PI/2,0])}get cutTargetDepth(){return this.radius*this.cutTargetDepthPercentage}get horizontalCutNumbers(){return Array.from({length:this.numHorizontalCuts}).map((a,o)=>o).reverse()}get horizontalCutScale(){return un().domain([0,this.numHorizontalCuts]).range([1/(this.numHorizontalCuts+1),1])}get storageKey(){return[`${this.numLayers}l`,`${this.numCuts}c`,this.cutType==="radial"?"r":"v",...this.cutType==="radial"?[`${mo(this.cutTargetDepthPercentage)}d`]:[],`${this.numHorizontalCuts}h`].join(":")}get verticalAreas(){const a=this.cutNumbers,o=this.cutWidthScale,d=this.radius,_=this.layerRadii,p=this.horizontalCutNumbers,N=this.horizontalCutScale,z=a.map(q=>({cutX:o(q),pieceColumn:[]}));return a.forEach(q=>{const{cutX:D,pieceColumn:j}=z[q];_.forEach((G,$)=>{const V=$===0,st=_[$-1];if(G>D){const nt=o(q+1),ut=Dr(G,D,nt),ot=j.length?ut-j.at(-1).verticalCutArea:ut,vt=[V?0:Math.sqrt(st**2-nt**2)||0,Math.sqrt(G**2-D**2)];let ht=[];p.forEach(_t=>{const pt=N(_t)*d;if(ou(pt,vt[0],vt[1])){let k=Nr({layerRadius:G,cutY:pt,cutX:D,nextCutX:nt});const wt=Math.sqrt(st**2-D**2);if(pt<wt&&(k-=Nr({layerRadius:st,cutY:pt,cutX:D,nextCutX:nt})),ht.length){const Nt=ht[0].subPieceArea;ht=[{subPieceArea:Nt,horizontalCutPathNum:_t+2},{subPieceArea:k-Nt,horizontalCutPathNum:_t+1},{subPieceArea:ot-k,horizontalCutPathNum:_t}]}else ht=[{subPieceArea:k,horizontalCutPathNum:_t+1},{subPieceArea:ot-k,horizontalCutPathNum:_t}]}}),j.push({layerRadius:G,verticalCutArea:ut,pieceArea:ot,yRange:vt,subPieces:ht})}})}),z}get radialAreas(){const a=this.layerRadii,o=this.cutAngleScale,d=this.radius,_=this.cutNumbers,p=this.cutTargetDepth,N=this.horizontalCutNumbers,z=this.horizontalCutScale;function q(G){return $=>G*$-p}function D(G){const $=o(G);return(p+d*Math.sin($))/(d*Math.cos($))}const j=a.map(G=>{const $=[];return _.forEach(V=>{const st=D(V),nt=q(st),{discriminant:ut,doesIntersect:ot}=wd({slope:st,yIntercept:-p,radius:G});if(ot){const vt=(p*st+Math.sqrt(ut))/(st**2+1);vt>0&&nt(vt)>0&&$.push({xOfLeftCutIntersection:vt,leftCutLineSlope:st,cutNum:V})}}),{layerRadius:G,pieces:$}});return j.forEach(({pieces:G,layerRadius:$},V,st)=>{const nt=V===0,ut=st[V-1];G.forEach((ot,vt,ht)=>{var ft,se,xe;const _t=vt===0,pt=vt===ht.length-1,{leftCutLineSlope:k,xOfLeftCutIntersection:wt}=ot,Nt=[void 0,void 0],qt=[void 0,void 0],Lt=ht[vt+1];function yt(Pt){var ge,Ut;const Vt=(ge=ut==null?void 0:ut.pieces[Pt])==null?void 0:ge.xOfLeftCutIntersection,Ft=p/((Ut=ht[Pt])==null?void 0:Ut.leftCutLineSlope);return Vt??Ft}Nt[0]=wt,Nt[1]=pt?$:Lt.xOfLeftCutIntersection,_t||(Nt[0]=yt(vt)),ot.xRange=Nt,qt[0]=pt||nt?0:Math.sqrt(ut.layerRadius**2-((ft=ut.pieces[vt+1])==null?void 0:ft.xOfLeftCutIntersection)**2)||0,qt[1]=Math.sqrt($**2-wt**2),ot.yRange=qt;let It=Dr($,wt,Nt[1]);if(_t||(It+=Lr({slope:k,yIntercept:-p,x1:Nt[0],x2:wt})),!pt){const Pt=yt(vt+1);It-=Lr({slope:Lt.leftCutLineSlope,yIntercept:-p,x1:Pt,x2:Nt[1]})}const Ht=(se=ut==null?void 0:ut.pieces[vt])==null?void 0:se.xRange[1];!nt&&Ht>Nt[0]&&(It-=Dr(ut.layerRadius,(xe=ut.pieces[vt])==null?void 0:xe.xOfLeftCutIntersection,Ht)),ot.area=It;let oe=[];N.forEach(Pt=>{const Vt=z(Pt)*d;if(ou(Vt,qt[0],qt[1])){let Ft=Nr({layerRadius:$,cutY:Vt,cutX:wt,nextCutX:Nt[1]});if(!_t){const Ut=Math.max((Vt+p)/k,Nt[0]);Ft+=Lr({slope:k,yIntercept:-p,x1:Ut,x2:wt})-(wt-Ut)*Vt}if(!nt&&Vt<Math.sqrt(ut.layerRadius**2-Nt[0]**2)){const Ut=Math.sqrt(ut.layerRadius**2-Vt**2);Ft-=Nr({layerRadius:ut.layerRadius,cutY:Vt,cutX:Nt[0],nextCutX:Ut})}if(!pt&&Vt<Math.sqrt($**2-Nt[1]**2)){const Ut=(Vt+p)/Lt.leftCutLineSlope;Ft-=Lr({slope:Lt.leftCutLineSlope,yIntercept:-p,x1:Ut,x2:Nt[1]})-(Nt[1]-Ut)*Vt}if(oe.length){const Ut=oe[0].subPieceArea;oe=[{subPieceArea:Ut,horizontalCutPathNum:Pt+2},{subPieceArea:Ft-Ut,horizontalCutPathNum:Pt+1},{subPieceArea:It-Ft,horizontalCutPathNum:Pt}]}else oe=[{subPieceArea:Ft,horizontalCutPathNum:Pt+1},{subPieceArea:It-Ft,horizontalCutPathNum:Pt}]}}),ot.subPieces=oe})}),j}get meanArea(){return ah(gi(this,cr,Xs))}get standardDeviation(){return $l(gi(this,cr,Xs))/this.meanArea*100}get standardDeviationString(){return+An(".1f")(this.standardDeviation)}}cr=new WeakSet,Xs=function(){return this.cutType==="vertical"?bd(this.verticalAreas):Cd(this.radialAreas)};var kd=Qi("<line></line>");function Ad(r,a){let o=Kt(a,"isBottom",3,!1),d=Kt(a,"isHalfWidth",3,!1),_=o()?a.height:0;var p=kd();let N;pe(z=>{Wt(p,"x1",-a.width/2),Wt(p,"y1",_),Wt(p,"x2",a.width/2),Wt(p,"y2",_),N=Je(p,0,"svelte-p4w993",null,N,z)},[()=>({"half-width":d()})]),Dt(r,p)}var Id=Qi('<circle cx="0" clip-path="url(#layer-mask)" class="svelte-4enqpx"></circle>'),Pd=Qi('<g class="onion"></g>');function Ed(r,a){ii(a,!0);const[o,d]=fr(),_=()=>Mi(p,"$onionStore",o),p=oi("onionStore");let N=de(()=>_().layerRadii);var z=Pd();je(z,21,()=>Y(N),Ze,(q,D)=>{var j=Id();pe(()=>{Wt(j,"cy",a.height),Wt(j,"r",Y(D))}),Dt(q,j)}),xt(z),Dt(r,z),ni(),d()}var Td=Qi('<line y1="0" class="svelte-1j3y5u1"></line>'),Md=Qi('<line x2="0" class="svelte-1j3y5u1"></line>'),Nd=Qi('<line x1="0" class="svelte-1j3y5u1"></line>'),Ld=Qi('<g class="cuts"><!><!></g>');function Od(r,a){ii(a,!0);const[o,d]=fr(),_=()=>Mi(p,"$onionStore",o),p=oi("onionStore");let N=de(()=>_().radius),z=de(()=>_().cutNumbers),q=de(()=>_().cutType),D=de(()=>_().cutWidthScale),j=de(()=>_().cutAngleScale),G=de(()=>_().cutTargetDepth),$=de(()=>_().horizontalCutNumbers),V=de(()=>_().horizontalCutScale);var st=Ld(),nt=kt(st);je(nt,17,()=>Y(z),Ze,(ot,vt)=>{var ht=wi(),_t=Ge(ht);{var pt=wt=>{var Nt=Td();const qt=de(()=>Y(D)(Y(vt)));pe(()=>{Wt(Nt,"x1",Y(qt)),Wt(Nt,"x2",Y(qt)),Wt(Nt,"y2",a.height)}),Dt(wt,Nt)},k=wt=>{var Nt=wi(),qt=Ge(Nt);{var Lt=yt=>{var It=Md();const Ht=de(()=>Y(j)(Y(vt)+1)),At=de(()=>{const[oe,ft]=js(Y(N),Y(Ht));return{xIntercept:oe,yIntercept:ft}});pe((oe,ft)=>{Wt(It,"x1",Y(At).xIntercept*2),Wt(It,"y1",oe),Wt(It,"y2",ft)},[()=>a.yScale(Y(At).yIntercept*2+Y(G)),()=>a.yScale(-Y(G))]),Dt(yt,It)};Oe(qt,yt=>{Y(q)==="radial"&&yt(Lt)},!0)}Dt(wt,Nt)};Oe(_t,wt=>{Y(q)==="vertical"?wt(pt):wt(k,!1)})}Dt(ot,ht)});var ut=Bt(nt);je(ut,17,()=>Y($),Ze,(ot,vt)=>{var ht=Nd();const _t=de(()=>Y(V)(Y(vt))*Y(N)),pt=de(()=>a.yScale(Y(_t)));pe(()=>{Wt(ht,"y1",Y(pt)),Wt(ht,"x2",a.width/2),Wt(ht,"y2",Y(pt))}),Dt(ot,ht)}),xt(st),Dt(r,st),ni(),d()}var Rd=Qi("<path></path>");function hu(r,a){ii(a,!0);const[o,d]=fr(),_=()=>Mi(V,"$onionStore",o),p=()=>Mi(vt,"$explodeStore",o),N=()=>Mi(ht,"$colorScaleStore",o);let z=Kt(a,"subPieceIndex",3,void 0),q=Kt(a,"highlight",3,!1),D=Kt(a,"primary",3,!1),j=Kt(a,"secondary",3,!1);const G=a.path.pathData,$=z()!==void 0,V=oi("onionStore");let st=de(()=>_().cutType),nt=de(()=>_().cutTargetDepthPercentage),ut=de(()=>_().meanArea),ot=de(()=>_().standardDeviation);const vt=oi("explodeStore"),ht=oi("colorScaleStore");var _t=Rd();let pt;pe((k,wt)=>{Wt(_t,"d",G),Su(_t,k),Wt(_t,"data-area",a.area),Wt(_t,"data-subpiece-index",z()),pt=Je(_t,0,"svelte-1n1uq0m",null,pt,wt)},[()=>p()?`fill: ${N()(Math.abs(a.area-Y(ut))/Y(ot))}; transform: translate(${a.explodedX}px, ${a.explodedY}px)`:void 0,()=>({highlight:q(),primary:q()&&D(),secondary:q()&&j(),thin:!p()&&j()&&Y(st)==="radial"&&Y(nt)===0,subpiece:$})]),Dt(r,_t),ni(),d()}function zd(r,a){ii(a,!0);const[o,d]=fr(),_=()=>Mi(j,"$onionStore",o),p=()=>Mi(Ht,"$layerPathStore",o),N=()=>Mi(At,"$cutPathStore",o),z=()=>Mi(oe,"$horizontalCutPathStore",o),q=()=>Mi(ft,"$explodeStore",o);let D=Kt(a,"viewBoxHeight",15);const j=oi("onionStore");let G=de(()=>_().radius),$=de(()=>_().cutTargetDepthPercentage),V=de(()=>_().cutType),st=de(()=>_().layerRadii),nt=de(()=>_().numHorizontalCuts),ut=de(()=>_().verticalAreas),ot=de(()=>_().radialAreas),vt=de(()=>_().meanArea),ht=de(()=>_().standardDeviation),_t=de(()=>Y(ut).flatMap(({cutX:Vt,pieceColumn:Ft},ge)=>Ft.flatMap((Ut,Se)=>{const he={...Ut,cutX:Vt,cutNum:ge,layerNumInColumn:Se};return Ut.subPieces.length?Ut.subPieces.map(({subPieceArea:Fe,horizontalCutPathNum:Te})=>({...he,pieceArea:Fe,subPieceIndex:Te})):he})).sort((Vt,Ft)=>Ft.pieceArea-Vt.pieceArea)),pt=de(()=>Y(ot).flatMap(({layerRadius:Vt,pieces:Ft},ge)=>Ft.flatMap((Ut,Se)=>{const he={...Ut,layerRadius:Vt,layerNum:ge,numPieces:Ft.length,isInnermostLayer:ge===0,isOutermostLayer:ge===Y(ot).length-1,pieceNum:Se};return Ut.subPieces.length?Ut.subPieces.map(({subPieceArea:Fe,horizontalCutPathNum:Te})=>({...he,area:Fe,subPieceIndex:Te})):he})).sort(Sd));const k=mn();let wt=de(()=>Y(V)==="vertical"?Y(_t).at(-1).pieceArea:Y(pt).at(-1).area),Nt=de(()=>Y(V)==="vertical"?Y(_t)[0].pieceArea:Y(pt)[0].area);_n(()=>{Y(wt),Y(Nt),yn(k,un().domain([Y(wt),Y(Nt)]).range([-Y(G),Y(G)]))}),Ei("explodeXScaleStore",k);const qt=mn();let Lt=de(()=>(Y(wt)-Y(vt))/Y(ht)),yt=de(()=>(Y(Nt)-Y(vt))/Y(ht));_n(()=>{Y(Lt),Y(yt),yn(qt,po().domain([0,Math.max(Y(yt),Math.abs(Y(Lt)))]).interpolator(Sf("#2a827f","#a239ca")))}),Ei("colorScaleStore",qt);const It=oi("width"),Ht=oi("layerPathStore"),At=oi("cutPathStore"),oe=oi("horizontalCutPathStore"),ft=oi("explodeStore");let se=de(()=>(Y(V)==="vertical"?Y(_t):Y(pt)).reduce((Vt,Ft)=>{const ge=Vt[Vt.length-1],Ut=Ft.layerNum??Ft.layerNumInColumn+Y(st).findLastIndex(_e=>_e<=Ft.cutX)+1,Se=Ft.subPieceIndex!==void 0,he=p()[Ut],Fe=N()[Ft.cutNum],Te=he.intersect(Fe),Pe=Te.intersect(z()[Ft.subPieceIndex]),ee=Se?Pe:Te;Ft.path=ee;let{width:ve,height:Yt}=ee.strokeBounds;Ft.width=ve,Ft.height=Yt,Ft.explodedX=ve/2-ee.position.x-It/2+Ln;const Re=Vt.length?ge.explodedRowWidth:0,Gt=It-Re-Ln,Qt=ve+Ln;if(Vt.length&&Qt<=Gt)Ft.explodedX+=Re,ge.pieces.push(Ft),ge.explodedRowWidth+=Qt;else{const _e=ge?Math.max(...ge.pieces.map(Ae=>Ae.height)):0,be=Vt.length?Vt.at(-1).explodedRowY+_e+Ln:Ln;Vt.push({pieces:[Ft],explodedRowY:be,explodedRowWidth:Qt})}let Zt=Yt/2-ee.position.y+Vt.at(-1).explodedRowY;if(Se)for(let _e=Ft.subPieceIndex;_e<Y(nt);_e++){const be=ee.intersect(z()[_e+1]);Zt-=be.strokeBounds.height}return Ft.explodedY=Zt,Vt},[]));gl(()=>{D(D().target=a.showRadialTarget?300*(5/3):q()?Math.max(Y(se).at(-1).explodedRowY+Math.max(...Y(se).at(-1).pieces.map(Ft=>Ft.height))+Ln,300):300,!0)});var xe=wi(),Pt=Ge(xe);je(Pt,17,()=>Y(se),Ze,(Vt,Ft)=>{let ge=()=>Y(Ft).pieces;var Ut=wi(),Se=Ge(Ut);{var he=Te=>{var Pe=wi(),ee=Ge(Pe);je(ee,17,ge,Ze,(ve,Yt)=>{let Re=()=>Y(Yt).path,Gt=()=>Y(Yt).pieceArea,Qt=()=>Y(Yt).subPieceIndex,Zt=()=>Y(Yt).cutX,_e=()=>Y(Yt).cutNum,be=()=>Y(Yt).layerNumInColumn,Ae=()=>Y(Yt).explodedX,qe=()=>Y(Yt).explodedY;const Xe=de(()=>_e()===0),we=de(()=>be()===0);{let Ke=de(()=>be()+Y(st).findLastIndex(ae=>ae<=Zt())+1);hu(ve,{get path(){return Re()},get area(){return Gt()},get layerNum(){return Y(Ke)},get cutNum(){return _e()},get subPieceIndex(){return Qt()},get highlight(){return a.highlightExtremes},get primary(){return Y(Xe)},get secondary(){return Y(we)},get explodedX(){return Ae()},get explodedY(){return qe()}})}}),Dt(Te,Pe)},Fe=Te=>{var Pe=wi(),ee=Ge(Pe);{var ve=Yt=>{var Re=wi(),Gt=Ge(Re);je(Gt,17,ge,Ze,(Qt,Zt)=>{let _e=()=>Y(Zt).path,be=()=>Y(Zt).area,Ae=()=>Y(Zt).subPieceIndex,qe=()=>Y(Zt).cutNum,Xe=()=>Y(Zt).layerNum,we=()=>Y(Zt).numPieces,Ke=()=>Y(Zt).isInnermostLayer,ae=()=>Y(Zt).isOutermostLayer,ci=()=>Y(Zt).pieceNum,Jt=()=>Y(Zt).explodedX,t=()=>Y(Zt).explodedY;const e=de(()=>Y($)!==0&&ci()===we()-1);{let n=de(()=>Y($)===0&&ae()||Y(e)),s=de(()=>Y($)===0&&Ke());hu(Qt,{get path(){return _e()},get area(){return be()},get layerNum(){return Xe()},get cutNum(){return qe()},get subPieceIndex(){return Ae()},get highlight(){return a.highlightExtremes},get primary(){return Y(n)},get secondary(){return Y(s)},get explodedX(){return Jt()},get explodedY(){return t()}})}}),Dt(Yt,Re)};Oe(ee,Yt=>{Y(V)==="radial"&&Yt(ve)},!0)}Dt(Te,Pe)};Oe(Se,Te=>{Y(V)==="vertical"?Te(he):Te(Fe,!1)})}Dt(Vt,Ut)}),Dt(r,xe),ni(),d()}var Vd=fe('<div class="legend svelte-13oh5yk"> </div>'),Dd=fe('<div class="option svelte-13oh5yk"><input type="radio" class="sr-only svelte-13oh5yk"/> <label> </label></div>'),Bd=fe('<div class="button-set svelte-13oh5yk"><div role="radiogroup"><!> <div class="options svelte-13oh5yk"></div></div></div>');function Fd(r,a){ii(a,!1);const o=xi(),d=xi(),_=[];let p=Kt(a,"options",24,()=>[]),N=Kt(a,"legend",8,""),z=Kt(a,"legendPosition",8,""),q=Kt(a,"labelClass",8,""),D=Kt(a,"disabled",8,!1),j=Kt(a,"value",28,()=>p().length?p()[0].value:"");const G=`legend-${Math.floor(Math.random()*1e6)}`,$=(ht="")=>`${ht}`.toLowerCase().replace(/\W/g,"");sn(()=>di(p()),()=>{Le(o,p().map(ht=>({...ht,val:ht.value,slug:$(ht.value)})))}),sn(()=>di(z()),()=>{Le(d,z()==="top")}),ta(),Si();var V=Bd(),st=kt(V);let nt;var ut=kt(st);{var ot=ht=>{var _t=Vd(),pt=kt(_t,!0);xt(_t),pe(()=>{Wt(_t,"id",`legend-${G}`),Be(pt,N())}),Dt(ht,_t)};Oe(ut,ht=>{N()&&ht(ot)})}var vt=Bt(ut,2);je(vt,5,()=>Y(o),Ze,(ht,_t)=>{var pt=Dd(),k=kt(pt);ia(k);var wt,Nt=Bt(k,2),qt=kt(Nt,!0);xt(Nt),xt(pt),pe(()=>{Wt(k,"id",(Y(_t),ui(()=>`${G}-${Y(_t).slug}`))),Wt(k,"name",`name-${G}`),k.disabled=D(),wt!==(wt=(Y(_t),ui(()=>Y(_t).value)))&&(k.value=(k.__value=(Y(_t),ui(()=>Y(_t).value)))??""),Je(Nt,1,`option ${q()??""}`,"svelte-13oh5yk"),Wt(Nt,"for",(Y(_t),ui(()=>`${G}-${Y(_t).slug}`))),Be(qt,(Y(_t),ui(()=>Y(_t).label||Y(_t).value)))}),Hl(_,[],k,()=>(Y(_t),ui(()=>Y(_t).value),j()),j),Dt(ht,pt)}),xt(vt),xt(st),xt(V),pe(ht=>{Wt(st,"id",`group-${G}`),nt=Je(st,1,"group svelte-13oh5yk",null,nt,ht),Wt(st,"aria-labelledby",`label-${G}`)},[()=>({"is-top":Y(d)})]),Dt(r,V),ni()}var qd=fe('<span class="tick svelte-lgbsy4"> </span>'),Hd=fe('<div class="range svelte-lgbsy4"><div class="ticks svelte-lgbsy4"></div> <input type="range" class="svelte-lgbsy4"/></div>');function Or(r,a){ii(a,!1);const o=xi(),d=xi();let _=Kt(a,"min",8,0),p=Kt(a,"max",8,100),N=Kt(a,"step",8,1),z=Kt(a,"showTicks",8,!1),q=Kt(a,"value",28,_),D=Kt(a,"label",8,"");const j=st=>Math.floor(st)===st?0:st.toString().split(".")[1].length||0;sn(()=>di(N()),()=>{Le(o,j(N()))}),sn(()=>(di(z()),di(_()),di(p()),di(N())),()=>{Le(d,z()?uh(_(),p()+N(),N()):[])}),ta(),Si();var G=Hd(),$=kt(G);je($,5,()=>Y(d),Ze,(st,nt)=>{var ut=qd(),ot=kt(ut,!0);xt(ut),pe(vt=>Be(ot,vt),[()=>(di(An),Y(o),Y(nt),ui(()=>An(`.${Y(o)}f`)(Y(nt))))]),Dt(st,ut)}),xt($);var V=Bt($,2);ia(V),xt(G),pe(()=>{Wt(V,"aria-label",D()),Wt(V,"min",_()),Wt(V,"max",p()),Wt(V,"step",N())}),Iu(V,q),Dt(r,G),ni()}var Ud=fe('<span class="svelte-157h5as"> </span> <span class="svelte-157h5as"> </span>',1),Wd=fe('<div><span class="label svelte-157h5as"> </span> <button role="switch" class="svelte-157h5as"><!></button></div>');function Gd(r,a){ii(a,!1);let o=Kt(a,"label",8),d=Kt(a,"style",8,"inner"),_=Kt(a,"options",24,()=>["on","off"]),p=Kt(a,"value",28,()=>_()[0]),N=xi(p()===_()[0]);const z=`toggle-${Math.floor(Math.random()*1e6)}`,q=nt=>{const ot=nt.target.getAttribute("aria-checked");Le(N,ot!=="true"),p(Y(N)?_()[0]:_()[1])};Si();var D=Wd(),j=kt(D),G=kt(j,!0);xt(j);var $=Bt(j,2),V=kt($);{var st=nt=>{var ut=Ud(),ot=Ge(ut),vt=kt(ot,!0);xt(ot);var ht=Bt(ot,2),_t=kt(ht,!0);xt(ht),pe(()=>{Be(vt,(di(_()),ui(()=>_()[0]))),Be(_t,(di(_()),ui(()=>_()[1])))}),Dt(nt,ut)};Oe(V,nt=>{d()==="inner"&&nt(st)})}xt($),xt(D),pe(()=>{Je(D,1,`toggle toggle--${d()??""}`,"svelte-157h5as"),Wt(j,"id",z),Be(G,o()),Wt($,"aria-checked",Y(N)),Wt($,"aria-labelledby",z)}),Ns("click",$,q),Dt(r,D),ni()}var Zd=fe('<div class="controls top svelte-1qwqmo2"><div><!></div> <div><div class="std-dev-rating svelte-1qwqmo2"><span> </span></div></div> <div><div class="standard-deviation-info svelte-1qwqmo2"><span class="svelte-1qwqmo2">std dev:</span> <span class="svelte-1qwqmo2"> </span> <div class="svelte-1qwqmo2"></div></div></div></div>'),jd=fe('<div class="control-unit svelte-1qwqmo2"><span class="label svelte-1qwqmo2">Layers</span> <!> <span class="output svelte-1qwqmo2"> </span></div>'),Xd=fe('<div class="control-unit svelte-1qwqmo2"><span class="label svelte-1qwqmo2">Cuts (horiz.)</span> <!> <span class="output svelte-1qwqmo2"> </span></div>'),Kd=fe('<div class="control-unit svelte-1qwqmo2"><!></div>'),Yd=fe('<div><div class="control-unit svelte-1qwqmo2"><span class="label svelte-1qwqmo2">target height</span> <!> <span class="output svelte-1qwqmo2"> </span></div></div>'),Qd=fe('<div class="controls bottom svelte-1qwqmo2"><div class="left svelte-1qwqmo2"><!> <div class="control-unit svelte-1qwqmo2"><span class="label svelte-1qwqmo2">Cuts (vertical)</span> <!> <span class="output svelte-1qwqmo2"> </span></div> <!></div> <div class="right svelte-1qwqmo2"><!> <!></div></div>'),Jd=Qi('<clipPath id="layer-mask" class="svelte-1qwqmo2"><rect class="svelte-1qwqmo2"></rect></clipPath><circle r="10" cx="0" class="radial-target svelte-1qwqmo2"></circle>',1),$d=fe('<figure><!> <!> <svg class="svelte-1qwqmo2"><!><!><!><!><!></svg></figure>');function tp(r,a){vl(),ii(a,!0);const[o,d]=fr(),_=()=>Mi(Lt,"$onionStore",o);let p=Kt(a,"showCuts",3,!0),N=Kt(a,"highlightExtremes",3,!1),z=Kt(a,"showControls",3,!0),q=Kt(a,"controlLayers",3,!1),D=Kt(a,"controlCutType",3,!1),j=Kt(a,"controlRadialDepth",3,!1),G=Kt(a,"controlHorizontalCuts",3,!1),$=Kt(a,"cutType",15,"vertical"),V=Kt(a,"cutTargetDepthPercentage",15,0),st=Kt(a,"toggleExplode",3,!1),nt=Kt(a,"showStandardDeviation",3,!1),ut=Kt(a,"showRadialTarget",3,!1);const ot=600;Ei("width",ot);const vt=ot/2,ht=vt*.8,_t=un().domain([0,vt]).range([vt,0]),pt=[{value:"vertical"},{value:"radial"}];let k=rn(10),wt=rn(ys(su)),Nt=rn(ys(au)),qt=rn("off");gn.setup(new gn.Size(1,1)),gn.view.autoUpdate=!1;const Lt=mn(new lu({radius:ht,numLayers:Y(k),numCuts:Y(wt),cutType:$(),cutTargetDepthPercentage:V(),numHorizontalCuts:Y(Nt)}));Ei("onionStore",Lt),_n(()=>{yn(Lt,new lu({radius:ht,numLayers:Y(k),numCuts:Y(wt),cutType:$(),cutTargetDepthPercentage:V(),numHorizontalCuts:Y(Nt)}))});let yt=de(()=>_().cutTargetDepth);const It=mn([]);Ei("layerPathStore",It),_n(()=>{yn(It,_().layerRadii.map(Gt=>{const{layerThickness:Qt}=_(),Zt=Gt-Qt,_e=[`M ${Gt} ${vt}`,`A ${Gt} ${Gt} 0 0 0 ${-Gt} ${vt}`,`H ${-Zt}`,`A ${Zt} ${Zt} 0 0 1 ${Zt} ${vt}`,"z"].join(" ");return new gn.Path(_e)}))});const Ht=mn([]);Ei("cutPathStore",Ht),_n(()=>{yn(Ht,_().cutNumbers.map((Gt,Qt,Zt)=>{let _e;if($()==="vertical"){const{cutThickness:be}=_();_e=[`M ${_().cutWidthScale(Gt)} ${vt}`,"V 0",`h ${be}`,`V ${vt}`,"z"].join(" ")}if($()==="radial"){const be=Zt.length-Gt,Ae=_().cutAngleScale(be),qe=_().cutAngleScale(be-1),[Xe,we]=js(ht,Ae),[Ke,ae]=js(ht,qe);_e=[`M 0 ${_t(-Y(yt))}`,`L ${Xe*2} ${_t(we*2+Y(yt))}`,`L ${Ke*2} ${_t(ae*2+Y(yt))}`,"z"].join(" ")}return new gn.Path(_e)}))});const At=mn([]);Ei("horizontalCutPathStore",At),_n(()=>{yn(At,[..._().horizontalCutNumbers.length?[new gn.Path([`M 0 ${_t(ht)}`,`V ${_t(_().horizontalCutScale(_().horizontalCutNumbers.length-1)*ht)}`,`H ${ht}`,`V ${_t(ht)}`,"z"].join(" "))]:[],..._().horizontalCutNumbers.map(Gt=>{const Qt=_().horizontalCutScale(Gt)*ht,Zt=_t(Qt),_e=_t(_().horizontalCutScale(Gt-1)*ht),be=[`M 0 ${_e}`,`V ${Zt}`,`H ${ht}`,`V ${_e}`,"z"].join(" ");return new gn.Path(be)})].reverse())});const oe=mn(Y(qt)==="on");Ei("explodeStore",oe),_n(()=>{yn(oe,Y(qt)==="on")});let ft=rn(ys(new Gs(vt)));const se=oi("rsdBuckets");let xe=de(()=>_().standardDeviation<se.q1?"excellent uniformity":_().standardDeviation<se.median?"good uniformity":_().standardDeviation<se.q3?"fair uniformity":"poor uniformity");var Pt=$d();let Vt;var Ft=kt(Pt);{var ge=Gt=>{var Qt=Zd(),Zt=kt(Qt);let _e;var be=kt(Zt);Gd(be,{label:"explode",style:"slider",get value(){return Y(qt)},set value(n){Le(qt,n,!0)}}),xt(Zt);var Ae=Bt(Zt,2);let qe;var Xe=kt(Ae),we=kt(Xe),Ke=kt(we,!0);xt(we),xt(Xe),xt(Ae);var ae=Bt(Ae,2);let ci;var Jt=kt(ae),t=Bt(kt(Jt),2),e=kt(t);xt(t),Jn(2),xt(Jt),xt(ae),xt(Qt),pe((n,s,u,h)=>{_e=Je(Zt,1,"showhide svelte-1qwqmo2",null,_e,n),qe=Je(Ae,1,"showhide svelte-1qwqmo2",null,qe,s),Je(we,1,`rating ${u??""}`,"svelte-1qwqmo2"),Be(Ke,Y(xe)),ci=Je(ae,1,"showhide svelte-1qwqmo2",null,ci,h),Be(e,`${_().standardDeviationString??""}%`)},[()=>({visible:st()}),()=>({visible:nt()}),()=>Y(xe).replace(/ /g,""),()=>({visible:nt()})]),Dt(Gt,Qt)};Oe(Ft,Gt=>{(st()||nt())&&Gt(ge)})}var Ut=Bt(Ft,2);{var Se=Gt=>{var Qt=Qd(),Zt=kt(Qt),_e=kt(Zt);{var be=s=>{var u=jd(),h=Bt(kt(u),2);Or(h,{get min(){return Zs},get max(){return _o},label:"number of layers",get value(){return Y(k)},set value(g){Le(k,g,!0)}});var c=Bt(h,2),f=kt(c,!0);xt(c),xt(u),pe(()=>Be(f,Y(k))),Dt(s,u)};Oe(_e,s=>{q()&&s(be)})}var Ae=Bt(_e,2),qe=Bt(kt(Ae),2);Or(qe,{get min(){return yd},get max(){return su},label:"number of cuts",get value(){return Y(wt)},set value(s){Le(wt,s,!0)}});var Xe=Bt(qe,2),we=kt(Xe,!0);xt(Xe),xt(Ae);var Ke=Bt(Ae,2);{var ae=s=>{var u=Xd(),h=Bt(kt(u),2);Or(h,{get min(){return au},get max(){return xd},label:"horizontal cuts",get value(){return Y(Nt)},set value(g){Le(Nt,g,!0)}});var c=Bt(h,2),f=kt(c,!0);xt(c),xt(u),pe(()=>Be(f,Y(Nt))),Dt(s,u)};Oe(Ke,s=>{G()&&s(ae)})}xt(Zt);var ci=Bt(Zt,2),Jt=kt(ci);{var t=s=>{var u=Kd(),h=kt(u);Fd(h,{legend:"cut type",get options(){return pt},get value(){return $()},set value(c){$(c)}}),xt(u),Dt(s,u)};Oe(Jt,s=>{D()&&s(t)})}var e=Bt(Jt,2);{var n=s=>{var u=Yd();let h;var c=kt(u),f=Bt(kt(c),2);Or(f,{min:0,max:1,step:.01,label:"cut target depth percentage",get value(){return V()},set value(b){V(b)}});var g=Bt(f,2),v=kt(g,!0);xt(g),xt(c),xt(u),pe((b,S)=>{h=Je(u,1,"svelte-1qwqmo2",null,h,b),Be(v,S)},[()=>({hidden:!($()==="radial"&&j())}),()=>mo(-V())]),Dt(s,u)};Oe(e,s=>{D()&&s(n)})}xt(ci),xt(Qt),pe(()=>Be(we,Y(wt))),Dt(Gt,Qt)};Oe(Ut,Gt=>{z()&&Gt(Se)})}var he=Bt(Ut,2),Fe=kt(he);Ad(Fe,{width:ot,height:vt,isBottom:!0,get isHalfWidth(){return ut()}});var Te=Bt(Fe);Ed(Te,{height:vt});var Pe=Bt(Te);{var ee=Gt=>{Od(Gt,{width:ot,height:vt,get yScale(){return _t}})};Oe(Pe,Gt=>{p()&&Gt(ee)})}var ve=Bt(Pe);{var Yt=Gt=>{var Qt=Jd(),Zt=Ge(Qt),_e=kt(Zt);Wt(_e,"width",ot),Wt(_e,"height",vt),Wt(_e,"x",-ot/2),xt(Zt);var be=Bt(Zt);pe(Ae=>Wt(be,"cy",Ae),[()=>_t(-Y(yt))]),Dt(Gt,Qt)};Oe(ve,Gt=>{ut()&&Gt(Yt)})}var Re=Bt(ve);Il(Re,_,Gt=>{zd(Gt,{get yScale(){return _t},get highlightExtremes(){return N()},get showRadialTarget(){return ut()},get viewBoxHeight(){return Y(ft)},set viewBoxHeight(Qt){Le(ft,Qt,!0)}})}),xt(he),xt(Pt),pe(Gt=>{Vt=Je(Pt,1,"svelte-1qwqmo2",null,Vt,Gt),Wt(he,"viewBox",`-300 0 600 ${Y(ft).current??""}`)},[()=>({explode:Y(qt)==="on"})]),Dt(r,Pt),ni(),d()}var ep=fe('<label class="svelte-1eje3uw"> </label>'),ip=fe("<option> </option>"),np=fe('<div class="select svelte-1eje3uw"><!> <select class="svelte-1eje3uw"></select></div>');function rp(r,a){ii(a,!1);let o=Kt(a,"options",24,()=>[]),d=Kt(a,"label",8,""),_=Kt(a,"disabled",8,!1),p=Kt(a,"value",28,()=>o().length?o()[0].value:"");const N=`select-${Math.floor(Math.random()*1e6)}`;Si();var z=np(),q=kt(z);{var D=G=>{var $=ep(),V=kt($,!0);xt($),pe(()=>{Wt($,"for",N),Be(V,d())}),Dt(G,$)};Oe(q,G=>{d()&&G(D)})}var j=Bt(q,2);pe(()=>{p(),_l(()=>{_(),o()})}),je(j,5,o,Ze,(G,$)=>{var V=ip(),st=kt(V,!0);xt(V);var nt={};pe(()=>{Be(st,(Y($),ui(()=>Y($).label||Y($).value))),nt!==(nt=(Y($),ui(()=>Y($).label||Y($).value)))&&(V.value=(V.__value=(Y($),ui(()=>Y($).label||Y($).value)))??"")}),Dt(G,V)}),xt(j),xt(z),pe(()=>{Wt(j,"id",N),j.disabled=_()}),Rl(j,p),Dt(r,z),ni()}var sp=fe('<button class="svelte-xkm3pq"> </button>'),ap=fe("<th><!></th>"),up=fe('<tr class="svelte-xkm3pq"><th class="svelte-xkm3pq"><input type="text" class="svelte-xkm3pq"/></th></tr>'),op=fe("<td><!></td>"),lp=fe("<tr></tr>"),hp=fe('<table><caption class="svelte-xkm3pq"> </caption><thead class="svelte-xkm3pq"><tr class="svelte-xkm3pq"></tr><!></thead><tbody class="svelte-xkm3pq"></tbody></table>');function cp(r,a){ii(a,!1);const o=xi(),d=xi(),_=xi();let p=Kt(a,"caption",8,""),N=Kt(a,"rows",24,()=>[]),z=Kt(a,"columns",24,()=>[]),q=Kt(a,"scrollable",8,!1),D=Kt(a,"mobile",8,!1),j=Kt(a,"filter",8,void 0);const G=kl(),$={asc:(Lt,yt)=>Lt==null||yt==null?NaN:Lt<yt?-1:Lt>yt?1:Lt>=yt?0:NaN,desc:(Lt,yt)=>Lt==null||yt==null?NaN:yt<Lt?-1:yt>Lt?1:yt>=Lt?0:NaN},V=({prop:Lt,i:yt,same:It})=>{const Ht=Y(o)[yt].dir,At=It?Ht:Ht==="asc"?"desc":"asc",oe=Y(o)[yt].sortFn;Y(o).forEach(ft=>ft.dir=void 0),Ea(o,Y(o)[yt].dir=At),Le(o,[...Y(o)]),Y(d).sort((ft,se)=>oe?oe(ft,se,$[At]):$[At](ft[Lt],se[Lt])),Le(d,[...Y(d)]),Y(nt)&&Ea(nt,Y(nt).scrollTop=0)},st=()=>{const Lt=Y(o).find(yt=>yt.dir);if(Lt){const{prop:yt,i:It}=Lt;V({prop:yt,i:It,same:!0})}};let nt=xi(),ut=xi();sn(()=>di(z()),()=>{Le(o,z().map((Lt,yt)=>({sort:!0,type:"text",...Lt,i:yt})))}),sn(()=>(di(N()),di(j()),Y(ut)),()=>{Le(d,N().map(Lt=>({...Lt,style:Lt.style||"",class:Lt.class||""})).filter(Lt=>{var Ht;if(!j()||!Y(ut))return!0;const yt=(Ht=Lt[j()])==null?void 0:Ht.toLowerCase(),It=Y(ut).toLowerCase();return yt.includes(It)}))}),sn(()=>Y(d),()=>{st(Y(d))}),sn(()=>(di(j()),Y(o)),()=>{Le(_,j()?Y(o).find(Lt=>Lt.prop===j()).label:"")}),ta(),Si();var ot=hp();let vt;var ht=kt(ot),_t=kt(ht,!0);xt(ht);var pt=Bt(ht),k=kt(pt);je(k,5,()=>Y(o),Ze,(Lt,yt,It)=>{let Ht=()=>Y(yt).label,At=()=>Y(yt).prop,oe=()=>Y(yt).type,ft=()=>Y(yt).sort,se=()=>Y(yt).dir;var xe=ap();let Pt;var Vt=kt(xe);{var Ft=Ut=>{var Se=sp(),he=kt(Se,!0);xt(Se),pe(()=>Be(he,Ht())),Ns("click",Se,()=>V({prop:At(),i:It})),Dt(Ut,Se)},ge=Ut=>{var Se=ml();pe(()=>Be(Se,Ht())),Dt(Ut,Se)};Oe(Vt,Ut=>{ft()?Ut(Ft):Ut(ge,!1)})}xt(xe),pe(Ut=>Pt=Je(xe,1,"svelte-xkm3pq",null,Pt,Ut),[()=>({"is-sortable":ft(),"is-number":oe()==="number","is-asc":se()==="asc","is-desc":se()==="desc"})]),Dt(Lt,xe)}),xt(k);var wt=Bt(k);{var Nt=Lt=>{var yt=up(),It=kt(yt),Ht=kt(It);ia(Ht),xt(It),xt(yt),pe(()=>Wt(Ht,"placeholder",`Filter ${Y(_)??""}...`)),Iu(Ht,()=>Y(ut),At=>Le(ut,At)),Dt(Lt,yt)};Oe(wt,Lt=>{j()&&Lt(Nt)})}xt(pt);var qt=Bt(pt);je(qt,5,()=>Y(d),Ze,(Lt,yt)=>{var It=lp();je(It,5,z,Ze,(Ht,At)=>{let oe=()=>Y(At).label,ft=()=>Y(At).prop,se=()=>Y(At).type,xe=Cn(()=>yl(Y(At).formatFn,Ut=>Ut));var Pt=op();const Vt=Cn(()=>(Y(xe),Y(yt),ft(),ui(()=>Y(xe)(Y(yt)[ft()]))));let Ft;var ge=kt(Pt);Li(ge,()=>Y(Vt)),xt(Pt),pe(Ut=>{Wt(Pt,"data-th",oe()),Ft=Je(Pt,1,"svelte-xkm3pq",null,Ft,Ut)},[()=>({"is-number":se()==="number"})]),Dt(Ht,Pt)}),xt(It),pe(()=>{Su(It,(Y(yt),ui(()=>Y(yt).style))),Je(It,1,dr((Y(yt),ui(()=>Y(yt).class))),"svelte-xkm3pq")}),Ns("click",It,()=>G("chart",Y(yt))),Dt(Lt,It)}),xt(qt),xl(qt,Lt=>Le(nt,Lt),()=>Y(nt)),xt(ot),pe(Lt=>{vt=Je(ot,1,"svelte-xkm3pq",null,vt,Lt),Be(_t,p())},[()=>({scrollable:q(),mobile:D(),filter:!!j()})]),Dt(r,ot),ni()}const fp=new Intl.PluralRules("en-US"),dp=new Map([["one",""],["other","s"]]);function pp(r,a){const o=fp.select(a),d=dp.get(o);return`${r}${d}`}const gp=[["7l:1c:v:2h",47.25],["7l:2c:r:48%d:0h",48.156],["7l:3c:r:49%d:0h",43.65],["7l:4c:r:63%d:0h",38.723],["7l:5c:r:94%d:0h",35.094],["7l:6c:r:49%d:0h",38.507],["7l:7c:v:0h",31.795],["7l:8c:r:63%d:0h",34.666],["7l:9c:r:68%d:0h",37.064],["7l:10c:r:82%d:0h",35.138],["8l:1c:v:1h",43.441],["8l:2c:v:0h",43.441],["8l:3c:r:87%d:0h",42.595],["8l:4c:v:0h",35.593],["8l:5c:r:65%d:0h",35.891],["8l:6c:r:91%d:0h",31.271],["8l:7c:r:58%d:0h",36.715],["8l:8c:r:84%d:0h",32.178],["8l:9c:r:69%d:0h",33.147],["8l:10c:r:65%d:0h",33.435],["9l:1c:v:2h",38.072],["9l:2c:r:64%d:0h",47.521],["9l:3c:v:0h",38.072],["9l:4c:r:64%d:0h",39.534],["9l:5c:r:73%d:0h",35.747],["9l:6c:r:73%d:0h",35.227],["9l:7c:r:98%d:0h",30.659],["9l:8c:r:64%d:0h",34.496],["9l:9c:r:90%d:0h",30.555],["9l:10c:r:76%d:0h",32.44],["10l:1c:v:1h",43.514],["10l:2c:v:0h",43.514],["10l:3c:r:69%d:0h",41.633],["10l:4c:r:53%d:0h",40.97],["10l:5c:r:96%d:0h",35.429],["10l:6c:r:69%d:0h",33.192],["10l:7c:r:87%d:0h",33.165],["10l:8c:r:53%d:0h",34.227],["10l:9c:r:76%d:0h",32.499],["10l:10c:r:96%d:0h",29.482],["11l:1c:v:2h",44.736],["11l:2c:r:75%d:0h",46.969],["11l:3c:r:56%d:0h",42.053],["11l:4c:r:85%d:0h",36.121],["11l:5c:r:76%d:0h",36.611],["11l:6c:r:86%d:0h",34.753],["11l:7c:r:68%d:0h",30.995],["11l:8c:r:86%d:0h",30.641],["11l:9c:r:59%d:0h",33.237],["11l:10c:r:76%d:0h",29.302],["12l:1c:v:2h",38.618],["12l:2c:v:0h",43.511],["12l:3c:v:0h",38.618],["12l:4c:v:0h",37.271],["12l:5c:r:73%d:0h",37.497],["12l:6c:r:69%d:0h",35.566],["12l:7c:r:80%d:0h",33.227],["12l:8c:r:74%d:0h",31.383],["12l:9c:r:96%d:0h",29.314],["12l:10c:r:64%d:0h",32.133],["13l:1c:v:2h",44.138],["13l:2c:r:85%d:0h",46.825],["13l:3c:r:83%d:0h",40.652],["13l:4c:r:85%d:0h",37.838],["13l:5c:r:95%d:0h",34.827],["13l:6c:r:85%d:0h",34.134],["13l:7c:r:94%d:0h",33.019],["13l:8c:r:77%d:0h",31.681],["13l:9c:r:83%d:0h",30.478],["13l:10c:r:96%d:0h",27.725]];var vp=fe('<div class="c svelte-1a2buk1"><!></div> <!>',1);function _p(r,a){ii(a,!0);const o=36,d=4,_=o/2,p=_-d,N=d/2;let z=rn(10);const q=Array.from({length:_o-Zs+1}).map((ut,ot)=>({value:Zs+ot})),D=[{label:"Cuts",prop:"numCuts",sort:!0,type:"number"},{label:"Method",prop:"cuttingDiagram",sort:!1,type:"string"},{label:"Standard Deviation",prop:"standardDeviation",sort:!0,type:"number"}];let j=de(()=>gp.filter(([ut])=>ut.startsWith(Y(z))).map(([ut,ot],vt)=>({numCuts:vt+1,storageKey:ut,standardDeviation:An(".1f")(ot)+"%"}))),G=de(()=>Y(j).map(ut=>{const{numCuts:ot,storageKey:vt}=ut,ht={v:"vertical",r:"radial"},_t=vt[vt.indexOf("c")+2],pt=+vt.substring(vt.indexOf(_t)+2,vt.indexOf("%")),k=+vt[vt.indexOf("h")-1],wt=un().domain([0,k]).range([1/(k+1),1]),Nt=_t==="r",qt=[`${ht[_t]}`,...Nt?[`${pt}%${uu}depth`]:[],...k?[`${k} horizontal${uu}${pp("cut",k)}`]:[]].join(", ");return ut.cuttingDiagram=`<svg viewBox="${-_} ${-_} ${o} ${o}" width="${o}" style="min-width: ${o}">
			<style>
				rect {
					fill: rgba(239, 239, 239, 1);
				}

				.cut {
					stroke-dasharray: 2;
				}</style>

			<title>${qt}</title>

			<rect x="${-_}" y="${-_}" width="${o}" height="${o}" />

			${Nt?`
							<!-- TODO is showing cutting board + vertical cut helpful? -->
							<!-- <line x1="${-p}" y1="${-p}" x2="${p}" y2="${-p}" />
							<line x1="0" y1="${-p}" x2="0" y2="${N}" class="cut" /> -->
							<line x1="${p}" y1="${-p}" x2="0" y2="${N}" class="cut" />

							<circle r="1.5" cy="${N}" />

							<text y=${p} text-anchor="middle" font-size="10">
								${pt}%
							</text>
						`:`<line x1="0" y1="${-p}" x2="0" y2="${p}" class="cut" />`}

			${k?Array.from({length:k}).map((Lt,yt)=>{const It=-p+wt(yt)*2*p;return`<line x1="${-p}" y1="${It}" x2="${p}" y2="${It}" class="cut" />`}):""}
		</svg>`,ut.cuttingDiagram+=qt,ut}));var $=vp(),V=Ge($),st=kt(V);rp(st,{label:"number of layers",get options(){return q},get value(){return Y(z)},set value(ut){Le(z,ut,!0)}}),xt(V);var nt=Bt(V,2);cp(nt,{get rows(){return Y(G)},get columns(){return D}}),Dt(r,$),ni()}var mp=fe("<img/>"),yp=fe("<li><!></li>"),xp=fe("<ul></ul>"),wp=fe("<p><!></p>"),bp=fe('<div class="title svelte-b5027a"><h1 class="svelte-b5027a"> </h1> <p class="authors svelte-b5027a"><span>By <!></span> <span>with <!></span></p></div> <!>',1);function Cp(r,a){ii(a,!1);const o=oi("copy");Si();var d=bp(),_=Ge(d),p=kt(_),N=kt(p,!0);xt(p);var z=Bt(p,2),q=kt(z),D=Bt(kt(q));Li(D,()=>o.author1),xt(q);var j=Bt(q,2),G=Bt(kt(j));Li(G,()=>o.author2),xt(j),xt(z),xt(_);var $=Bt(_,2);je($,1,()=>o.story,Ze,(V,st)=>{let nt=()=>Y(st).type,ut=()=>Y(st).value;var ot=wi(),vt=Ge(ot);{var ht=pt=>{{let k=Cn(()=>hd(ut()));tp(pt,wl(()=>Y(k)))}},_t=pt=>{var k=wi(),wt=Ge(k);{var Nt=Lt=>{_p(Lt,{})},qt=Lt=>{var yt=wi(),It=Ge(yt);{var Ht=oe=>{var ft=mp();const se=Cn(()=>{const{src:xe,alt:Pt}=ut();return{src:xe,alt:Pt}});pe(()=>{Wt(ft,"src",Y(se).src),Wt(ft,"alt",Y(se).alt)}),Dt(oe,ft)},At=oe=>{var ft=wi(),se=Ge(ft);{var xe=Vt=>{var Ft=xp();je(Ft,5,ut,Ze,(ge,Ut)=>{var Se=yp(),he=kt(Se);Li(he,()=>Y(Ut)),xt(Se),Dt(ge,Se)}),xt(Ft),Dt(Vt,Ft)},Pt=Vt=>{var Ft=wp(),ge=kt(Ft);Li(ge,ut),xt(Ft),pe(()=>Je(Ft,1,dr(nt()),"svelte-b5027a")),Dt(Vt,Ft)};Oe(se,Vt=>{nt()==="list"?Vt(xe):Vt(Pt,!1)},!0)}Dt(oe,ft)};Oe(It,oe=>{nt()==="image"?oe(Ht):oe(At,!1)},!0)}Dt(Lt,yt)};Oe(wt,Lt=>{nt()==="Report"?Lt(Nt):Lt(qt,!1)},!0)}Dt(pt,k)};Oe(vt,pt=>{nt()==="Component"?pt(ht):pt(_t,!1)})}Dt(V,ot)}),pe(()=>Be(N,o.hed)),Dt(r,d),ni()}var Sp=fe('<b class="speaker svelte-1z07clo"> </b>'),kp=fe("<p><!> <!></p>"),Ap=fe('<section class="conclusion"></section>');function Ip(r,a){ii(a,!1);const o=oi("copy");Si();var d=Ap();je(d,5,()=>o.conclusion,Ze,(_,p)=>{let N=()=>Y(p).type,z=()=>Y(p).value;var q=wi();const D=Cn(()=>["us","kenji"].includes(N())),j=Cn(()=>Y(D)?"blockquote":"svelte:fragment");var G=Ge(q);Tl(G,()=>Y(j),!1,($,V)=>{Je($,0,"svelte-1z07clo");var st=kp(),nt=kt(st);{var ut=vt=>{var ht=Sp(),_t=kt(ht);xt(ht),pe(()=>Be(_t,`${N()??""}:`)),Dt(vt,ht)};Oe(nt,vt=>{Y(D)&&vt(ut)})}var ot=Bt(nt,2);Li(ot,z),xt(st),pe(()=>Je(st,1,dr(N()),"svelte-1z07clo")),Dt(V,st)}),Dt(_,q)}),xt(d),Dt(r,d),ni()}var Pp=fe("<p><!></p>"),Ep=fe('<section class="appendix"></section>');function Tp(r,a){ii(a,!1);const o=oi("copy");Si();var d=Ep();je(d,5,()=>o.appendix,Ze,(_,p)=>{let N=()=>Y(p).type,z=()=>Y(p).value;var q=Pp(),D=kt(q);Li(D,z),xt(q),pe(()=>Je(q,1,dr(N()))),Dt(_,q)}),xt(d),Dt(r,d),ni()}const Mp=`<svg width="440" height="154" viewBox="0 0 440 154" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_dddd_2683_3457)">
<path d="M419.179 89.0732C418.309 77.0032 421.719 64.3932 416.939 52.6432C412.389 41.9632 399.909 28.5632 387.839 28.1532C378.829 27.7132 370.779 33.2332 361.559 33.4432C357.139 33.6532 352.779 32.8232 348.399 32.3832C344.679 31.9832 340.849 32.2432 337.209 31.3232C331.729 30.0832 327.949 25.7432 322.859 23.0932C315.649 19.2732 307.089 19.7632 299.189 20.5432C293.389 21.0932 287.859 21.4032 282.359 23.3732C277.759 25.0132 272.959 25.8132 268.199 24.2632C259.289 20.7232 248.499 20.5132 240.439 26.0232C237.709 27.8032 235.119 29.9832 232.109 31.2132C227.209 33.3532 221.799 32.3032 216.459 32.2332C210.839 32.0232 205.109 32.3832 199.569 31.2532C193.299 30.0132 187.709 26.5632 181.289 24.9932C169.189 21.9032 155.349 22.3932 144.789 29.4432C139.769 32.3932 134.009 32.0032 128.409 31.8632C123.249 31.8332 118.039 33.5332 113.049 33.4932C106.969 33.6832 102.089 29.6032 97.2191 26.4732C86.0291 18.5732 72.0991 22.2832 59.4291 22.9732C41.8091 23.0932 24.5191 22.7332 20.4491 44.2332C19.3591 50.8132 20.2891 57.8632 22.8491 64.0232C24.3491 67.6432 26.2091 71.1232 26.9191 75.0032C28.0491 81.1832 27.0891 87.7732 29.1791 93.8332C31.6491 101.553 36.8191 107.893 42.9991 112.833C49.0291 117.583 56.3591 119.563 63.7791 119.473C78.0891 118.903 92.4891 119.863 106.709 119.573C111.869 119.413 116.989 118.473 122.149 118.413C127.749 118.273 133.279 119.563 138.859 119.753C145.269 120.003 151.679 118.383 158.059 118.593C164.949 118.803 171.959 120.153 178.789 118.553C184.579 117.243 188.909 114.113 194.469 115.383C198.809 116.353 203.729 119.103 208.589 119.393C214.759 120.033 221.149 119.333 227.449 119.303C234.359 119.143 241.309 119.433 247.819 119.423C275.509 119.173 303.199 119.443 330.779 119.633C337.989 119.943 345.659 118.653 352.509 121.313C356.169 122.743 359.139 125.583 362.979 127.913C382.949 140.433 414.489 131.633 419.329 106.933C420.619 101.123 419.699 95.1232 419.199 89.2832V89.0932L419.179 89.0732Z" fill="url(#paint0_radial_2683_3457)"/>
</g>
<path d="M370.342 92.5569C367.57 93.1791 369.701 94.9515 371.662 95.1024C373.246 95.4229 375.773 95.6681 377.13 95.6115H377.375C379.11 95.6492 385.653 95.4418 383.239 92.2363C379.28 90.5582 374.528 92.4437 370.342 92.5569Z" fill="black"/>
<path d="M407.261 91.6519L407.185 91.256C405.715 85.5238 407.808 79.7351 407.883 73.9464C407.676 67.9315 408.713 61.2943 406.111 55.713C404.432 52.4698 401.698 49.9431 399.266 47.2656C395.155 42.1934 389.178 37.1589 382.296 40.025C375.602 43.0042 368.493 44.7955 361.234 46.0023C357.35 46.4737 353.673 44.9841 349.958 44.079C343.811 42.4197 337.193 44.9652 331.103 43.551C327.595 42.7779 325.276 40.025 322.957 37.4983C316.98 30.0315 309.117 30.8234 300.651 32.4073C289.262 33.2935 284.944 31.6531 276.911 40.7981C272.499 44.8332 268.935 39.0445 265.805 36.3859C260.073 31.6908 250.249 31.7285 244.668 36.5933C239.52 42.3066 236.447 46.6811 227.886 44.7578C217.063 42.8722 205.882 44.8521 195.077 43.0231C191.061 42.0991 187.686 39.5913 183.99 37.9132C176.146 34.4626 160.402 32.8787 153.01 37.7058C149.918 39.761 148.428 44.343 145.053 45.2669C142.432 46.04 139.566 44.8521 136.964 44.2487C131.345 42.7025 125.179 42.8722 119.711 44.7766C116.43 45.8891 113.017 47.2279 109.51 46.436C104.325 45.0783 99.1396 42.8722 95.1987 39.1954C91.8047 35.6693 87.5056 33.0673 82.49 32.9353C75.3437 32.4639 67.4054 34.9528 60.1459 34.9717C55.0172 34.9717 49.3982 34.6134 44.3449 35.0848C32.0698 35.6316 30.4105 44.211 31.6738 54.4873C31.8247 59.7858 35.6147 63.293 37.9339 67.6863C41.4976 75.4549 36.7271 85.3353 40.6491 93.1038C43.0815 97.5161 46.9658 101.118 50.5107 104.606C54.2064 107.849 59.3917 108.188 64.1056 108.132C78.8885 106.793 93.6337 108.603 108.454 108.094C115.299 108.038 122.03 104.813 128.837 106.812C134.664 108.302 140.811 109.169 146.675 107.906C149.579 107.378 152.482 106.473 155.443 106.341C163.702 106.642 172.526 110.206 180.464 106.397C185.386 104.776 186.743 95.1403 192.815 97.8932C194.191 98.6097 195.266 99.8542 196.341 100.967C200.112 105.322 205.26 108.603 211.124 108.339C222.494 107.698 233.769 107.302 245.177 107.981C252.059 108.038 258.961 107.264 265.899 107.887C293.976 107.396 322.146 108.358 350.298 108C352.221 108.094 354.333 108.377 356.049 108.924C362.497 111.13 364.817 118.182 372.623 120.388C392.214 127.384 414.407 114.411 407.261 91.6519ZM68.6499 57.8059H68.6122C65.5198 58.3905 62.4086 58.7676 62.3332 62.6707C62.0881 71.1181 63.9925 79.754 63.4457 88.2391C62.9177 92.5193 57.7324 91.4257 54.5458 91.5765C50.3598 91.6142 46.1361 92.0102 46.155 87.1266C45.7402 79.358 47.3618 71.3443 47.4183 63.4438C47.4183 61.8411 47.0035 59.9932 45.6459 59.1258C44.1186 58.0699 41.8748 58.3905 40.2909 57.4665C38.1225 56.2786 38.4619 52.8658 38.443 50.1128C38.4807 48.6232 38.443 47.1525 38.6127 45.776C38.8013 42.8911 41.4976 42.1746 43.9112 42.2877C47.2298 42.2877 50.9255 42.3066 54.1498 42.2877H54.4892C58.053 42.25 62.3332 42.2123 66.2363 42.25C69.3664 42.0614 71.2708 43.9847 71.1954 47.0959C70.8371 50.4145 72.5907 56.3918 68.6499 57.8059ZM107.417 83.3177C107.681 89.3893 107.078 92.1233 100.346 91.6897C93.8788 92.1988 92.5401 90.1623 92.8795 84.2228C92.3892 81.319 94.9724 64.8203 89.9568 66.1025C84.8658 68.4971 90.5602 87.3528 86.2423 90.7846C84.7149 91.8217 82.0563 91.5011 80.1141 91.5765C77.7195 91.5765 74.9665 91.6519 73.9106 89.8607C73.3261 88.9556 73.1941 87.7111 73.1564 86.5798C73.0998 79.9614 73.2507 73.0791 73.2318 66.4984V66.159C73.3072 59.0316 73.2318 51.6967 73.5335 44.5692C73.6466 42.7968 74.3066 40.9489 76.1356 40.4587C77.6252 40.0439 79.2656 40.157 80.8118 40.1381C83.0933 40.1381 85.6954 40.0062 86.7891 41.7032C88.1655 43.9659 87.2227 46.8696 87.6753 49.3397C87.8261 50.2448 88.1467 51.0179 88.7312 51.4327C89.4477 51.9607 90.5225 51.8853 91.6916 51.5458C96.8014 49.3774 103.665 50.4522 105.739 56.2032C109.133 64.594 107.04 74.4744 107.417 83.3177ZM132.986 77.8873V77.8496C140.434 77.793 142.508 76.5297 142.149 84.1851V84.5245C142.885 92.8587 135.852 92.2365 129.705 92.0291C118.184 91.9914 108.549 82.4504 109.642 70.5713C109.171 56.9197 122.2 46.7754 135.06 51.0179C142.602 52.9035 145.713 62.5764 141.471 68.7234C139.019 72.306 134.494 73.1545 130.346 73.7956C123.709 75.4549 129.233 78.1135 132.986 77.8873ZM185.518 73.8899C183.104 76.6051 179.597 78.057 176.127 78.8866C173.657 79.4523 171.414 80.6214 170.923 83.2423C170.414 85.2787 171.036 87.5791 170.301 89.5778C168.774 92.8022 163.928 91.2748 160.986 91.6331C157.781 91.8594 154.651 91.0674 154.688 87.2586C154.481 80.4517 154.688 73.6636 154.858 66.9887V66.6493C154.952 60.0875 155.141 53.62 155.443 47.0959C155.518 45.9646 155.726 44.7012 156.348 43.815C157.083 42.7214 158.422 42.3631 159.704 42.2688C162.74 42.118 165.889 42.118 168.906 42.0991C176.146 42.0426 185.272 44.0978 187.912 51.7533C190.25 58.9184 190.741 67.9692 185.518 73.8899ZM226.208 87.1077C226.265 90.6337 223.7 91.9725 220.25 91.6708C218.081 91.7085 216.384 90.7846 215.046 89.1064C214.273 88.2956 213.443 87.6545 212.481 87.7111C210.313 87.9185 208.804 90.0681 206.919 91.0297C201.639 94.2729 194.342 91.1428 193.041 85.0902C190.42 76.0017 192.061 66.1402 192.061 56.6746C191.74 51.4516 194.568 50.8293 199.018 51.0179C202.959 50.8293 206.579 51.131 206.447 55.581C207.145 59.0316 204.298 76.6051 209.559 75.1532C211.086 74.531 211.406 72.4757 211.501 70.9672C211.67 65.9139 211.463 60.7663 211.557 55.713C211.614 54.3554 211.802 52.7526 212.915 51.8664C214.555 50.6219 217.459 51.0556 219.552 50.9802C221.702 50.9613 224.096 50.9802 225.133 52.6018C225.982 53.8462 225.982 55.5433 226.02 57.0329C226.076 61.4451 226.152 66.1967 226.152 70.2319V70.5713C226.133 76.0394 226.34 81.583 226.208 87.1077ZM262.939 87.9562C262.713 91.4068 259.149 92.0102 255.812 91.4445C254.096 91.2371 252.908 90.0492 252.135 88.5785C251.098 86.4855 248.948 86.3724 247.251 87.8242C227.999 104.983 223.229 63.5758 235.693 54.0159C237.936 52.1492 240.746 50.999 243.593 50.5465C245.799 50.1882 247.93 49.4529 248.515 47.1336C249.024 45.4743 248.703 43.4756 249.533 41.9106C250.645 39.6479 254.284 40.0062 257.037 40.025C258.15 40.0816 259.338 40.2324 260.28 40.8547C261.525 41.6843 261.864 43.287 261.996 44.7012C262.373 51.6024 262.562 59.4087 262.751 66.1402V66.4796C262.788 73.5505 263.335 80.8288 262.92 87.9562H262.939ZM296.54 91.4822V91.52C293.938 91.9536 290.638 91.7839 289.356 89.4647C288.639 88.4276 287.961 86.9569 286.584 86.8249C284.755 86.7118 283.303 88.3711 281.927 89.4081C279.909 91.1806 277.251 92.3119 274.781 91.9348C261.657 89.8229 262.732 58.5225 274.026 52.6772C275.836 51.6024 278.08 50.8859 280.286 50.5088C282.436 50.1317 284.416 49.6603 285.095 47.473C285.66 45.776 285.359 43.7019 286.094 42.0426C287.056 39.629 290.77 39.9684 293.353 39.9873C296.408 39.7987 298.614 41.6843 298.633 44.8144C299.142 51.8475 299.104 59.8612 299.444 66.7058V67.0264C299.595 73.2676 299.557 79.3957 299.651 85.6558C299.727 88.0317 299.406 91.1428 296.54 91.4822ZM309.739 38.064H310.003C312.115 37.932 315.924 38.5166 316.942 41.0998C318.563 44.6447 316.188 48.6609 312.077 48.6986C309.55 48.8683 306.684 48.8118 304.855 46.8319C301.593 43.0419 305.195 37.8755 309.739 38.064ZM318.356 87.9939C318.224 90.9731 315.32 91.6897 312.831 91.5388C309.928 91.2748 305.025 92.5382 303.479 89.7852C302.027 84.2982 303.253 78.1324 303.083 72.4757V72.1363C303.743 66.159 302.48 58.5036 304.629 52.6395C306.251 50.3014 311.002 51.1876 313.906 51.2064C316.791 51.3196 317.545 54.1856 317.545 56.6369C317.809 61.7845 317.998 66.9698 318.149 72.2117C318.281 77.4536 318.677 82.7332 318.337 87.9751H318.356V87.9939ZM355.577 86.4478C355.804 91.2371 352.598 91.8217 348.619 91.6708C344.528 91.8594 340.964 91.5388 341.058 86.9192C340.945 81.4887 341.36 76.096 340.926 70.7033C340.794 69.7228 340.493 68.6103 339.814 67.9503C338.324 66.4984 336.703 68.2709 336.439 69.8547C335.421 75.7 336.533 81.9035 336.005 87.8054C335.854 88.9179 335.421 89.9926 334.534 90.6715C332.743 92.0102 329.764 91.5954 327.539 91.6519C324.899 91.7085 322.429 91.4068 321.769 88.8425C320.751 83.4497 321.769 77.5856 321.486 72.0986V71.7592C321.599 65.9139 321.166 59.7858 321.939 54.0348C322.58 50.7916 326.841 50.7162 329.575 51.4704C331.744 51.9607 332.649 55.0719 334.93 54.9964C337.099 54.8079 338.645 52.6772 340.512 51.6967C345.037 48.8872 351.787 50.8105 353.861 55.845C357.35 65.5556 355.144 76.2468 355.577 86.4478ZM390.272 100.722C386.557 104.964 380.222 106.341 374.867 106.19H374.527C367.155 106.265 357.01 102.871 360.536 94.3483C361.177 92.2742 360.48 90.3698 359.556 88.5219C357.651 84.9205 359.971 81.3002 361.63 78.057C362.365 76.228 361.404 74.4178 360.536 72.8151C358.952 69.9679 358.104 66.8755 358.311 63.8398C358.67 54.1668 368.512 49.5471 377.224 50.3957C378.43 50.3957 379.675 50.3579 380.806 49.9431C382.824 49.3586 384.049 47.0582 385.803 46.0211C388.103 44.7955 390.988 47.5107 391.761 49.4906C392.478 51.6024 390.479 53.6388 390.555 55.6941C390.555 56.8443 391.007 58.0134 391.403 59.107C395.985 71.4198 387.726 79.5277 375.432 79.3769C374.226 79.5654 371.963 79.7917 371.906 81.2247C372.019 82.0544 373.773 82.3561 375.508 82.0732C379.581 81.4699 384.049 79.9237 388.066 81.5453C395.118 84.6565 394.665 95.6494 390.234 100.74H390.272V100.722Z" fill="black"/>
<path d="M286.133 70.3635C286.529 61.2562 277.611 61.8973 278.252 70.7406C277.667 79.5273 286.888 79.3388 286.133 70.6086V70.3635Z" fill="black"/>
<path d="M249.627 70.2317C249.4 68.365 249.306 65.7629 247.628 64.4995C246.044 63.3116 243.499 63.915 242.707 65.612C241.047 68.9306 240.519 76.9443 245.78 77.1517C249.155 77.3403 249.74 72.6263 249.627 70.4768V70.2317Z" fill="black"/>
<path d="M171.055 54.2795C168.661 54.8075 168.095 58.5975 168.189 60.5019V60.7282C168.303 62.6892 168.736 66.1963 171.301 66.498C176.995 67.4408 176.788 53.3744 171.055 54.2795Z" fill="black"/>
<path d="M376.3 68.2139H376.47C379.675 67.7613 380.014 63.236 376.941 62.2555C372.057 61.0864 371.039 68.0819 376.3 68.2139Z" fill="black"/>
<path d="M129.762 64.0659C129.498 63.4625 128.593 62.5763 127.914 62.5198C125.99 62.0861 123.52 63.1231 123.2 65.2538C123.011 66.5172 124.18 67.8182 125.387 67.7051H125.519C127.254 67.7051 130.761 66.3852 129.762 64.0659Z" fill="black"/>
<path d="M105.741 56.241C103.667 50.4522 96.8037 49.3963 91.6938 51.5647C90.5247 51.9041 89.45 51.9796 88.7334 51.4516C88.1489 51.0368 87.8284 50.2637 87.6775 49.3586C87.225 46.8885 88.1678 43.9847 86.7913 41.722C85.6977 40.025 83.0956 40.1759 80.814 40.157C79.2679 40.1759 77.6274 40.0439 76.1378 40.4776C74.29 40.9678 73.6489 42.8345 73.5357 44.5881C73.234 51.7344 73.3095 59.0504 73.234 66.1779V66.5173C73.234 73.098 73.1021 79.9803 73.1586 86.5986C73.1963 87.7111 73.3283 88.9745 73.9129 89.8795C74.9688 91.6708 77.7217 91.6143 80.1164 91.5954C82.0585 91.52 84.7172 91.8405 86.2445 90.8035C90.5624 87.3717 84.868 68.516 89.9591 66.1213C94.9747 64.8392 92.4103 81.3379 92.8817 84.2417C92.5423 90.1812 93.8811 92.1988 100.349 91.7085C107.08 92.1422 107.683 89.3893 107.419 83.3555C107.042 74.5121 109.154 64.6317 105.741 56.241Z" fill="white"/>
<path d="M71.1259 47.1524L71.1636 47.1147C71.2579 43.9847 69.3346 42.0802 66.2045 42.2688C62.3014 42.2311 58.0212 42.2688 54.4574 42.3065H54.118C50.8937 42.3442 47.198 42.3065 43.8794 42.3254C41.4847 42.2122 38.7883 42.9476 38.5809 45.8137C38.4112 47.1713 38.4489 48.6609 38.4112 50.1505C38.4112 52.9034 38.0907 56.2974 40.2591 57.5042C41.8618 58.4281 44.0868 58.1264 45.6141 59.1635C46.9906 60.012 47.3865 61.8787 47.3865 63.4815C47.3488 71.382 45.7084 79.3768 46.1232 87.1642C46.1044 92.0479 50.328 91.6708 54.514 91.6142C57.7006 91.4445 62.8859 92.557 63.4139 88.2767C63.9607 79.7917 62.0563 71.1557 62.3014 62.7084C62.3768 58.8053 65.488 58.4281 68.5804 57.8625C72.5212 56.4483 70.7676 50.4522 71.1259 47.1524Z" fill="white"/>
<path d="M141.496 68.6857C145.739 62.5576 142.627 52.8658 135.085 50.9802C122.225 46.7565 109.196 56.882 109.668 70.5336C108.555 82.4315 118.209 91.9536 129.73 91.9914C135.877 92.1988 142.929 92.8399 142.175 84.4868V84.1474C142.514 76.492 140.459 77.7553 133.03 77.8119C129.278 78.0381 123.753 75.3795 130.39 73.7202V73.7579C134.519 73.1168 139.026 72.2871 141.496 68.6857ZM125.525 67.7052H125.393C124.186 67.8183 123.017 66.5173 123.206 65.254C123.527 63.1233 125.997 62.1051 127.92 62.5199C128.599 62.5576 129.504 63.4438 129.768 64.066C130.767 66.3853 127.26 67.6863 125.525 67.7052Z" fill="white"/>
<path d="M168.931 42.0802H168.912C165.876 42.0991 162.746 42.1179 159.711 42.2688C158.428 42.3631 157.09 42.7213 156.354 43.815C155.732 44.7012 155.525 45.9645 155.449 47.0959C155.166 53.6199 154.978 60.1063 154.884 66.6492V66.9886C154.714 73.6636 154.506 80.4516 154.714 87.2585C154.676 91.0674 157.806 91.8782 161.012 91.633C163.934 91.2748 168.78 92.8021 170.326 89.5778C171.062 87.5979 170.44 85.2787 170.949 83.2423C171.439 80.6213 173.683 79.4523 176.153 78.8866C179.622 78.0569 183.129 76.605 185.543 73.871C190.766 67.9503 190.276 58.8995 187.938 51.7344C185.298 44.0789 176.172 42.0237 168.931 42.0802ZM171.307 66.4607C168.742 66.1778 168.309 62.6707 168.215 60.7097V60.4834C168.101 58.5978 168.686 54.8078 171.062 54.2422C176.794 53.3371 177.001 67.4035 171.307 66.4607Z" fill="white"/>
<path d="M299.488 67.083V67.0453V66.7248C299.148 59.8613 299.186 51.8665 298.677 44.8333C298.677 41.7032 296.452 39.8365 293.398 40.0062C290.814 39.9685 287.1 39.6291 286.138 42.0615C285.403 43.7208 285.704 45.7949 285.139 47.4919C284.46 49.6792 282.48 50.1506 280.33 50.5277C278.124 50.886 275.862 51.6025 274.07 52.6961C262.776 58.5602 261.682 89.8607 274.825 91.9537C277.295 92.3308 279.953 91.1995 281.971 89.427C283.329 88.3711 284.78 86.7307 286.628 86.8438C288.005 86.9758 288.684 88.4465 289.4 89.4836C290.701 91.8029 293.982 91.9914 296.603 91.5389C299.469 91.1995 299.79 88.0883 299.714 85.7125C299.62 79.4524 299.639 73.3054 299.507 67.083H299.488ZM278.256 70.741C277.615 61.8977 286.534 61.2566 286.138 70.3639V70.609C286.892 79.3581 277.672 79.5278 278.256 70.741Z" fill="white"/>
<path d="M353.883 55.8258H353.864C351.79 50.8101 345.04 48.8869 340.515 51.6964C338.648 52.6769 337.102 54.8076 334.933 54.9961C332.652 55.0715 331.747 51.9603 329.578 51.4701C326.844 50.7347 322.583 50.7913 321.942 54.0345C321.169 59.7855 321.602 65.9324 321.489 71.7588V72.0982C321.791 77.5853 320.773 83.4494 321.791 88.8421C322.432 91.4254 324.921 91.727 327.561 91.6516C329.786 91.5951 332.765 92.0099 334.556 90.6711C335.442 90.0112 335.876 88.9175 336.027 87.8051C336.555 81.8844 335.442 75.6997 336.461 69.8544C336.725 68.2517 338.365 66.4981 339.836 67.95C340.515 68.6288 340.816 69.7224 340.948 70.7029C341.382 76.0957 340.948 81.4884 341.08 86.9188C340.986 91.5385 344.55 91.859 348.641 91.6705C352.62 91.8213 355.825 91.2557 355.599 86.4474C355.165 76.2465 357.372 65.5365 353.883 55.8258Z" fill="white"/>
<path d="M388.165 81.4885L388.127 81.5262C384.111 79.9046 379.642 81.4319 375.57 82.0541C373.835 82.337 372.062 82.0541 371.968 81.2056C372.044 79.7726 374.287 79.5463 375.494 79.3578C387.807 79.5086 396.047 71.4007 391.465 59.0879C391.05 57.9943 390.598 56.8252 390.616 55.675C390.541 53.6386 392.54 51.5833 391.823 49.4715C391.05 47.4916 388.165 44.7764 385.865 46.002C384.111 47.058 382.867 49.3583 380.868 49.924C379.737 50.3388 378.492 50.3766 377.285 50.3766C368.574 49.528 358.731 54.1477 358.373 63.8207C358.166 66.8564 358.995 69.9488 360.598 72.796C361.466 74.3987 362.408 76.2089 361.692 78.0379C360.014 81.2811 357.713 84.9202 359.618 88.5028C360.542 90.3507 361.239 92.2551 360.598 94.3292C357.072 102.833 367.217 106.246 374.589 106.152H374.928C380.265 106.303 386.619 104.926 390.334 100.684C394.765 95.6114 395.236 84.5997 388.165 81.4885ZM376.946 62.2557C380.02 63.2362 379.68 67.7615 376.475 68.1952H376.305C371.044 68.1009 372.062 61.0866 376.946 62.2557ZM377.417 95.6114H377.153C375.796 95.668 373.269 95.4229 371.685 95.1023C369.724 94.9515 367.575 93.179 370.365 92.5568C374.551 92.4436 379.284 90.5581 383.263 92.2362C385.714 95.4417 379.152 95.668 377.417 95.6114Z" fill="white"/>
<path d="M317.567 56.6743C317.567 54.1853 316.812 51.3381 313.927 51.225C311.024 51.2061 306.272 50.3199 304.65 52.658C302.501 58.5221 303.764 66.1776 303.104 72.1548V72.4942C303.255 78.1509 302.029 84.3168 303.481 89.8038C305.028 92.5567 309.911 91.2745 312.834 91.5574C315.323 91.6894 318.227 90.9917 318.359 88.0125C318.698 82.7706 318.302 77.491 318.17 72.2491C318.019 66.9884 317.831 61.8219 317.567 56.6743Z" fill="white"/>
<path d="M312.044 48.6987H312.063C316.173 48.661 318.549 44.6448 316.928 41.0999C315.928 38.5166 312.101 37.951 309.989 38.0641H309.706C305.162 37.8756 301.56 43.042 304.822 46.832C306.651 48.8119 309.517 48.8684 312.044 48.6987Z" fill="white"/>
<path d="M262.792 66.14H262.773C262.584 59.4085 262.396 51.5834 262.018 44.701C261.886 43.268 261.528 41.6653 260.303 40.8545C259.379 40.2322 258.191 40.0814 257.059 40.0248C254.288 40.006 250.648 39.6477 249.555 41.9104C248.725 43.4943 249.046 45.4741 248.537 47.1334C247.952 49.4527 245.821 50.1881 243.615 50.5463C240.768 50.9989 237.959 52.1302 235.715 54.0158C223.251 63.5756 228.022 104.983 247.273 87.8241C248.951 86.3722 251.101 86.4853 252.157 88.5783C252.93 90.049 254.099 91.2369 255.834 91.4444C259.171 92.01 262.735 91.4067 262.961 87.9561C263.376 80.8286 262.829 73.5503 262.792 66.4794V66.14ZM245.765 77.1517C240.485 76.9443 241.032 68.9306 242.691 65.612C243.502 63.9339 246.029 63.3116 247.613 64.4995C249.291 65.7629 249.404 68.3838 249.611 70.2317V70.4768C249.725 72.6264 249.159 77.3403 245.765 77.1517Z" fill="white"/>
<path d="M226.155 70.213C226.155 66.1779 226.098 61.4451 226.023 57.014C225.985 55.5244 225.985 53.8274 225.137 52.5829C224.1 50.9613 221.705 50.9424 219.555 50.9613C217.443 51.0556 214.559 50.6219 212.918 51.8475C211.806 52.7149 211.617 54.3176 211.56 55.6941C211.466 60.7474 211.674 65.895 211.504 70.9483C211.41 72.4568 211.089 74.5121 209.562 75.1343C204.301 76.5862 207.129 59.0127 206.451 55.5621C206.564 51.1121 202.943 50.8104 199.021 50.999C194.571 50.8104 191.743 51.4327 192.064 56.6557C192.064 66.1213 190.442 75.9828 193.044 85.0713C194.345 91.124 201.642 94.2729 206.922 91.0108C208.808 90.0492 210.316 87.9185 212.484 87.6922C213.446 87.6357 214.276 88.2579 215.049 89.0875C216.406 90.7657 218.085 91.6896 220.253 91.6519C223.722 91.9536 226.268 90.6337 226.211 87.0888C226.343 81.5641 226.136 76.0205 226.155 70.5524V70.213Z" fill="white"/>
<defs>
<filter id="filter0_dddd_2683_3457" x="17" y="19" width="405.986" height="126.573" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="0.5"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2683_3457"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="2"/>
<feGaussianBlur stdDeviation="1"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.09 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_2683_3457" result="effect2_dropShadow_2683_3457"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="5"/>
<feGaussianBlur stdDeviation="1.5"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"/>
<feBlend mode="normal" in2="effect2_dropShadow_2683_3457" result="effect3_dropShadow_2683_3457"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="9"/>
<feGaussianBlur stdDeviation="1.5"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.01 0"/>
<feBlend mode="normal" in2="effect3_dropShadow_2683_3457" result="effect4_dropShadow_2683_3457"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect4_dropShadow_2683_3457" result="shape"/>
</filter>
<radialGradient id="paint0_radial_2683_3457" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(222.719 72.4347) rotate(161.66) scale(180.53 109.25)">
<stop stop-color="white"/>
<stop offset="1" stop-color="white" stop-opacity="0.82"/>
</radialGradient>
</defs>
</svg>
`,cu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-right"><path d="M7 7h10v10"/><path d="M7 17 17 7"/></svg>';var Np=fe('<a target="_blank" rel="noreferrer" class="svelte-2gzhda"> </a>,&nbsp;',1),Lp=fe(`<section class="text svelte-2gzhda">We've published <strong> </strong> awesome stories such
						as <!>and more.</section>`),Op=fe('<li class="svelte-2gzhda"><a class="svelte-2gzhda"> </a></li>'),Rp=fe('<li class="svelte-2gzhda"><a class="svelte-2gzhda"> </a></li>'),zp=fe(`<footer class="svelte-2gzhda"><div class="c svelte-2gzhda"><div class="top svelte-2gzhda"><!></div> <div class="bottom svelte-2gzhda"><div class="cta-wrapper svelte-2gzhda"><section class="donate svelte-2gzhda"><div class="img-wrapper svelte-2gzhda"><a href="https://patreon.com/thepudding" class="svelte-2gzhda"><img alt="donate sticker" class="svelte-2gzhda"/></a></div> <div class="text-wrapper svelte-2gzhda"><p class="svelte-2gzhda"><a href="https://patreon.com/thepudding" class="svelte-2gzhda">Support us on Patreon</a> <span class="arrow svelte-2gzhda"><!></span></p> <p class="svelte-2gzhda">We pour our heart into these stories, but they take time and
							money. For just $2/month, you can help support us. Join our
							growing community of data-driven enthusiasts.</p></div></section> <section class="subscribe svelte-2gzhda"><div class="img-wrapper svelte-2gzhda"><a href="https://pudding.cool/subscribe" class="svelte-2gzhda"><img alt="donate sticker" class="svelte-2gzhda"/></a></div> <div class="text-wrapper svelte-2gzhda"><p class="svelte-2gzhda"><a href="https://pudding.cool/subscribe" class="svelte-2gzhda">Subscribe to our newsletter</a> <span class="arrow svelte-2gzhda"><!></span></p> <p class="svelte-2gzhda">Get all our latest stories in your inbox. Plus get links to some
							of our favorite projects from around the web.</p></div></section></div> <section class="links svelte-2gzhda"><a class="img-wrapper svelte-2gzhda" href="https://pudding.cool"><span class="wordmark svelte-2gzhda"><!></span></a> <div class="inner svelte-2gzhda"><div class="about svelte-2gzhda"><p class="title svelte-2gzhda">About Us</p> <ul class="svelte-2gzhda"></ul></div> <div class="follow svelte-2gzhda"><p class="title svelte-2gzhda">Follow Us</p> <ul class="svelte-2gzhda"></ul></div></div></section></div></div></footer>`);function Vp(r,a){ii(a,!1);const o="https://pudding.cool";let d=xi([]),_=xi(0),p=Kt(a,"recirc",8,!1),N=Kt(a,"recent",8,!0),z=Kt(a,"recircImages",8,!1);const D=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,j=[{name:"Our Team",url:"https://pudding.cool/about"},{name:"Our Resources",url:"https://pudding.cool/resources/"},{name:"Pitch a Story",url:"https://pudding.cool/pitch/"},{name:"Brand Partnerships",url:"https://polygraph.cool"},{name:"Privacy Policy",url:"https://pudding.cool/pitch/"}],G=[{name:"Instagram",url:"https://www.instagram.com/the.pudding"},{name:"Twitter/X",url:"https://twitter.com/puddingviz/"},{name:"TikTok",url:"https://www.tiktok.com/@the_pudding"},{name:"YouTube",url:"https://www.youtube.com/@thepudding"},{name:"RSS",url:"https://pudding.cool/feed/index.xml"}];Al(async()=>{if(p()){const Pe=window.location.href,Yt=(await(await fetch(D)).json()).filter(Qt=>!Pe.includes(Qt.url)),Re=Yt.map(Qt=>({...Qt,tease:Qt.hed,slug:Qt.image,href:Qt.url.startsWith("http")?Qt.url:`${o}/${Qt.url}`}));Le(_,Yt.length);const Gt=z()?4:3;N()?Le(d,N()?Re.slice(0,Gt):[]):Le(d,oh(Re).slice(0,Gt))}}),Si();var $=zp(),V=kt($),st=kt(V),nt=kt(st);{var ut=Pe=>{var ee=wi(),ve=Ge(ee);{var Yt=Gt=>{},Re=Gt=>{var Qt=Lp(),Zt=Bt(kt(Qt)),_e=kt(Zt,!0);xt(Zt);var be=Bt(Zt,2);je(be,1,()=>Y(d),Ze,(Ae,qe)=>{let Xe=()=>Y(qe).short,we=()=>Y(qe).href;var Ke=Np(),ae=Ge(Ke),ci=kt(ae,!0);xt(ae),Jn(),pe(()=>{Wt(ae,"href",we()),Be(ci,Xe())}),Dt(Ae,Ke)}),Jn(),xt(Qt),pe(()=>Be(_e,Y(_))),Dt(Gt,Qt)};Oe(ve,Gt=>{z()?Gt(Yt):Gt(Re,!1)})}Dt(Pe,ee)};Oe(nt,Pe=>{di(p()),Y(d),ui(()=>p()&&Y(d).length)&&Pe(ut)})}xt(st);var ot=Bt(st,2),vt=kt(ot),ht=kt(vt),_t=kt(ht),pt=kt(_t),k=kt(pt);Wt(k,"src","https://pudding.cool/assets/stickers/donate-footer-square@2x.png"),xt(pt),xt(_t);var wt=Bt(_t,2),Nt=kt(wt),qt=Bt(kt(Nt),2),Lt=kt(qt);Li(Lt,()=>cu),xt(qt),xt(Nt),Jn(2),xt(wt),xt(ht);var yt=Bt(ht,2),It=kt(yt),Ht=kt(It),At=kt(Ht);Wt(At,"src","https://pudding.cool/assets/stickers/subscribe-footer@2x.png"),xt(Ht),xt(It);var oe=Bt(It,2),ft=kt(oe),se=Bt(kt(ft),2),xe=kt(se);Li(xe,()=>cu),xt(se),xt(ft),Jn(2),xt(oe),xt(yt),xt(vt);var Pt=Bt(vt,2),Vt=kt(Pt),Ft=kt(Vt),ge=kt(Ft);Li(ge,()=>Mp),xt(Ft),xt(Vt);var Ut=Bt(Vt,2),Se=kt(Ut),he=Bt(kt(Se),2);je(he,5,()=>j,Ze,(Pe,ee,ve,Yt)=>{let Re=()=>Y(ee).name,Gt=()=>Y(ee).url;var Qt=Op(),Zt=kt(Qt),_e=kt(Zt,!0);xt(Zt),xt(Qt),pe(()=>{Wt(Zt,"href",Gt()),Be(_e,Re())}),Dt(Pe,Qt)}),xt(he),xt(Se);var Fe=Bt(Se,2),Te=Bt(kt(Fe),2);je(Te,5,()=>G,Ze,(Pe,ee,ve,Yt)=>{let Re=()=>Y(ee).name,Gt=()=>Y(ee).url;var Qt=Rp(),Zt=kt(Qt),_e=kt(Zt,!0);xt(Zt),xt(Qt),pe(()=>{Wt(Zt,"href",Gt()),Be(_e,Re())}),Dt(Pe,Qt)}),xt(Te),xt(Fe),xt(Ut),xt(Pt),xt(ot),xt(V),xt($),Dt(r,$),ni()}var Dp=fe('<article class="svelte-jseb3m"><!> <!> <!> <!></article> <!>',1);function Bp(r,a){ii(a,!1);const o=oi("data"),d=Object.values(o),_=Math.min(...d),p=Ss(d,.25),N=Ss(d,.5),z=Ss(d,.75),q=Math.max(...d);Ei("rsdBuckets",{min:_,q1:p,median:N,q3:z,max:q}),Si();var D=Dp(),j=Ge(D),G=kt(j);ld(G,{});var $=Bt(G,2);Cp($,{});var V=Bt($,2);Ip(V,{});var st=Bt(V,2);Tp(st,{}),xt(j);var nt=Bt(j,2);Vp(nt,{recirc:!0}),Dt(r,D),ni()}const Fp="Dicing an Onion, the Mathematically Optimal Way",qp="There is more than one way to dice an onionâ¦",Hp="https://pudding.cool/2025/08/onion",Up=[{type:"text",value:"<strong>This is a story about onions and math.</strong>"},{type:"text",value:"Why? Because tens of millions of people are curious about how to properly dice an onion, <a href=https://www.youtube.com/results?search_query=how+to+dice+an+onion target=_blank rel=noreferrer>according to YouTube</a>."},{type:"text",value:"In 2021, chef and food writer J. Kenji LÃ³pez-Alt <a href=https://www.instagram.com/p/CV6L30MBFy8/ target=_blank rel=noreferrer>broke out some math</a> to get <em>optimal</em> uniform piece sizes. But there is more than one way to dice an onionâ¦"}],Wp="Dicing an Onion, the Mathematically Optimal Way",Gp="<a target=_blank rel=noreferrer href=https://pudding.cool/author/andrew-aquino>Andrew Aquino</a>",Zp="<a target=_blank rel=noreferrer href=https://pudding.cool/author/russell-samora>Russell Samora</a>",jp=[{type:"text",value:"<strong>This is a onion.</strong> (Well, a simplified cross-section of one.)"},{type:"Component",value:{showControls:"false",showCuts:"false"}},{type:"text",value:"Whatâs the best way to cut it? That is, how do we get the most uniform piece size?"},{type:"text",value:"A typical onion has about 7-13 layers. For the sake of example, letâs assume our onion has 10 layers. We can represent the layers as concentric circles."},{type:"text",value:"Letâs start with a common approach&mdash;<strong>vertical cuts</strong>."},{type:"Component",value:{showControls:"false",highlightExtremes:"true"}},{type:"text",value:"The pieces <strong class=primary>near the center line</strong> are fairly consistent in shape and size."},{type:"text",value:"But <strong class=secondary>along the bottom</strong> there are some noticeably larger pieces. When you dice an onion, youâre probably not imagining pieces like these."},{type:"text",value:"This inconsistency can be measured by calculating the <a href=https://en.wikipedia.org/wiki/Standard_deviation target=_blank>standard deviation</a> of our piecesâ areas."},{type:"text",value:"<details><summary>A note on the standard deviation</summary><p>In this article when we say standard deviation it refers to <em>relative standard deviation</em>. Relative standard deviation is a ratio of the standard deviation to the average piece size. The average piece size will differ depending on our cutting technique, so measuring the relative standard deviation helps us compare how <em>consistent</em> our piece size is (or, how close our areas are to the average) no matter what the average piece size is.<p></details>"},{type:"text",value:"Without getting too wonky, just know that <strong>a higher standard deviation means more piece size variation.</strong> So to obtain the most consistently sized pieces, we want to make the standard deviation as <em>small as possible.</em>"},{type:"text",value:"Adjust the slider below to see how the number of cuts affects the standard deviation. Oh, and donât forget check out the exploded view toggle to see the variation."},{type:"Component",value:{toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"Okay, letâs try a different technique&mdash;<strong>radial cuts.</strong>"},{type:"Component",value:{showControls:"false",cutType:"radial",highlightExtremes:"true"}},{type:"text",value:"The piece size still isnât very consistent&mdash;those <strong class=primary>near the outside</strong> are much larger than those <strong class=secondary>near the center</strong>."},{type:"text",value:"How does the standard deviation of pieces cut radially compare to those cut vertically?"},{type:"Component",value:{cutType:"radial",controlCutType:"true",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"When making 10 cuts into a 10-layer onion radially, the standard deviation (57.7%) is <em>greater</em> than when cutting vertically (37.3%), which means that our piece size is now <em>less</em> consistent."},{type:"text",value:"But we can improve the radial cut strategy."},{type:"text",value:"Kenji claims that the most uniform pieces can be produced by <strong>aiming at a point ~60% of the onionâs radius below the cutting surface.</strong>"},{type:"Component",value:{showControls:"false",cutType:"radial",cutTargetDepthPercentage:"0.6",highlightExtremes:"true",showStandardDeviation:"true",showRadialTarget:"true"}},{type:"text",value:"The pieces now look more consistent, except for a few smaller ones <strong class=primary>along the bottom</strong>."},{type:"text",value:"Does the math confirm ~60% depth as the superior technique?"},{type:"text",value:"Indeed, 34.5% is the smallest standard deviation weâve seen so far. This finding is further supported by Dr. Dylan Poulsen, an associate professor of mathematics at Washington College, who calculated that the ideal âonion constantâ is ~55.731% depth (<a href=https://medium.com/@drspoulsen/a-solution-to-the-onion-problem-of-j-kenji-l%C3%B3pez-alt-c3c4ab22e67c target=_blank rel=noreferrer>source</a>, <a href=https://drspoulsen.github.io/MARP/ target=_blank rel=noreferrer>another source</a>). Kenji backs Dr. Poulsenâs method in <a href=https://www.nytimes.com/article/how-to-cut-onion.html target=_blank rel=noreferrer>this more recent New York Times article</a>."},{type:"text",value:"But we can improve the radial cut strategy even more!"},{type:"text",value:"Dr. Poulsenâs analysis is based on making <em>infinitely many cuts</em> into an onion with <em>infinitely many layers</em>:"},{type:"text",value:'<figure><img  alt="Screenshot from Dr. Poulsenâs slides. A diagram shows an onion cross-section with an unrealistically large number of layers. A caption reads: âSo, we might as well consider the limiting case as the number of layers approaches infinity.â" src="assets/slide.jpg"><figcaption>A slide from Dr. Poulsenâs breakdown on the math behind onion cutting.</figcaption></figure>'},{type:"text",value:"However, in the physical world weâre only capable of making a finite number of cuts, and real onions have a finite number of layers. The diagrams from Kenjiâs original claim show 10 cuts being made into an onion with 10 layers. How can we optimize that?"},{type:"text",value:"<strong>When making 10 cuts into a 10-layer onion, the smallest standard deviation (29.5%) occurs when making radial cuts aimed 96% of the onionâs radius below the cutting surface! ð®</strong>"},{type:"Component",value:{controlCutType:"true",cutType:"radial",controlRadialDepth:"true",cutTargetDepthPercentage:"0.96",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"Before we explain how we got that result, letâs briefly consider another popular technique: making 1-2 horizontal cuts before vertical, <a href=https://www.youtube.com/watch?v=BuebC0CfD8E&t=79s target=_blank rel=noreferrer>which Kenji recommended in 2016</a>. What does the math say about this strategy? How does combining it with vertical/radial cuts affect our piece size?"},{type:"text",value:"<h2>Exploring all the possibilities</h2>"},{type:"Component",value:{controlLayers:"true",controlCutType:"true",controlRadialDepth:"true",controlHorizontalCuts:"true",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"<details><summary>How do you find the size of an onion piece?</summary><p>Onions and onion pieces are 3D objects with volumes, but weâre analyzing areas of 2-dimensional cross-sections to simplify the math.</p><p>When making vertical cuts, we can obtain the area of an onion piece in the <em>bottom</em> layer by calculating the area under a circular curve in a given horizontal range. When we want the area of an onion piece in an <em>upper</em> layer, we take the area under its higher circular curve and subtract the area under its lower circular curve.</p><p>The calculation for radially cut onion pieces is generally the same. However, cutting radially produces diagonal lines. We also add the area under the diagonal line to the left of the piece, and subtract the area under the diagonal line to the right of the piece.</p></details>"},{type:"text",value:"<h3>Optimal techniques</h3>"},{type:"text",value:"Here are the minimum standard deviations for every combination of layer numbers, vertical/radial cut numbers, radial cut depth, and horizontal cut numbers:"},{type:"Report",value:{}},{type:"text",value:"<h3>Insights</h3>"},{type:"list",value:["It turns out that making horizontal cuts almost never helps with consistency.","Radial cuts are usually more consistent than vertical cuts, but you have to aim below the center of the onion.","The ideal radial depth varies depending on the number of layers/cuts&mdash;but itâs always â¥48%. (Recall that this converges to the onion constant of ~55.731%, mentioned above.)"]}],Xp=[{type:"text",value:"<h2>The importance of optimal technique</h2>"},{type:"text",value:"Armed with this knowledge, we can apply the optimal dicing strategy to any onion. But how big a difference does being mathematically optimal make when it comes to cooking? We got in touch with Kenji via email to find out."},{type:"text",value:"<strong>Us&mdash;</strong> How much does uniformity matter?"},{type:"text",value:"<strong>Kenji&mdash;</strong> âIt matters far more for winning internet debates and solving interesting math problems than it does for cooking. For home cooks, having onion dice that are a little off from perfect is not really an issue anyone should seriously worry about.â"},{type:"text",value:"Ohâ¦"},{type:"text",value:"Well anyways, we hoped you enjoyed reading this deep-dive about onions and math. And even if your food still tastes the same, you can show off your optimally uniform onion pieces in your next meal."}],Kp=[],fu={title:Fp,description:qp,url:Hp,intro:Up,hed:Wp,author1:Gp,author2:Zp,story:jp,conclusion:Xp,method:Kp};function Yp(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.14.0"),console.log("build: 2025-08-05-10:30"),console.log("--- --- --- --- --- ---")}var Qp=fe("<!> <!>",1);function u1(r,a){ii(a,!1);let o=Kt(a,"data",8);Yp();const d=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Regular-Web.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Bold-Web.woff2"],{title:_,description:p,url:N,keywords:z}=fu;Ei("copy",fu),Ei("data",o().data),Si();var q=Qp(),D=Ge(q);Gl(D,{get title(){return _},get description(){return p},get url(){return N},get preloadFont(){return d},get keywords(){return z}});var j=Bt(D,2);Bp(j,{}),Dt(r,q),ni()}export{u1 as component};
