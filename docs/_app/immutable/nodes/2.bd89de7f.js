import{s as te,f as M,e as X,B as Sn,g as C,d as g,j as h,u as w,v as j,C as ue,i as E,D as An,h as N,E as Ne,a as B,H as Fe,c as W,r as Ve,F as vn,G as Tn,l as F,m as V,I as ie,J as ae,A as Qe,n as ee,K as ge,L as Nn,M as Me,N as Pe,O as Pn,P as ut,Q as rt,R as In,p as Ce,S as Ee,T as zn}from"../chunks/scheduler.5e44755f.js";import{S as ne,i as re,b as J,d as Y,m as Q,a as D,g as me,t as R,c as de,e as Z,f as Se}from"../chunks/index.55988b75.js";import{e as U}from"../chunks/each.e59479a4.js";import{g as Dn,a as Ln}from"../chunks/spread.8a54911c.js";import{w as Rn}from"../chunks/index.544f9b6f.js";import{d as On}from"../chunks/transform.6fe4cd5d.js";function mt(t,e,r){const n=t.slice();return n[5]=e[r],n}function dt(t){let e,r;return{c(){e=M("link"),this.h()},l(n){e=C(n,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){h(e,"rel","preload"),h(e,"href",r=t[5]),h(e,"as","font"),h(e,"type","font/woff2"),h(e,"crossorigin","")},m(n,l){E(n,e,l)},p(n,l){l&16&&r!==(r=n[5])&&h(e,"href",r)},d(n){n&&g(e)}}}function Hn(t){let e,r,n,l,i,a,o,f,s,u,c,m,y,x,b,d,p,_,v,H,k,z,A,L,G,K;document.title=e=t[0];let P=U(t[4]),O=[];for(let I=0;I<P.length;I+=1)O[I]=dt(mt(t,P,I));return{c(){r=M("meta"),n=M("meta"),l=M("meta"),i=M("meta"),a=M("meta"),o=M("meta"),f=M("meta"),s=M("meta"),u=M("meta"),c=M("meta"),y=M("meta"),x=M("meta"),b=M("meta"),d=M("meta"),p=M("meta"),_=M("meta"),v=M("meta"),H=M("meta"),k=M("meta"),A=M("meta"),L=M("link");for(let I=0;I<O.length;I+=1)O[I].c();K=X(),this.h()},l(I){const T=Sn("svelte-1htu80s",document.head);r=C(T,"META",{name:!0,content:!0}),n=C(T,"META",{name:!0,content:!0}),l=C(T,"META",{name:!0,content:!0}),i=C(T,"META",{property:!0,content:!0}),a=C(T,"META",{property:!0,content:!0}),o=C(T,"META",{property:!0,content:!0}),f=C(T,"META",{property:!0,content:!0}),s=C(T,"META",{property:!0,content:!0}),u=C(T,"META",{property:!0,content:!0}),c=C(T,"META",{property:!0,content:!0}),y=C(T,"META",{property:!0,content:!0}),x=C(T,"META",{property:!0,content:!0}),b=C(T,"META",{property:!0,content:!0}),d=C(T,"META",{name:!0,content:!0}),p=C(T,"META",{name:!0,content:!0}),_=C(T,"META",{name:!0,content:!0}),v=C(T,"META",{name:!0,content:!0}),H=C(T,"META",{name:!0,content:!0}),k=C(T,"META",{name:!0,content:!0}),A=C(T,"META",{name:!0,content:!0}),L=C(T,"LINK",{rel:!0,href:!0});for(let q=0;q<O.length;q+=1)O[q].l(T);K=X(),T.forEach(g),this.h()},h(){h(r,"name","description"),h(r,"content",t[1]),h(n,"name","author"),h(n,"content","The Pudding"),h(l,"name","news_keywords"),h(l,"content",t[3]),h(i,"property","og:title"),h(i,"content",t[0]),h(a,"property","og:site_name"),h(a,"content","The Pudding"),h(o,"property","og:url"),h(o,"content",t[2]),h(f,"property","og:description"),h(f,"content",t[1]),h(s,"property","og:type"),h(s,"content","article"),h(u,"property","og:locale"),h(u,"content","en_US"),h(c,"property","og:image"),h(c,"content",m=t[2]+"/assets/social-facebook.jpg"),h(y,"property","og:image:type"),h(y,"content","image/jpeg"),h(x,"property","og:image:width"),h(x,"content","1200"),h(b,"property","og:image:height"),h(b,"content","600"),h(d,"name","twitter:card"),h(d,"content","summary_large_image"),h(p,"name","twitter:site"),h(p,"content","https://pudding.cool"),h(_,"name","twitter:creator"),h(_,"content","@puddingviz"),h(v,"name","twitter:title"),h(v,"content",t[0]),h(H,"name","twitter:description"),h(H,"content",t[1]),h(k,"name","twitter:image:src"),h(k,"content",z=t[2]+"/assets/social-twitter.jpg"),h(A,"name","robots"),h(A,"content","max-image-preview:large"),h(L,"rel","canonical"),h(L,"href",G=t[2]+"/")},m(I,T){w(document.head,r),w(document.head,n),w(document.head,l),w(document.head,i),w(document.head,a),w(document.head,o),w(document.head,f),w(document.head,s),w(document.head,u),w(document.head,c),w(document.head,y),w(document.head,x),w(document.head,b),w(document.head,d),w(document.head,p),w(document.head,_),w(document.head,v),w(document.head,H),w(document.head,k),w(document.head,A),w(document.head,L);for(let q=0;q<O.length;q+=1)O[q]&&O[q].m(document.head,null);w(document.head,K)},p(I,[T]){if(T&1&&e!==(e=I[0])&&(document.title=e),T&2&&h(r,"content",I[1]),T&8&&h(l,"content",I[3]),T&1&&h(i,"content",I[0]),T&4&&h(o,"content",I[2]),T&2&&h(f,"content",I[1]),T&4&&m!==(m=I[2]+"/assets/social-facebook.jpg")&&h(c,"content",m),T&1&&h(v,"content",I[0]),T&2&&h(H,"content",I[1]),T&4&&z!==(z=I[2]+"/assets/social-twitter.jpg")&&h(k,"content",z),T&4&&G!==(G=I[2]+"/")&&h(L,"href",G),T&16){P=U(I[4]);let q;for(q=0;q<P.length;q+=1){const S=mt(I,P,q);O[q]?O[q].p(S,T):(O[q]=dt(S),O[q].c(),O[q].m(K.parentNode,K))}for(;q<O.length;q+=1)O[q].d(1);O.length=P.length}},i:j,o:j,d(I){g(r),g(n),g(l),g(i),g(a),g(o),g(f),g(s),g(u),g(c),g(y),g(x),g(b),g(d),g(p),g(_),g(v),g(H),g(k),g(A),g(L),ue(O,I),g(K)}}}function qn(t,e,r){let{title:n="Title TK"}=e,{description:l="Description TK"}=e,{url:i="https://pudding.cool"}=e,{keywords:a=""}=e,{preloadFont:o=[]}=e;return t.$$set=f=>{"title"in f&&r(0,n=f.title),"description"in f&&r(1,l=f.description),"url"in f&&r(2,i=f.url),"keywords"in f&&r(3,a=f.keywords),"preloadFont"in f&&r(4,o=f.preloadFont)},[n,l,i,a,o]}class jn extends ne{constructor(e){super(),re(this,e,qn,Hn,te,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Bn(t){let e,r="ðŸš§ This project is a work in progress. Please do not share the URL. ðŸš§";return{c(){e=M("div"),e.textContent=r,this.h()},l(n){e=C(n,"DIV",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-1huwx5x"&&(e.textContent=r),this.h()},h(){h(e,"class","svelte-svusjd")},m(n,l){E(n,e,l)},p:j,i:j,o:j,d(n){n&&g(e)}}}class Wn extends ne{constructor(e){super(),re(this,e,null,Bn,te,{})}}function _t(t,e,r){const n=t.slice();n[1]=e[r].type,n[2]=e[r].value;const l=["us","kenji"].includes(n[1]);n[3]=l;const i=n[3]?"blockquote":"svelte:fragment";return n[4]=i,n}function Fn(t){let e,r=t[1]+"",n,l;return{c(){e=M("b"),n=F(r),l=F(":"),this.h()},l(i){e=C(i,"B",{class:!0});var a=N(e);n=V(a,r),l=V(a,":"),a.forEach(g),this.h()},h(){h(e,"class","speaker svelte-chcwu")},m(i,a){E(i,e,a),w(e,n),w(e,l)},p:j,d(i){i&&g(e)}}}function Vn(t){let e,r,n,l,i=t[2]+"",a,o=t[3]&&Fn(t);return{c(){e=M(t[4]),r=M("p"),o&&o.c(),n=B(),l=new Fe(!1),a=B(),this.h()},l(f){e=C(f,(t[4]||"null").toUpperCase(),{class:!0});var s=N(e);r=C(s,"P",{class:!0});var u=N(r);o&&o.l(u),n=W(u),l=Ve(u,!1),u.forEach(g),a=W(s),s.forEach(g),this.h()},h(){l.a=null,h(r,"class",vn(t[1])+" svelte-chcwu"),Tn(t[4])(e,{class:"svelte-chcwu"})},m(f,s){E(f,e,s),w(e,r),o&&o.m(r,null),w(r,n),l.m(i,r),w(e,a)},p(f,s){f[3]&&o.p(f,s)},d(f){f&&g(e),o&&o.d()}}}function pt(t){let e=t[4]&&Vn(t);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,n){e&&e.m(r,n)},p(r,n){r[4]&&e.p(r,n)},d(r){e&&e.d(r)}}}function Xn(t){let e,r=U(t[0].intro),n=[];for(let l=0;l<r.length;l+=1)n[l]=pt(_t(t,r,l));return{c(){e=M("section");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=C(l,"SECTION",{class:!0});var i=N(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(g),this.h()},h(){h(e,"class","intro")},m(l,i){E(l,e,i);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(l,[i]){if(i&1){r=U(l[0].intro);let a;for(a=0;a<r.length;a+=1){const o=_t(l,r,a);n[a]?n[a].p(o,i):(n[a]=pt(o),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},i:j,o:j,d(l){l&&g(e),ue(n,l)}}}function Un(t){return[Ne("copy")]}class Kn extends ne{constructor(e){super(),re(this,e,Un,Xn,te,{})}}function bt(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,r==="true"?!0:r==="false"?!1:r]))}function Be(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wn(t){let e,r,n;t.length!==2?(e=Be,r=(o,f)=>Be(t(o),f),n=(o,f)=>t(o)-f):(e=t===Be||t===On?t:Gn,r=t,n=t);function l(o,f,s=0,u=o.length){if(s<u){if(e(f,f)!==0)return u;do{const c=s+u>>>1;r(o[c],f)<0?s=c+1:u=c}while(s<u)}return s}function i(o,f,s=0,u=o.length){if(s<u){if(e(f,f)!==0)return u;do{const c=s+u>>>1;r(o[c],f)<=0?s=c+1:u=c}while(s<u)}return s}function a(o,f,s=0,u=o.length){const c=l(o,f,s,u-1);return c>s&&n(o[c-1],f)>-n(o[c],f)?c-1:c}return{left:l,center:a,right:i}}function Gn(){return 0}function Jn(t){return t===null?NaN:+t}const Yn=wn(Be),Qn=Yn.right;wn(Jn).center;const Zn=Qn;function $n(t,e){let r=0,n,l=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(n=a-l,l+=n/++r,i+=n*(a-l));else{let a=-1;for(let o of t)(o=e(o,++a,t))!=null&&(o=+o)>=o&&(n=o-l,l+=n/++r,i+=n*(o-l))}if(r>1)return i/(r-1)}function er(t,e){const r=$n(t,e);return r&&Math.sqrt(r)}const tr=Math.sqrt(50),nr=Math.sqrt(10),rr=Math.sqrt(2);function Xe(t,e,r){const n=(e-t)/Math.max(0,r),l=Math.floor(Math.log10(n)),i=n/Math.pow(10,l),a=i>=tr?10:i>=nr?5:i>=rr?2:1;let o,f,s;return l<0?(s=Math.pow(10,-l)/a,o=Math.round(t*s),f=Math.round(e*s),o/s<t&&++o,f/s>e&&--f,s=-s):(s=Math.pow(10,l)*a,o=Math.round(t/s),f=Math.round(e/s),o*s<t&&++o,f*s>e&&--f),f<o&&.5<=r&&r<2?Xe(t,e,r*2):[o,f,s]}function lr(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[l,i,a]=n?Xe(e,t,r):Xe(t,e,r);if(!(i>=l))return[];const o=i-l+1,f=new Array(o);if(n)if(a<0)for(let s=0;s<o;++s)f[s]=(i-s)/-a;else for(let s=0;s<o;++s)f[s]=(i-s)*a;else if(a<0)for(let s=0;s<o;++s)f[s]=(l+s)/-a;else for(let s=0;s<o;++s)f[s]=(l+s)*a;return f}function lt(t,e,r){return e=+e,t=+t,r=+r,Xe(t,e,r)[2]}function ir(t,e,r){e=+e,t=+t,r=+r;const n=e<t,l=n?lt(e,t,r):lt(t,e,r);return(n?-1:1)*(l<0?1/-l:l)}function ar(t,e){let r=0,n=0;if(e===void 0)for(let l of t)l!=null&&(l=+l)>=l&&(++r,n+=l);else{let l=-1;for(let i of t)(i=e(i,++l,t))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function or(t,e,r){t=+t,e=+e,r=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+r;for(var n=-1,l=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(l);++n<l;)i[n]=t+n*r;return i}function ft(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function kn(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Le(){}var Ie=.7,Ue=1/Ie,xe="\\s*([+-]?\\d+)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sr=/^#([0-9a-f]{3,8})$/,ur=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),fr=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),cr=new RegExp(`^rgba\\(${xe},${xe},${xe},${ze}\\)$`),hr=new RegExp(`^rgba\\(${ce},${ce},${ce},${ze}\\)$`),gr=new RegExp(`^hsl\\(${ze},${ce},${ce}\\)$`),mr=new RegExp(`^hsla\\(${ze},${ce},${ce},${ze}\\)$`),yt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ft(Le,De,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vt,formatHex:vt,formatHex8:dr,formatHsl:_r,formatRgb:wt,toString:wt});function vt(){return this.rgb().formatHex()}function dr(){return this.rgb().formatHex8()}function _r(){return xn(this).formatHsl()}function wt(){return this.rgb().formatRgb()}function De(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=sr.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?kt(e):r===3?new le(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Re(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Re(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ur.exec(t))?new le(e[1],e[2],e[3],1):(e=fr.exec(t))?new le(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cr.exec(t))?Re(e[1],e[2],e[3],e[4]):(e=hr.exec(t))?Re(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gr.exec(t))?Ct(e[1],e[2]/100,e[3]/100,1):(e=mr.exec(t))?Ct(e[1],e[2]/100,e[3]/100,e[4]):yt.hasOwnProperty(t)?kt(yt[t]):t==="transparent"?new le(NaN,NaN,NaN,0):null}function kt(t){return new le(t>>16&255,t>>8&255,t&255,1)}function Re(t,e,r,n){return n<=0&&(t=e=r=NaN),new le(t,e,r,n)}function pr(t){return t instanceof Le||(t=De(t)),t?(t=t.rgb(),new le(t.r,t.g,t.b,t.opacity)):new le}function it(t,e,r,n){return arguments.length===1?pr(t):new le(t,e,r,n??1)}function le(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ft(le,it,kn(Le,{brighter(t){return t=t==null?Ue:Math.pow(Ue,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ie:Math.pow(Ie,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new le(ye(this.r),ye(this.g),ye(this.b),Ke(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xt,formatHex:xt,formatHex8:br,formatRgb:Mt,toString:Mt}));function xt(){return`#${be(this.r)}${be(this.g)}${be(this.b)}`}function br(){return`#${be(this.r)}${be(this.g)}${be(this.b)}${be((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mt(){const t=Ke(this.opacity);return`${t===1?"rgb(":"rgba("}${ye(this.r)}, ${ye(this.g)}, ${ye(this.b)}${t===1?")":`, ${t})`}`}function Ke(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ye(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function be(t){return t=ye(t),(t<16?"0":"")+t.toString(16)}function Ct(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new fe(t,e,r,n)}function xn(t){if(t instanceof fe)return new fe(t.h,t.s,t.l,t.opacity);if(t instanceof Le||(t=De(t)),!t)return new fe;if(t instanceof fe)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,l=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,o=i-l,f=(i+l)/2;return o?(e===i?a=(r-n)/o+(r<n)*6:r===i?a=(n-e)/o+2:a=(e-r)/o+4,o/=f<.5?i+l:2-i-l,a*=60):o=f>0&&f<1?0:a,new fe(a,o,f,t.opacity)}function yr(t,e,r,n){return arguments.length===1?xn(t):new fe(t,e,r,n??1)}function fe(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ft(fe,yr,kn(Le,{brighter(t){return t=t==null?Ue:Math.pow(Ue,t),new fe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ie:Math.pow(Ie,t),new fe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,l=2*r-n;return new le(et(t>=240?t-240:t+120,l,n),et(t,l,n),et(t<120?t+240:t-120,l,n),this.opacity)},clamp(){return new fe(Et(this.h),Oe(this.s),Oe(this.l),Ke(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ke(this.opacity);return`${t===1?"hsl(":"hsla("}${Et(this.h)}, ${Oe(this.s)*100}%, ${Oe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Et(t){return t=(t||0)%360,t<0?t+360:t}function Oe(t){return Math.max(0,Math.min(1,t||0))}function et(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ct=t=>()=>t;function vr(t,e){return function(r){return t+r*e}}function wr(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function kr(t){return(t=+t)==1?Mn:function(e,r){return r-e?wr(e,r,t):ct(isNaN(e)?r:e)}}function Mn(t,e){var r=e-t;return r?vr(t,r):ct(isNaN(t)?e:t)}const St=function t(e){var r=kr(e);function n(l,i){var a=r((l=it(l)).r,(i=it(i)).r),o=r(l.g,i.g),f=r(l.b,i.b),s=Mn(l.opacity,i.opacity);return function(u){return l.r=a(u),l.g=o(u),l.b=f(u),l.opacity=s(u),l+""}}return n.gamma=t,n}(1);function xr(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),l;return function(i){for(l=0;l<r;++l)n[l]=t[l]*(1-i)+e[l]*i;return n}}function Mr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cr(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,l=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)l[a]=ht(t[a],e[a]);for(;a<r;++a)i[a]=e[a];return function(o){for(a=0;a<n;++a)i[a]=l[a](o);return i}}function Er(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ge(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Sr(t,e){var r={},n={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?r[l]=ht(t[l],e[l]):n[l]=e[l];return function(i){for(l in r)n[l]=r[l](i);return n}}var at=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tt=new RegExp(at.source,"g");function Ar(t){return function(){return t}}function Tr(t){return function(e){return t(e)+""}}function Nr(t,e){var r=at.lastIndex=tt.lastIndex=0,n,l,i,a=-1,o=[],f=[];for(t=t+"",e=e+"";(n=at.exec(t))&&(l=tt.exec(e));)(i=l.index)>r&&(i=e.slice(r,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(l=l[0])?o[a]?o[a]+=l:o[++a]=l:(o[++a]=null,f.push({i:a,x:Ge(n,l)})),r=tt.lastIndex;return r<e.length&&(i=e.slice(r),o[a]?o[a]+=i:o[++a]=i),o.length<2?f[0]?Tr(f[0].x):Ar(e):(e=f.length,function(s){for(var u=0,c;u<e;++u)o[(c=f[u]).i]=c.x(s);return o.join("")})}function ht(t,e){var r=typeof e,n;return e==null||r==="boolean"?ct(e):(r==="number"?Ge:r==="string"?(n=De(e))?(e=n,St):Nr:e instanceof De?St:e instanceof Date?Er:Mr(e)?xr:Array.isArray(e)?Cr:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Sr:Ge)(t,e)}function Pr(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Ir(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Je(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ae(t){return t=Je(Math.abs(t)),t?t[1]:NaN}function zr(t,e){return function(r,n){for(var l=r.length,i=[],a=0,o=t[0],f=0;l>0&&o>0&&(f+o+1>n&&(o=Math.max(1,n-f)),i.push(r.substring(l-=o,l+o)),!((f+=o+1)>n));)o=t[a=(a+1)%t.length];return i.reverse().join(e)}}function Dr(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Lr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ye(t){if(!(e=Lr.exec(t)))throw new Error("invalid format: "+t);var e;return new gt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ye.prototype=gt.prototype;function gt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rr(t){e:for(var e=t.length,r=1,n=-1,l;r<e;++r)switch(t[r]){case".":n=l=r;break;case"0":n===0&&(n=r),l=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(l+1):t}var Cn;function Or(t,e){var r=Je(t,e);if(!r)return t+"";var n=r[0],l=r[1],i=l-(Cn=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Je(t,Math.max(0,e+i-1))[0]}function At(t,e){var r=Je(t,e);if(!r)return t+"";var n=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+n:n.length>l+1?n.slice(0,l+1)+"."+n.slice(l+1):n+new Array(l-n.length+2).join("0")}const Tt={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ir,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>At(t*100,e),r:At,s:Or,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Nt(t){return t}var Pt=Array.prototype.map,It=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Hr(t){var e=t.grouping===void 0||t.thousands===void 0?Nt:zr(Pt.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Nt:Dr(Pt.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"âˆ’":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function s(c){c=Ye(c);var m=c.fill,y=c.align,x=c.sign,b=c.symbol,d=c.zero,p=c.width,_=c.comma,v=c.precision,H=c.trim,k=c.type;k==="n"?(_=!0,k="g"):Tt[k]||(v===void 0&&(v=12),H=!0,k="g"),(d||m==="0"&&y==="=")&&(d=!0,m="0",y="=");var z=b==="$"?r:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",A=b==="$"?n:/[%p]/.test(k)?a:"",L=Tt[k],G=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function K(P){var O=z,I=A,T,q,S;if(k==="c")I=L(P)+I,P="";else{P=+P;var _e=P<0||1/P<0;if(P=isNaN(P)?f:L(Math.abs(P),v),H&&(P=Rr(P)),_e&&+P==0&&x!=="+"&&(_e=!1),O=(_e?x==="("?x:o:x==="-"||x==="("?"":x)+O,I=(k==="s"?It[8+Cn/3]:"")+I+(_e&&x==="("?")":""),G){for(T=-1,q=P.length;++T<q;)if(S=P.charCodeAt(T),48>S||S>57){I=(S===46?l+P.slice(T+1):P.slice(T))+I,P=P.slice(0,T);break}}}_&&!d&&(P=e(P,1/0));var pe=O.length+P.length+I.length,$=pe<p?new Array(p-pe+1).join(m):"";switch(_&&d&&(P=e($+P,$.length?p-I.length:1/0),$=""),y){case"<":P=O+P+I+$;break;case"=":P=O+$+P+I;break;case"^":P=$.slice(0,pe=$.length>>1)+O+P+I+$.slice(pe);break;default:P=$+O+P+I;break}return i(P)}return K.toString=function(){return c+""},K}function u(c,m){var y=s((c=Ye(c),c.type="f",c)),x=Math.max(-8,Math.min(8,Math.floor(Ae(m)/3)))*3,b=Math.pow(10,-x),d=It[8+x/3];return function(p){return y(b*p)+d}}return{format:s,formatPrefix:u}}var He,Te,En;qr({thousands:",",grouping:[3],currency:["$",""]});function qr(t){return He=Hr(t),Te=He.format,En=He.formatPrefix,He}function jr(t){return Math.max(0,-Ae(Math.abs(t)))}function Br(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ae(e)/3)))*3-Ae(Math.abs(t)))}function Wr(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ae(e)-Ae(t))+1}function Fr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vr(t){return function(){return t}}function Xr(t){return+t}var zt=[0,1];function ve(t){return t}function ot(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Vr(isNaN(e)?NaN:.5)}function Ur(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Kr(t,e,r){var n=t[0],l=t[1],i=e[0],a=e[1];return l<n?(n=ot(l,n),i=r(a,i)):(n=ot(n,l),i=r(i,a)),function(o){return i(n(o))}}function Gr(t,e,r){var n=Math.min(t.length,e.length)-1,l=new Array(n),i=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)l[a]=ot(t[a],t[a+1]),i[a]=r(e[a],e[a+1]);return function(o){var f=Zn(t,o,1,n)-1;return i[f](l[f](o))}}function Jr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yr(){var t=zt,e=zt,r=ht,n,l,i,a=ve,o,f,s;function u(){var m=Math.min(t.length,e.length);return a!==ve&&(a=Ur(t[0],t[m-1])),o=m>2?Gr:Kr,f=s=null,c}function c(m){return m==null||isNaN(m=+m)?i:(f||(f=o(t.map(n),e,r)))(n(a(m)))}return c.invert=function(m){return a(l((s||(s=o(e,t.map(n),Ge)))(m)))},c.domain=function(m){return arguments.length?(t=Array.from(m,Xr),u()):t.slice()},c.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},c.rangeRound=function(m){return e=Array.from(m),r=Pr,u()},c.clamp=function(m){return arguments.length?(a=m?!0:ve,u()):a!==ve},c.interpolate=function(m){return arguments.length?(r=m,u()):r},c.unknown=function(m){return arguments.length?(i=m,c):i},function(m,y){return n=m,l=y,u()}}function Qr(){return Yr()(ve,ve)}function Zr(t,e,r,n){var l=ir(t,e,r),i;switch(n=Ye(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Br(l,a))&&(n.precision=i),En(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Wr(l,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=jr(l))&&(n.precision=i-(n.type==="%")*2);break}}return Te(n)}function $r(t){var e=t.domain;return t.ticks=function(r){var n=e();return lr(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var l=e();return Zr(l[0],l[l.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),l=0,i=n.length-1,a=n[l],o=n[i],f,s,u=10;for(o<a&&(s=a,a=o,o=s,s=l,l=i,i=s);u-- >0;){if(s=lt(a,o,r),s===f)return n[l]=a,n[i]=o,e(n);if(s>0)a=Math.floor(a/s)*s,o=Math.ceil(o/s)*s;else if(s<0)a=Math.ceil(a*s)/s,o=Math.floor(o*s)/s;else break;f=s}return t},t}function we(){var t=Qr();return t.copy=function(){return Jr(t,we())},Fr.apply(t,arguments),$r(t)}function st(t){return Te(".0%")(t)}function el(t,e){return[t*Math.sin(e),t*Math.cos(e)]}function We(t,e,r){r=Math.min(r,t);function n(i){return Math.acos(i/t)}function l(i){return-1/2*t**2*(i-Math.sin(i)*Math.cos(i))}return l(n(r))-l(n(e))}function qe({layerRadius:t,cutY:e,cutX:r,nextCutX:n}){const l=Math.sqrt(t**2-e**2),i=Math.min(l,n);return We(t,r,i)-(i-r)*e}function tl({slope:t,yIntercept:e,radius:r}){const n=e**2*t**2-(t**2+1)*(e**2-r**2);return{discriminant:n,doesIntersect:n>0}}function je({slope:t,yIntercept:e,x1:r,x2:n}){return 1/2*t*(n**2-r**2)+e*(n-r)}function Dt(t,e,r){return t>e&&t-e>3e-14&&t<r&&r-t>3e-14}function nl(t){return t.map(({pieceColumn:e})=>e.map(({pieceArea:r,subPieces:n})=>n.length?n:r)).flat(2)}function rl(t){return t.map(({pieces:e})=>e.map(({area:r,subPieces:n})=>n.length?n:r)).flat(2)}class Lt{constructor({radius:e,numLayers:r,numCuts:n,cutType:l,cutTargetDepthPercentage:i,numHorizontalCuts:a}){this.radius=e,this.numLayers=r,this.numCuts=n,this.cutType=l,this.cutTargetDepthPercentage=i,this.numHorizontalCuts=a}get rScale(){return we().domain([0,this.numLayers]).range([0,this.radius])}get layerRadii(){return Array.from({length:this.numLayers}).map((e,r)=>this.rScale(r+1))}get layerArcs(){return this.layerRadii.map(e=>r=>Math.sqrt(e**2-r**2))}get cutNumbers(){return Array.from({length:this.numCuts}).map((e,r)=>r)}get cutWidthScale(){return we().domain([0,this.numCuts]).range([0,this.radius])}get cutAngleScale(){return we().domain([0,this.numCuts]).range([Math.PI/2,0])}get cutTargetDepth(){return this.radius*this.cutTargetDepthPercentage}get horizontalCutNumbers(){return Array.from({length:this.numHorizontalCuts}).map((e,r)=>r).reverse()}get horizontalCutScale(){return we().domain([0,this.numHorizontalCuts]).range([1/(this.numHorizontalCuts+1),1])}get storageKey(){return[`${this.numLayers}l`,`${this.numCuts}c`,this.cutType==="radial"?"r":"v",...this.cutType==="radial"?[`${st(this.cutTargetDepthPercentage)}d`]:[],`${this.numHorizontalCuts}h`].join(":")}get verticalAreas(){const e=this.cutNumbers,r=this.cutWidthScale,n=this.radius,l=this.layerRadii,i=this.horizontalCutNumbers,a=this.horizontalCutScale,o=e.map(f=>({cutX:r(f),pieceColumn:[]}));return e.forEach(f=>{const{cutX:s,pieceColumn:u}=o[f];l.forEach((c,m)=>{const y=m===0,x=l[m-1];if(c>s){const b=r(f+1),d=We(c,s,b),p=u.length?d-u.at(-1).verticalCutArea:d,_=[y?0:Math.sqrt(x**2-b**2)||0,Math.sqrt(c**2-s**2)];let v=[];i.forEach(H=>{const k=a(H)*n;if(Dt(k,_[0],_[1])){let z=qe({layerRadius:c,cutY:k,cutX:s,nextCutX:b});const A=Math.sqrt(x**2-s**2);if(k<A&&(z-=qe({layerRadius:x,cutY:k,cutX:s,nextCutX:b})),v.length){const L=v[0];v=[L,z-L,p-z]}else v=[z,p-z]}}),u.push({layerRadius:c,verticalCutArea:d,pieceArea:p,yRange:_,subPieces:v})}})}),o}get radialAreas(){const e=this.layerRadii,r=this.cutAngleScale,n=this.radius,l=this.cutNumbers,i=this.cutTargetDepth,a=this.horizontalCutNumbers,o=this.horizontalCutScale;function f(c){return m=>c*m-i}function s(c){const m=r(c);return(i+n*Math.sin(m))/(n*Math.cos(m))}const u=e.map(c=>{const m=[];return l.forEach(y=>{const x=s(y),b=f(x),{discriminant:d,doesIntersect:p}=tl({slope:x,yIntercept:-i,radius:c});if(p){const _=(i*x+Math.sqrt(d))/(x**2+1);_>0&&b(_)>0&&m.push({xOfLeftCutIntersection:_,leftCutLineSlope:x})}}),{layerRadius:c,pieces:m}});return u.forEach(({pieces:c,layerRadius:m},y,x)=>{const b=y===0,d=x[y-1];c.forEach((p,_,v)=>{var S,_e,pe;const H=_===0,k=_===v.length-1,{leftCutLineSlope:z,xOfLeftCutIntersection:A}=p,L=[void 0,void 0],G=[void 0,void 0],K=v[_+1];function P($){var $e,oe;const se=($e=d==null?void 0:d.pieces[$])==null?void 0:$e.xOfLeftCutIntersection,he=i/((oe=v[$])==null?void 0:oe.leftCutLineSlope);return se??he}L[0]=A,L[1]=k?m:K.xOfLeftCutIntersection,H||(L[0]=P(_)),p.xRange=L,G[0]=k||b?0:Math.sqrt(d.layerRadius**2-((S=d.pieces[_+1])==null?void 0:S.xOfLeftCutIntersection)**2)||0,G[1]=Math.sqrt(m**2-A**2),p.yRange=G;let O=We(m,A,L[1]);if(H||(O+=je({slope:z,yIntercept:-i,x1:L[0],x2:A})),!k){const $=P(_+1);O-=je({slope:K.leftCutLineSlope,yIntercept:-i,x1:$,x2:L[1]})}const I=(_e=d==null?void 0:d.pieces[_])==null?void 0:_e.xRange[1];!b&&I>L[0]&&(O-=We(d.layerRadius,(pe=d.pieces[_])==null?void 0:pe.xOfLeftCutIntersection,I)),p.area=O;let q=[];a.forEach($=>{const se=o($)*n;if(Dt(se,G[0],G[1])){let he=qe({layerRadius:m,cutY:se,cutX:A,nextCutX:L[1]});if(!H){const oe=Math.max((se+i)/z,L[0]);he+=je({slope:z,yIntercept:-i,x1:oe,x2:A})-(A-oe)*se}if(!b&&se<Math.sqrt(d.layerRadius**2-L[0]**2)){const oe=Math.sqrt(d.layerRadius**2-se**2);he-=qe({layerRadius:d.layerRadius,cutY:se,cutX:L[0],nextCutX:oe})}if(!k&&se<Math.sqrt(m**2-L[1]**2)){const oe=(se+i)/K.leftCutLineSlope;he-=je({slope:K.leftCutLineSlope,yIntercept:-i,x1:oe,x2:L[1]})-(L[1]-oe)*se}if(q.length){const oe=q[0];q=[oe,he-oe,O-he]}else q=[he,O-he]}}),p.subPieces=q})}),u}get standardDeviation(){const e=this.cutType==="vertical"?nl(this.verticalAreas):rl(this.radialAreas),r=er(e),n=ar(e);return+Te(".3f")(r/n*100)}}function ll(t){let e,r,n;return{c(){e=ie("line"),this.h()},l(l){e=ae(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),N(e).forEach(g),this.h()},h(){h(e,"x1",r=-t[0]/2),h(e,"y1",t[1]),h(e,"x2",n=t[0]/2),h(e,"y2",t[1]),h(e,"class","svelte-14x1u0r")},m(l,i){E(l,e,i)},p(l,[i]){i&1&&r!==(r=-l[0]/2)&&h(e,"x1",r),i&1&&n!==(n=l[0]/2)&&h(e,"x2",n)},i:j,o:j,d(l){l&&g(e)}}}function il(t,e,r){let{width:n}=e,{height:l}=e,{isBottom:i=!1}=e,a=i?l:0;return t.$$set=o=>{"width"in o&&r(0,n=o.width),"height"in o&&r(2,l=o.height),"isBottom"in o&&r(3,i=o.isBottom)},[n,a,l,i]}class Rt extends ne{constructor(e){super(),re(this,e,il,ll,te,{width:0,height:2,isBottom:3})}}function al(t){let e;return{c(){e=ie("line"),this.h()},l(r){e=ae(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),N(e).forEach(g),this.h()},h(){h(e,"x1","0"),h(e,"y1",0),h(e,"x2","0"),h(e,"y2",t[0])},m(r,n){E(r,e,n)},p(r,[n]){n&1&&h(e,"y2",r[0])},i:j,o:j,d(r){r&&g(e)}}}function ol(t,e,r){let{height:n}=e;return t.$$set=l=>{"height"in l&&r(0,n=l.height)},[n]}class sl extends ne{constructor(e){super(),re(this,e,ol,al,te,{height:0})}}function Ot(t,e,r){const n=t.slice();return n[4]=e[r],n}function Ht(t){let e,r;return{c(){e=ie("circle"),this.h()},l(n){e=ae(n,"circle",{cx:!0,cy:!0,r:!0,class:!0}),N(e).forEach(g),this.h()},h(){h(e,"cx","0"),h(e,"cy",t[0]),h(e,"r",r=t[4]),h(e,"class","svelte-15uhuih")},m(n,l){E(n,e,l)},p(n,l){l&1&&h(e,"cy",n[0]),l&2&&r!==(r=n[4])&&h(e,"r",r)},d(n){n&&g(e)}}}function ul(t){let e,r=U(t[1]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Ht(Ot(t,r,l));return{c(){e=ie("g");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=ae(l,"g",{class:!0});var i=N(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(g),this.h()},h(){h(e,"class","onion")},m(l,i){E(l,e,i);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(l,[i]){if(i&3){r=U(l[1]);let a;for(a=0;a<r.length;a+=1){const o=Ot(l,r,a);n[a]?n[a].p(o,i):(n[a]=Ht(o),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},i:j,o:j,d(l){l&&g(e),ue(n,l)}}}function fl(t,e,r){let n,l,{height:i}=e;const a=Ne("onionStore");return Qe(t,a,o=>r(3,l=o)),t.$$set=o=>{"height"in o&&r(0,i=o.height)},t.$$.update=()=>{t.$$.dirty&8&&r(1,{layerRadii:n}=l,n)},[i,n,a,l]}class cl extends ne{constructor(e){super(),re(this,e,fl,ul,te,{height:0})}}function qt(t,e,r){const n=t.slice();n[13]=e[r];const l=n[3](n[13])*n[10];n[14]=l;const i=n[2](n[14]);return n[15]=i,n}function jt(t,e,r){const n=t.slice();return n[13]=e[r],n}function hl(t){const e=t.slice(),r=e[6](e[13]+1);e[21]=r;const n=el(e[10],e[21]);return e[22]=n[0],e[23]=n[1],e}function gl(t){const e=t.slice(),r=e[7](e[13]);return e[20]=r,e}function Bt(t){let e,r,n,l;return{c(){e=ie("line"),this.h()},l(i){e=ae(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),N(e).forEach(g),this.h()},h(){h(e,"x1",r=t[22]*2),h(e,"y1",n=t[2](t[23]*2+t[5])),h(e,"x2","0"),h(e,"y2",l=t[2](-t[5])),h(e,"class","svelte-1j3y5u1")},m(i,a){E(i,e,a)},p(i,a){a&1600&&r!==(r=i[22]*2)&&h(e,"x1",r),a&1636&&n!==(n=i[2](i[23]*2+i[5]))&&h(e,"y1",n),a&36&&l!==(l=i[2](-i[5]))&&h(e,"y2",l)},d(i){i&&g(e)}}}function Wt(t){let e,r,n;return{c(){e=ie("line"),this.h()},l(l){e=ae(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),N(e).forEach(g),this.h()},h(){h(e,"x1",r=t[20]),h(e,"y1","0"),h(e,"x2",n=t[20]),h(e,"y2",t[1]),h(e,"class","svelte-1j3y5u1")},m(l,i){E(l,e,i)},p(l,i){i&640&&r!==(r=l[20])&&h(e,"x1",r),i&640&&n!==(n=l[20])&&h(e,"x2",n),i&2&&h(e,"y2",l[1])},d(l){l&&g(e)}}}function Ft(t){let e;function r(a,o){if(a[8]==="vertical")return Wt;if(a[8]==="radial")return Bt}function n(a,o){if(o===Wt)return gl(a);if(o===Bt)return hl(a)}let l=r(t),i=l&&l(n(t,l));return{c(){i&&i.c(),e=X()},l(a){i&&i.l(a),e=X()},m(a,o){i&&i.m(a,o),E(a,e,o)},p(a,o){l===(l=r(a))&&i?i.p(n(a,l),o):(i&&i.d(1),i=l&&l(n(a,l)),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&g(e),i&&i.d(a)}}}function Vt(t){let e,r,n,l,i,a,o=t[14]+"",f,s;return{c(){e=ie("line"),i=ie("text"),a=F("horizontal cut at "),f=F(o),this.h()},l(u){e=ae(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),N(e).forEach(g),i=ae(u,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0,"font-size":!0});var c=N(i);a=V(c,"horizontal cut at "),f=V(c,o),c.forEach(g),this.h()},h(){h(e,"x1","0"),h(e,"y1",r=t[15]),h(e,"x2",n=t[0]/2),h(e,"y2",l=t[15]),h(e,"class","svelte-1j3y5u1"),h(i,"x","0"),h(i,"y",s=t[15]),h(i,"alignment-baseline","central"),h(i,"text-anchor","end"),h(i,"font-size","x-small")},m(u,c){E(u,e,c),E(u,i,c),w(i,a),w(i,f)},p(u,c){c&1052&&r!==(r=u[15])&&h(e,"y1",r),c&1&&n!==(n=u[0]/2)&&h(e,"x2",n),c&1052&&l!==(l=u[15])&&h(e,"y2",l),c&1048&&o!==(o=u[14]+"")&&ee(f,o),c&1052&&s!==(s=u[15])&&h(i,"y",s)},d(u){u&&(g(e),g(i))}}}function ml(t){let e,r,n=U(t[9]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Ft(jt(t,n,o));let i=U(t[4]),a=[];for(let o=0;o<i.length;o+=1)a[o]=Vt(qt(t,i,o));return{c(){e=ie("g");for(let o=0;o<l.length;o+=1)l[o].c();r=X();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=ae(o,"g",{class:!0});var f=N(e);for(let s=0;s<l.length;s+=1)l[s].l(f);r=X();for(let s=0;s<a.length;s+=1)a[s].l(f);f.forEach(g),this.h()},h(){h(e,"class","cuts")},m(o,f){E(o,e,f);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null);w(e,r);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null)},p(o,[f]){if(f&2022){n=U(o[9]);let s;for(s=0;s<n.length;s+=1){const u=jt(o,n,s);l[s]?l[s].p(u,f):(l[s]=Ft(u),l[s].c(),l[s].m(e,r))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}if(f&1053){i=U(o[4]);let s;for(s=0;s<i.length;s+=1){const u=qt(o,i,s);a[s]?a[s].p(u,f):(a[s]=Vt(u),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}},i:j,o:j,d(o){o&&g(e),ue(l,o),ue(a,o)}}}function dl(t,e,r){let n,l,i,a,o,f,s,u,c,{width:m}=e,{height:y}=e,{yScale:x}=e;const b=Ne("onionStore");return Qe(t,b,d=>r(12,c=d)),t.$$set=d=>{"width"in d&&r(0,m=d.width),"height"in d&&r(1,y=d.height),"yScale"in d&&r(2,x=d.yScale)},t.$$.update=()=>{t.$$.dirty&4096&&r(10,{radius:n,cutNumbers:l,cutType:i,cutWidthScale:a,cutAngleScale:o,cutTargetDepth:f,horizontalCutNumbers:s,horizontalCutScale:u}=c,n,(r(9,l),r(12,c)),(r(8,i),r(12,c)),(r(7,a),r(12,c)),(r(6,o),r(12,c)),(r(5,f),r(12,c)),(r(4,s),r(12,c)),(r(3,u),r(12,c)))},[m,y,x,u,s,f,o,a,i,l,n,b,c]}class _l extends ne{constructor(e){super(),re(this,e,dl,ml,te,{width:0,height:1,yScale:2})}}function Xt(t,e,r){const n=t.slice();n[17]=e[r].layerRadius,n[29]=e[r].pieces,n[26]=r;const l=n[29].length;n[30]=l;const i=n[26]===0;n[31]=i;const a=n[26]===n[2].length-1;return n[32]=a,n}function Ut(t,e,r){const n=t.slice();n[34]=e[r].xOfLeftCutIntersection,n[35]=e[r].xRange,n[36]=e[r].area,n[19]=e[r].yRange,n[20]=e[r].subPieces,n[40]=r;const l=n[34];n[37]=l;const i=n[5][n[26]];n[22]=i;const a=n[22](n[37]);n[23]=a;const o=n[0](n[23]);n[38]=o;const f=n[7]!==0&&n[40]===n[30]-1;return n[28]=f,n}function Kt(t,e,r){const n=t.slice();return n[13]=e[r].cutX,n[14]=e[r].pieceColumn,n[16]=r,n}function Gt(t,e,r){const n=t.slice();n[17]=e[r].layerRadius,n[18]=e[r].pieceArea,n[19]=e[r].yRange,n[20]=e[r].subPieces,n[26]=r;const l=n[5].filter(function(...s){return t[11](n[13],...s)});n[21]=l;const i=n[21][n[26]]??n[21][0];n[22]=i;const a=n[22](n[13]);n[23]=a;const o=n[0](n[23]);return n[24]=o,n}function nt(t){const e=t.slice(),r=e[16]===0;e[27]=r;const n=e[26]===0;return e[28]=n,e}function pl(t){let e,r=U(t[2]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Qt(Xt(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=X()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=X()},m(l,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,i);E(l,e,i)},p(l,i){if(i[0]&679){r=U(l[2]);let a;for(a=0;a<r.length;a+=1){const o=Xt(l,r,a);n[a]?n[a].p(o,i):(n[a]=Qt(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&g(e),ue(n,l)}}}function bl(t){let e,r=U(t[3]),n=[];for(let l=0;l<r.length;l+=1)n[l]=en(Kt(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=X()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=X()},m(l,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,i);E(l,e,i)},p(l,i){if(i[0]&571){r=U(l[3]);let a;for(a=0;a<r.length;a+=1){const o=Kt(l,r,a);n[a]?n[a].p(o,i):(n[a]=en(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&g(e),ue(n,l)}}}function Jt(t){let e,r=Math.round(t[36])+"",n,l,i;return{c(){e=ie("text"),n=F(r),this.h()},l(a){e=ae(a,"text",{x:!0,y:!0,"font-size":!0});var o=N(e);n=V(o,r),o.forEach(g),this.h()},h(){h(e,"x",l=t[37]),h(e,"y",i=t[38]),h(e,"font-size","x-small"),ge(e,"primary",t[32]||t[28]),ge(e,"secondary",t[31])},m(a,o){E(a,e,o),w(e,n)},p(a,o){o[0]&4&&r!==(r=Math.round(a[36])+"")&&ee(n,r),o[0]&4&&l!==(l=a[37])&&h(e,"x",l),o[0]&37&&i!==(i=a[38])&&h(e,"y",i),o[0]&132&&ge(e,"primary",a[32]||a[28])},d(a){a&&g(e)}}}function Yt(t){let e,r,n=(t[20].length?JSON.stringify(t[20].map(Math.round)):"")+"",l,i,a,o,f,s=t[1]&&(t[7]===0&&(t[31]||t[32])||t[28])&&Jt(t);return{c(){s&&s.c(),e=B(),r=ie("text"),l=F(n),f=B(),this.h()},l(u){s&&s.l(u),e=W(u),r=ae(u,"text",{x:!0,y:!0,"font-size":!0,"alignment-baseline":!0,fill:!0});var c=N(r);l=V(c,n),c.forEach(g),f=W(u),this.h()},h(){h(r,"x",i=t[37]),h(r,"y",a=t[38]),h(r,"font-size","xx-small"),h(r,"alignment-baseline","hanging"),h(r,"fill",o=t[9][t[20].length])},m(u,c){s&&s.m(u,c),E(u,e,c),E(u,r,c),w(r,l),E(u,f,c)},p(u,c){u[1]&&(u[7]===0&&(u[31]||u[32])||u[28])?s?s.p(u,c):(s=Jt(u),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c[0]&4&&n!==(n=(u[20].length?JSON.stringify(u[20].map(Math.round)):"")+"")&&ee(l,n),c[0]&4&&i!==(i=u[37])&&h(r,"x",i),c[0]&37&&a!==(a=u[38])&&h(r,"y",a),c[0]&4&&o!==(o=u[9][u[20].length])&&h(r,"fill",o)},d(u){u&&(g(e),g(r),g(f)),s&&s.d(u)}}}function Qt(t){let e,r=U(t[29]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Yt(Ut(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=X()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=X()},m(l,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,i);E(l,e,i)},p(l,i){if(i[0]&679){r=U(l[29]);let a;for(a=0;a<r.length;a+=1){const o=Ut(l,r,a);n[a]?n[a].p(o,i):(n[a]=Yt(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&g(e),ue(n,l)}}}function Zt(t){let e,r=(t[27]||t[28])&&yl(t);return{c(){r&&r.c(),e=X()},l(n){r&&r.l(n),e=X()},m(n,l){r&&r.m(n,l),E(n,e,l)},p(n,l){(n[27]||n[28])&&r.p(n,l)},d(n){n&&g(e),r&&r.d(n)}}}function yl(t){let e,r=Math.round(t[18])+"",n,l,i;return{c(){e=ie("text"),n=F(r),this.h()},l(a){e=ae(a,"text",{x:!0,y:!0,"font-size":!0});var o=N(e);n=V(o,r),o.forEach(g),this.h()},h(){h(e,"x",l=t[13]),h(e,"y",i=t[24]),h(e,"font-size","x-small"),ge(e,"primary",t[27]),ge(e,"secondary",t[28])},m(a,o){E(a,e,o),w(e,n)},p(a,o){o[0]&8&&r!==(r=Math.round(a[18])+"")&&ee(n,r),o[0]&8&&l!==(l=a[13])&&h(e,"x",l),o[0]&57&&i!==(i=a[24])&&h(e,"y",i)},d(a){a&&g(e)}}}function $t(t){let e,r=(t[20].length?JSON.stringify(t[20].map(Math.round)):"")+"",n,l,i,a,o,f,s=t[1]&&Zt(nt(t));return{c(){e=ie("text"),n=F(r),o=B(),s&&s.c(),f=X(),this.h()},l(u){e=ae(u,"text",{x:!0,y:!0,"font-size":!0,"alignment-baseline":!0,fill:!0});var c=N(e);n=V(c,r),c.forEach(g),o=W(u),s&&s.l(u),f=X(),this.h()},h(){h(e,"x",l=t[13]),h(e,"y",i=t[24]),h(e,"font-size","xx-small"),h(e,"alignment-baseline","hanging"),h(e,"fill",a=t[9][t[20].length])},m(u,c){E(u,e,c),w(e,n),E(u,o,c),s&&s.m(u,c),E(u,f,c)},p(u,c){c[0]&8&&r!==(r=(u[20].length?JSON.stringify(u[20].map(Math.round)):"")+"")&&ee(n,r),c[0]&8&&l!==(l=u[13])&&h(e,"x",l),c[0]&57&&i!==(i=u[24])&&h(e,"y",i),c[0]&8&&a!==(a=u[9][u[20].length])&&h(e,"fill",a),u[1]?s?s.p(nt(u),c):(s=Zt(nt(u)),s.c(),s.m(f.parentNode,f)):s&&(s.d(1),s=null)},d(u){u&&(g(e),g(o),g(f)),s&&s.d(u)}}}function en(t){let e,r=U(t[14]),n=[];for(let l=0;l<r.length;l+=1)n[l]=$t(Gt(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=X()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=X()},m(l,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,i);E(l,e,i)},p(l,i){if(i[0]&571){r=U(l[14]);let a;for(a=0;a<r.length;a+=1){const o=Gt(l,r,a);n[a]?n[a].p(o,i):(n[a]=$t(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&g(e),ue(n,l)}}}function vl(t){let e;function r(i,a){if(i[6]==="vertical")return bl;if(i[6]==="radial")return pl}let n=r(t),l=n&&n(t);return{c(){l&&l.c(),e=X()},l(i){l&&l.l(i),e=X()},m(i,a){l&&l.m(i,a),E(i,e,a)},p(i,a){n===(n=r(i))&&l?l.p(i,a):(l&&l.d(1),l=n&&n(i),l&&(l.c(),l.m(e.parentNode,e)))},i:j,o:j,d(i){i&&g(e),l&&l.d(i)}}}function wl(t,e,r){let n,l,i,a,o,f,s,u,{yScale:c}=e,{highlightExtremes:m}=e;const y=Ne("onionStore");Qe(t,y,d=>r(10,u=d));const x=["black",void 0,"blue","cyan"],b=(d,p,_)=>a[_]>d;return t.$$set=d=>{"yScale"in d&&r(0,c=d.yScale),"highlightExtremes"in d&&r(1,m=d.highlightExtremes)},t.$$.update=()=>{t.$$.dirty[0]&1024&&r(7,{cutTargetDepthPercentage:n,cutType:l,layerArcs:i,layerRadii:a,numCuts:o,verticalAreas:f,radialAreas:s}=u,n,(r(6,l),r(10,u)),(r(5,i),r(10,u)),(r(4,a),r(10,u)),(r(3,f),r(10,u)),(r(2,s),r(10,u)))},[c,m,s,f,a,i,l,n,y,x,u,b]}class kl extends ne{constructor(e){super(),re(this,e,wl,vl,te,{yScale:0,highlightExtremes:1},null,[-1,-1])}}function tn(t,e,r){const n=t.slice();return n[12]=e[r],n}function nn(t){let e,r;return{c(){e=M("div"),r=F(t[1]),this.h()},l(n){e=C(n,"DIV",{class:!0,id:!0});var l=N(e);r=V(l,t[1]),l.forEach(g),this.h()},h(){h(e,"class","legend svelte-13oh5yk"),h(e,"id","legend-"+t[6])},m(n,l){E(n,e,l),w(e,r)},p(n,l){l&2&&ee(r,n[1])},d(n){n&&g(e)}}}function rn(t){let e,r,n,l,i=!1,a,o,f=(t[12].label||t[12].value)+"",s,u,c,m,y,x,b;return y=Nn(t[10][0]),{c(){e=M("div"),r=M("input"),a=B(),o=M("label"),s=F(f),m=B(),this.h()},l(d){e=C(d,"DIV",{class:!0});var p=N(e);r=C(p,"INPUT",{type:!0,id:!0,name:!0,class:!0}),a=W(p),o=C(p,"LABEL",{class:!0,for:!0});var _=N(o);s=V(_,f),_.forEach(g),m=W(p),p.forEach(g),this.h()},h(){h(r,"type","radio"),h(r,"id",n=`${t[6]}-${t[12].slug}`),h(r,"name","name-"+t[6]),h(r,"class","sr-only svelte-13oh5yk"),r.__value=l=t[12].value,Me(r,r.__value),r.disabled=t[3],h(o,"class",u="option "+t[2]+" svelte-13oh5yk"),h(o,"for",c=`${t[6]}-${t[12].slug}`),h(e,"class","option svelte-13oh5yk"),y.p(r)},m(d,p){E(d,e,p),w(e,r),r.checked=r.__value===t[0],w(e,a),w(e,o),w(o,s),w(e,m),x||(b=Pe(r,"change",t[9]),x=!0)},p(d,p){p&32&&n!==(n=`${d[6]}-${d[12].slug}`)&&h(r,"id",n),p&32&&l!==(l=d[12].value)&&(r.__value=l,Me(r,r.__value),i=!0),p&8&&(r.disabled=d[3]),(i||p&33)&&(r.checked=r.__value===d[0]),p&32&&f!==(f=(d[12].label||d[12].value)+"")&&ee(s,f),p&4&&u!==(u="option "+d[2]+" svelte-13oh5yk")&&h(o,"class",u),p&32&&c!==(c=`${d[6]}-${d[12].slug}`)&&h(o,"for",c)},d(d){d&&g(e),y.r(),x=!1,b()}}}function xl(t){let e,r,n,l,i=t[1]&&nn(t),a=U(t[5]),o=[];for(let f=0;f<a.length;f+=1)o[f]=rn(tn(t,a,f));return{c(){e=M("div"),r=M("div"),i&&i.c(),n=B(),l=M("div");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=C(f,"DIV",{class:!0});var s=N(e);r=C(s,"DIV",{id:!0,class:!0,role:!0,"aria-labelledby":!0});var u=N(r);i&&i.l(u),n=W(u),l=C(u,"DIV",{class:!0});var c=N(l);for(let m=0;m<o.length;m+=1)o[m].l(c);c.forEach(g),u.forEach(g),s.forEach(g),this.h()},h(){h(l,"class","options svelte-13oh5yk"),h(r,"id",`group-${t[6]}`),h(r,"class","group svelte-13oh5yk"),h(r,"role","radiogroup"),h(r,"aria-labelledby",`label-${t[6]}`),ge(r,"is-top",t[4]),h(e,"class","button-set svelte-13oh5yk")},m(f,s){E(f,e,s),w(e,r),i&&i.m(r,null),w(r,n),w(r,l);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(l,null)},p(f,[s]){if(f[1]?i?i.p(f,s):(i=nn(f),i.c(),i.m(r,n)):i&&(i.d(1),i=null),s&109){a=U(f[5]);let u;for(u=0;u<a.length;u+=1){const c=tn(f,a,u);o[u]?o[u].p(c,s):(o[u]=rn(c),o[u].c(),o[u].m(l,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=a.length}s&16&&ge(r,"is-top",f[4])},i:j,o:j,d(f){f&&g(e),i&&i.d(),ue(o,f)}}}function Ml(t,e,r){let n,l,{options:i=[]}=e,{legend:a=""}=e,{legendPosition:o="top"}=e,{labelClass:f=""}=e,{disabled:s=!1}=e,{value:u=i.length?i[0].value:""}=e;const c=`legend-${Math.floor(Math.random()*1e6)}`,m=(b="")=>`${b}`.toLowerCase().replace(/\W/g,""),y=[[]];function x(){u=this.__value,r(0,u)}return t.$$set=b=>{"options"in b&&r(7,i=b.options),"legend"in b&&r(1,a=b.legend),"legendPosition"in b&&r(8,o=b.legendPosition),"labelClass"in b&&r(2,f=b.labelClass),"disabled"in b&&r(3,s=b.disabled),"value"in b&&r(0,u=b.value)},t.$$.update=()=>{t.$$.dirty&128&&r(5,n=i.map(b=>({...b,val:b.value,slug:m(b.value)}))),t.$$.dirty&256&&r(4,l=o==="top")},[u,a,f,s,l,n,c,i,o,x,y]}class Cl extends ne{constructor(e){super(),re(this,e,Ml,xl,te,{options:7,legend:1,legendPosition:8,labelClass:2,disabled:3,value:0})}}function ln(t,e,r){const n=t.slice();return n[10]=e[r],n}function an(t){let e,r=Te(`.${t[6]}f`)(t[10])+"",n;return{c(){e=M("span"),n=F(r),this.h()},l(l){e=C(l,"SPAN",{class:!0});var i=N(e);n=V(i,r),i.forEach(g),this.h()},h(){h(e,"class","tick svelte-q7ecsm")},m(l,i){E(l,e,i),w(e,n)},p(l,i){i&96&&r!==(r=Te(`.${l[6]}f`)(l[10])+"")&&ee(n,r)},d(l){l&&g(e)}}}function El(t){let e,r,n,l,i,a,o=U(t[5]),f=[];for(let s=0;s<o.length;s+=1)f[s]=an(ln(t,o,s));return{c(){e=M("div"),r=M("div");for(let s=0;s<f.length;s+=1)f[s].c();n=B(),l=M("input"),this.h()},l(s){e=C(s,"DIV",{class:!0});var u=N(e);r=C(u,"DIV",{class:!0});var c=N(r);for(let m=0;m<f.length;m+=1)f[m].l(c);c.forEach(g),n=W(u),l=C(u,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),u.forEach(g),this.h()},h(){h(r,"class","ticks svelte-q7ecsm"),h(l,"type","range"),h(l,"aria-label",t[4]),h(l,"min",t[1]),h(l,"max",t[2]),h(l,"step",t[3]),h(l,"class","svelte-q7ecsm"),h(e,"class","range svelte-q7ecsm")},m(s,u){E(s,e,u),w(e,r);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(r,null);w(e,n),w(e,l),Me(l,t[0]),i||(a=[Pe(l,"change",t[8]),Pe(l,"input",t[8])],i=!0)},p(s,[u]){if(u&96){o=U(s[5]);let c;for(c=0;c<o.length;c+=1){const m=ln(s,o,c);f[c]?f[c].p(m,u):(f[c]=an(m),f[c].c(),f[c].m(r,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=o.length}u&16&&h(l,"aria-label",s[4]),u&2&&h(l,"min",s[1]),u&4&&h(l,"max",s[2]),u&8&&h(l,"step",s[3]),u&1&&Me(l,s[0])},i:j,o:j,d(s){s&&g(e),ue(f,s),i=!1,Pn(a)}}}function Sl(t,e,r){let n,l,{min:i=0}=e,{max:a=100}=e,{step:o=1}=e,{showTicks:f=!1}=e,{value:s=i}=e,{label:u=""}=e;const c=y=>Math.floor(y)===y?0:y.toString().split(".")[1].length||0;function m(){s=ut(this.value),r(0,s)}return t.$$set=y=>{"min"in y&&r(1,i=y.min),"max"in y&&r(2,a=y.max),"step"in y&&r(3,o=y.step),"showTicks"in y&&r(7,f=y.showTicks),"value"in y&&r(0,s=y.value),"label"in y&&r(4,u=y.label)},t.$$.update=()=>{t.$$.dirty&8&&r(6,n=c(o)),t.$$.dirty&142&&r(5,l=f?or(i,a+o,o):[])},[s,i,a,o,u,l,n,f,m]}class Ze extends ne{constructor(e){super(),re(this,e,Sl,El,te,{min:1,max:2,step:3,showTicks:7,value:0,label:4})}}function on(t){let e,r=t[2][0]+"",n,l,i,a=t[2][1]+"",o;return{c(){e=M("span"),n=F(r),l=B(),i=M("span"),o=F(a),this.h()},l(f){e=C(f,"SPAN",{class:!0});var s=N(e);n=V(s,r),s.forEach(g),l=W(f),i=C(f,"SPAN",{class:!0});var u=N(i);o=V(u,a),u.forEach(g),this.h()},h(){h(e,"class","svelte-157h5as"),h(i,"class","svelte-157h5as")},m(f,s){E(f,e,s),w(e,n),E(f,l,s),E(f,i,s),w(i,o)},p(f,s){s&4&&r!==(r=f[2][0]+"")&&ee(n,r),s&4&&a!==(a=f[2][1]+"")&&ee(o,a)},d(f){f&&(g(e),g(l),g(i))}}}function Al(t){let e,r,n,l,i,a,o,f,s=t[1]==="inner"&&on(t);return{c(){e=M("div"),r=M("span"),n=F(t[0]),l=B(),i=M("button"),s&&s.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var c=N(e);r=C(c,"SPAN",{class:!0,id:!0});var m=N(r);n=V(m,t[0]),m.forEach(g),l=W(c),i=C(c,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var y=N(i);s&&s.l(y),y.forEach(g),c.forEach(g),this.h()},h(){h(r,"class","label svelte-157h5as"),h(r,"id",t[4]),h(i,"role","switch"),h(i,"aria-checked",t[3]),h(i,"aria-labelledby",t[4]),h(i,"class","svelte-157h5as"),h(e,"class",a="toggle toggle--"+t[1]+" svelte-157h5as")},m(u,c){E(u,e,c),w(e,r),w(r,n),w(e,l),w(e,i),s&&s.m(i,null),o||(f=Pe(i,"click",t[5]),o=!0)},p(u,[c]){c&1&&ee(n,u[0]),u[1]==="inner"?s?s.p(u,c):(s=on(u),s.c(),s.m(i,null)):s&&(s.d(1),s=null),c&8&&h(i,"aria-checked",u[3]),c&2&&a!==(a="toggle toggle--"+u[1]+" svelte-157h5as")&&h(e,"class",a)},i:j,o:j,d(u){u&&g(e),s&&s.d(),o=!1,f()}}}function Tl(t,e,r){let{label:n}=e,{style:l="inner"}=e,{options:i=["on","off"]}=e,{value:a=i[0]}=e,o=a===i[0];const f=`toggle-${Math.floor(Math.random()*1e6)}`,s=u=>{const m=u.target.getAttribute("aria-checked");r(3,o=m!=="true"),r(6,a=o?i[0]:i[1])};return t.$$set=u=>{"label"in u&&r(0,n=u.label),"style"in u&&r(1,l=u.style),"options"in u&&r(2,i=u.options),"value"in u&&r(6,a=u.value)},[n,l,i,o,f,s,a]}class Nl extends ne{constructor(e){super(),re(this,e,Tl,Al,te,{label:0,style:1,options:2,value:6})}}function sn(t){let e,r,n,l=t[10]&&un(t),i=t[11]&&fn(t);return{c(){e=M("div"),l&&l.c(),r=B(),i&&i.c(),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=N(e);l&&l.l(o),r=W(o),i&&i.l(o),o.forEach(g),this.h()},h(){h(e,"class","controls top svelte-1kzg2dw")},m(a,o){E(a,e,o),l&&l.m(e,null),w(e,r),i&&i.m(e,null),n=!0},p(a,o){a[10]?l?(l.p(a,o),o&1024&&D(l,1)):(l=un(a),l.c(),D(l,1),l.m(e,r)):l&&(me(),R(l,1,1,()=>{l=null}),de()),a[11]?i?i.p(a,o):(i=fn(a),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(a){n||(D(l),n=!0)},o(a){R(l),n=!1},d(a){a&&g(e),l&&l.d(),i&&i.d()}}}function un(t){let e,r,n;function l(a){t[21](a)}let i={label:"explode",style:"slider"};return t[15]!==void 0&&(i.value=t[15]),e=new Nl({props:i}),Ce.push(()=>Se(e,"value",l)),{c(){J(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,o){Q(e,a,o),n=!0},p(a,o){const f={};!r&&o&32768&&(r=!0,f.value=a[15],Ee(()=>r=!1)),e.$set(f)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){R(e.$$.fragment,a),n=!1},d(a){Z(e,a)}}}function fn(t){let e,r,n,l,i;return{c(){e=M("label"),r=F(`standard deviation
					`),n=M("input"),this.h()},l(a){e=C(a,"LABEL",{class:!0});var o=N(e);r=V(o,`standard deviation
					`),n=C(o,"INPUT",{type:!0}),o.forEach(g),this.h()},h(){h(n,"type","number"),n.readOnly=!0,h(e,"class","standard-deviation")},m(a,o){E(a,e,o),w(e,r),w(e,n),Me(n,t[16].standardDeviation),l||(i=Pe(n,"input",t[22]),l=!0)},p(a,o){o&65536&&ut(n.value)!==a[16].standardDeviation&&Me(n,a[16].standardDeviation)},d(a){a&&g(e),l=!1,i()}}}function cn(t){let e,r;return e=new _l({props:{width:ke,height:t[17],yScale:t[18]}}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,l){Q(e,n,l),r=!0},p:j,i(n){r||(D(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){Z(e,n)}}}function hn(t){let e,r,n,l,i,a,o,f,s,u,c,m=t[5]&&gn(t);function y(p){t[24](p)}let x={min:1,max:10,label:"number of cuts"};t[13]!==void 0&&(x.value=t[13]),o=new Ze({props:x}),Ce.push(()=>Se(o,"value",y));let b=t[6]&&mn(t),d=t[8]&&dn(t);return{c(){e=M("div"),m&&m.c(),r=B(),n=M("p"),l=F("number of cuts: "),i=F(t[13]),a=B(),J(o.$$.fragment),s=B(),b&&b.c(),u=B(),d&&d.c(),this.h()},l(p){e=C(p,"DIV",{class:!0});var _=N(e);m&&m.l(_),r=W(_),n=C(_,"P",{});var v=N(n);l=V(v,"number of cuts: "),i=V(v,t[13]),v.forEach(g),a=W(_),Y(o.$$.fragment,_),s=W(_),b&&b.l(_),u=W(_),d&&d.l(_),_.forEach(g),this.h()},h(){h(e,"class","controls bottom svelte-1kzg2dw")},m(p,_){E(p,e,_),m&&m.m(e,null),w(e,r),w(e,n),w(n,l),w(n,i),w(e,a),Q(o,e,null),w(e,s),b&&b.m(e,null),w(e,u),d&&d.m(e,null),c=!0},p(p,_){p[5]?m?(m.p(p,_),_&32&&D(m,1)):(m=gn(p),m.c(),D(m,1),m.m(e,r)):m&&(me(),R(m,1,1,()=>{m=null}),de()),(!c||_&8192)&&ee(i,p[13]);const v={};!f&&_&8192&&(f=!0,v.value=p[13],Ee(()=>f=!1)),o.$set(v),p[6]?b?(b.p(p,_),_&64&&D(b,1)):(b=mn(p),b.c(),D(b,1),b.m(e,u)):b&&(me(),R(b,1,1,()=>{b=null}),de()),p[8]?d?(d.p(p,_),_&256&&D(d,1)):(d=dn(p),d.c(),D(d,1),d.m(e,null)):d&&(me(),R(d,1,1,()=>{d=null}),de())},i(p){c||(D(m),D(o.$$.fragment,p),D(b),D(d),c=!0)},o(p){R(m),R(o.$$.fragment,p),R(b),R(d),c=!1},d(p){p&&g(e),m&&m.d(),Z(o),b&&b.d(),d&&d.d()}}}function gn(t){let e,r,n,l,i,a,o;function f(u){t[23](u)}let s={min:7,max:13,label:"number of layers"};return t[12]!==void 0&&(s.value=t[12]),i=new Ze({props:s}),Ce.push(()=>Se(i,"value",f)),{c(){e=M("p"),r=F("number of layers: "),n=F(t[12]),l=B(),J(i.$$.fragment)},l(u){e=C(u,"P",{});var c=N(e);r=V(c,"number of layers: "),n=V(c,t[12]),c.forEach(g),l=W(u),Y(i.$$.fragment,u)},m(u,c){E(u,e,c),w(e,r),w(e,n),E(u,l,c),Q(i,u,c),o=!0},p(u,c){(!o||c&4096)&&ee(n,u[12]);const m={};!a&&c&4096&&(a=!0,m.value=u[12],Ee(()=>a=!1)),i.$set(m)},i(u){o||(D(i.$$.fragment,u),o=!0)},o(u){R(i.$$.fragment,u),o=!1},d(u){u&&(g(e),g(l)),Z(i,u)}}}function mn(t){let e,r,n,l,i,a,o=st(-t[1])+"",f,s,u,c,m,y;function x(_){t[25](_)}let b={legend:"cut type",options:t[19]};t[0]!==void 0&&(b.value=t[0]),e=new Cl({props:b}),Ce.push(()=>Se(e,"value",x));function d(_){t[26](_)}let p={min:0,max:1,step:.01,label:"cut target depth percentage"};return t[1]!==void 0&&(p.value=t[1]),c=new Ze({props:p}),Ce.push(()=>Se(c,"value",d)),{c(){J(e.$$.fragment),n=B(),l=M("div"),i=M("p"),a=F(`cut target height:
						`),f=F(o),s=F(" of outer radius"),u=B(),J(c.$$.fragment),this.h()},l(_){Y(e.$$.fragment,_),n=W(_),l=C(_,"DIV",{class:!0});var v=N(l);i=C(v,"P",{});var H=N(i);a=V(H,`cut target height:
						`),f=V(H,o),s=V(H," of outer radius"),H.forEach(g),u=W(v),Y(c.$$.fragment,v),v.forEach(g),this.h()},h(){h(l,"class","svelte-1kzg2dw"),ge(l,"hidden",!(t[0]==="radial"&&t[7]))},m(_,v){Q(e,_,v),E(_,n,v),E(_,l,v),w(l,i),w(i,a),w(i,f),w(i,s),w(l,u),Q(c,l,null),y=!0},p(_,v){const H={};!r&&v&1&&(r=!0,H.value=_[0],Ee(()=>r=!1)),e.$set(H),(!y||v&2)&&o!==(o=st(-_[1])+"")&&ee(f,o);const k={};!m&&v&2&&(m=!0,k.value=_[1],Ee(()=>m=!1)),c.$set(k),(!y||v&129)&&ge(l,"hidden",!(_[0]==="radial"&&_[7]))},i(_){y||(D(e.$$.fragment,_),D(c.$$.fragment,_),y=!0)},o(_){R(e.$$.fragment,_),R(c.$$.fragment,_),y=!1},d(_){_&&(g(n),g(l)),Z(e,_),Z(c)}}}function dn(t){let e,r,n,l,i,a,o;function f(u){t[27](u)}let s={min:0,max:2,label:"horizontal cuts"};return t[14]!==void 0&&(s.value=t[14]),i=new Ze({props:s}),Ce.push(()=>Se(i,"value",f)),{c(){e=M("p"),r=F("horizontal cuts: "),n=F(t[14]),l=B(),J(i.$$.fragment)},l(u){e=C(u,"P",{});var c=N(e);r=V(c,"horizontal cuts: "),n=V(c,t[14]),c.forEach(g),l=W(u),Y(i.$$.fragment,u)},m(u,c){E(u,e,c),w(e,r),w(e,n),E(u,l,c),Q(i,u,c),o=!0},p(u,c){(!o||c&16384)&&ee(n,u[14]);const m={};!a&&c&16384&&(a=!0,m.value=u[14],Ee(()=>a=!1)),i.$set(m)},i(u){o||(D(i.$$.fragment,u),o=!0)},o(u){R(i.$$.fragment,u),o=!1},d(u){u&&(g(e),g(l)),Z(i,u)}}}function _n(t){let e,r;return{c(){e=M("figcaption"),r=F(t[9])},l(n){e=C(n,"FIGCAPTION",{});var l=N(e);r=V(l,t[9]),l.forEach(g)},m(n,l){E(n,e,l),w(e,r)},p(n,l){l&512&&ee(r,n[9])},d(n){n&&g(e)}}}function Pl(t){let e,r,n,l,i,a,o,f,s,u,c,m,y=(t[10]||t[11])&&sn(t);l=new Rt({props:{width:ke,height:t[17]}}),i=new Rt({props:{width:ke,height:t[17],isBottom:!0}}),a=new sl({props:{height:t[17]}}),o=new cl({props:{height:t[17]}});let x=t[2]&&cn(t);s=new kl({props:{yScale:t[18],highlightExtremes:t[3]}});let b=t[4]&&hn(t),d=t[9]&&_n(t);return{c(){e=M("figure"),y&&y.c(),r=B(),n=ie("svg"),J(l.$$.fragment),J(i.$$.fragment),J(a.$$.fragment),J(o.$$.fragment),x&&x.c(),f=X(),J(s.$$.fragment),u=B(),b&&b.c(),c=B(),d&&d.c(),this.h()},l(p){e=C(p,"FIGURE",{class:!0});var _=N(e);y&&y.l(_),r=W(_),n=ae(_,"svg",{viewBox:!0});var v=N(n);Y(l.$$.fragment,v),Y(i.$$.fragment,v),Y(a.$$.fragment,v),Y(o.$$.fragment,v),x&&x.l(v),f=X(),Y(s.$$.fragment,v),v.forEach(g),u=W(_),b&&b.l(_),c=W(_),d&&d.l(_),_.forEach(g),this.h()},h(){h(n,"viewBox",-ke/2+" 0 "+ke+" "+t[17]),h(e,"class","svelte-1kzg2dw")},m(p,_){E(p,e,_),y&&y.m(e,null),w(e,r),w(e,n),Q(l,n,null),Q(i,n,null),Q(a,n,null),Q(o,n,null),x&&x.m(n,null),w(n,f),Q(s,n,null),w(e,u),b&&b.m(e,null),w(e,c),d&&d.m(e,null),m=!0},p(p,[_]){p[10]||p[11]?y?(y.p(p,_),_&3072&&D(y,1)):(y=sn(p),y.c(),D(y,1),y.m(e,r)):y&&(me(),R(y,1,1,()=>{y=null}),de()),p[2]?x?(x.p(p,_),_&4&&D(x,1)):(x=cn(p),x.c(),D(x,1),x.m(n,f)):x&&(me(),R(x,1,1,()=>{x=null}),de());const v={};_&8&&(v.highlightExtremes=p[3]),s.$set(v),p[4]?b?(b.p(p,_),_&16&&D(b,1)):(b=hn(p),b.c(),D(b,1),b.m(e,c)):b&&(me(),R(b,1,1,()=>{b=null}),de()),p[9]?d?d.p(p,_):(d=_n(p),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(p){m||(D(y),D(l.$$.fragment,p),D(i.$$.fragment,p),D(a.$$.fragment,p),D(o.$$.fragment,p),D(x),D(s.$$.fragment,p),D(b),m=!0)},o(p){R(y),R(l.$$.fragment,p),R(i.$$.fragment,p),R(a.$$.fragment,p),R(o.$$.fragment,p),R(x),R(s.$$.fragment,p),R(b),m=!1},d(p){p&&g(e),y&&y.d(),Z(l),Z(i),Z(a),Z(o),x&&x.d(),Z(s),b&&b.d(),d&&d.d()}}}const ke=600;function Il(t,e,r){let n,{showCuts:l=!0}=e,{highlightExtremes:i=!1}=e,{showControls:a=!0}=e,{controlLayers:o=!1}=e,{controlCutType:f=!1}=e,{controlRadialDepth:s=!1}=e,{controlHorizontalCuts:u=!1}=e,{caption:c=""}=e,{cutType:m="vertical"}=e,{cutTargetDepthPercentage:y=0}=e,{toggleExplode:x=!1}=e,{showStandardDeviation:b=!1}=e;const d=ke/2,p=d*.8,_=we().domain([0,d]).range([d,0]),v=[{value:"vertical"},{value:"radial"}];let H=10,k=10,z=0,A=!1,L=Rn(new Lt({radius:p,numLayers:H,numCuts:k,cutType:m,cutTargetDepthPercentage:y,numHorizontalCuts:z}));Qe(t,L,S=>r(16,n=S)),rt("onionStore",L);function G(S){A=S,r(15,A)}function K(){n.standardDeviation=ut(this.value),L.set(n)}function P(S){H=S,r(12,H)}function O(S){k=S,r(13,k)}function I(S){m=S,r(0,m)}function T(S){y=S,r(1,y)}function q(S){z=S,r(14,z)}return t.$$set=S=>{"showCuts"in S&&r(2,l=S.showCuts),"highlightExtremes"in S&&r(3,i=S.highlightExtremes),"showControls"in S&&r(4,a=S.showControls),"controlLayers"in S&&r(5,o=S.controlLayers),"controlCutType"in S&&r(6,f=S.controlCutType),"controlRadialDepth"in S&&r(7,s=S.controlRadialDepth),"controlHorizontalCuts"in S&&r(8,u=S.controlHorizontalCuts),"caption"in S&&r(9,c=S.caption),"cutType"in S&&r(0,m=S.cutType),"cutTargetDepthPercentage"in S&&r(1,y=S.cutTargetDepthPercentage),"toggleExplode"in S&&r(10,x=S.toggleExplode),"showStandardDeviation"in S&&r(11,b=S.showStandardDeviation)},t.$$.update=()=>{t.$$.dirty&28675&&In(L,n=new Lt({radius:p,numLayers:H,numCuts:k,cutType:m,cutTargetDepthPercentage:y,numHorizontalCuts:z}),n)},[m,y,l,i,a,o,f,s,u,c,x,b,H,k,z,A,n,d,_,v,L,G,K,P,O,I,T,q]}class zl extends ne{constructor(e){super(),re(this,e,Il,Pl,te,{showCuts:2,highlightExtremes:3,showControls:4,controlLayers:5,controlCutType:6,controlRadialDepth:7,controlHorizontalCuts:8,caption:9,cutType:0,cutTargetDepthPercentage:1,toggleExplode:10,showStandardDeviation:11})}}function pn(t,e,r){const n=t.slice();return n[1]=e[r].type,n[2]=e[r].value,n[4]=r,n}function Dl(t){let e,r,n=t[2]+"";return{c(){e=M("p"),r=new Fe(!1),this.h()},l(l){e=C(l,"P",{class:!0});var i=N(e);r=Ve(i,!1),i.forEach(g),this.h()},h(){r.a=null,h(e,"class",vn(t[1])+" svelte-b5se46")},m(l,i){E(l,e,i),r.m(n,e)},p:j,i:j,o:j,d(l){l&&g(e)}}}function Ll(t){let e,r;const n=[bt(t[2])];let l={};for(let i=0;i<n.length;i+=1)l=zn(l,n[i]);return e=new zl({props:l}),{c(){J(e.$$.fragment)},l(i){Y(e.$$.fragment,i)},m(i,a){Q(e,i,a),r=!0},p(i,a){const o=a&1?Dn(n,[Ln(bt(i[2]))]):{};e.$set(o)},i(i){r||(D(e.$$.fragment,i),r=!0)},o(i){R(e.$$.fragment,i),r=!1},d(i){Z(e,i)}}}function bn(t){let e,r,n,l;const i=[Ll,Dl],a=[];function o(f,s){return f[1]==="Component"?0:1}return e=o(t),r=a[e]=i[e](t),{c(){r.c(),n=X()},l(f){r.l(f),n=X()},m(f,s){a[e].m(f,s),E(f,n,s),l=!0},p(f,s){r.p(f,s)},i(f){l||(D(r),l=!0)},o(f){R(r),l=!1},d(f){f&&g(n),a[e].d(f)}}}function Rl(t){let e,r=t[0].hed+"",n,l,i,a,o,f,s=t[0].author1+"",u,c,m,y,x=t[0].author2+"",b,d,p,_=U(t[0].story),v=[];for(let k=0;k<_.length;k+=1)v[k]=bn(pn(t,_,k));const H=k=>R(v[k],1,1,()=>{v[k]=null});return{c(){e=M("h1"),n=F(r),l=B(),i=M("div"),a=M("span"),o=F("By "),f=new Fe(!1),u=B(),c=M("span"),m=F("With "),y=new Fe(!1),b=B();for(let k=0;k<v.length;k+=1)v[k].c();d=X(),this.h()},l(k){e=C(k,"H1",{});var z=N(e);n=V(z,r),z.forEach(g),l=W(k),i=C(k,"DIV",{class:!0});var A=N(i);a=C(A,"SPAN",{});var L=N(a);o=V(L,"By "),f=Ve(L,!1),L.forEach(g),u=W(A),c=C(A,"SPAN",{});var G=N(c);m=V(G,"With "),y=Ve(G,!1),G.forEach(g),A.forEach(g),b=W(k);for(let K=0;K<v.length;K+=1)v[K].l(k);d=X(),this.h()},h(){f.a=null,y.a=null,h(i,"class","authors svelte-b5se46")},m(k,z){E(k,e,z),w(e,n),E(k,l,z),E(k,i,z),w(i,a),w(a,o),f.m(s,a),w(i,u),w(i,c),w(c,m),y.m(x,c),E(k,b,z);for(let A=0;A<v.length;A+=1)v[A]&&v[A].m(k,z);E(k,d,z),p=!0},p(k,[z]){if(z&1){_=U(k[0].story);let A;for(A=0;A<_.length;A+=1){const L=pn(k,_,A);v[A]?(v[A].p(L,z),D(v[A],1)):(v[A]=bn(L),v[A].c(),D(v[A],1),v[A].m(d.parentNode,d))}for(me(),A=_.length;A<v.length;A+=1)H(A);de()}},i(k){if(!p){for(let z=0;z<_.length;z+=1)D(v[z]);p=!0}},o(k){v=v.filter(Boolean);for(let z=0;z<v.length;z+=1)R(v[z]);p=!1},d(k){k&&(g(e),g(l),g(i),g(b),g(d)),ue(v,k)}}}function Ol(t){return[Ne("copy")]}class Hl extends ne{constructor(e){super(),re(this,e,Ol,Rl,te,{})}}function ql(t){let e,r,n,l,i,a;return e=new Wn({}),n=new Kn({}),i=new Hl({}),{c(){J(e.$$.fragment),r=B(),J(n.$$.fragment),l=B(),J(i.$$.fragment)},l(o){Y(e.$$.fragment,o),r=W(o),Y(n.$$.fragment,o),l=W(o),Y(i.$$.fragment,o)},m(o,f){Q(e,o,f),E(o,r,f),Q(n,o,f),E(o,l,f),Q(i,o,f),a=!0},p:j,i(o){a||(D(e.$$.fragment,o),D(n.$$.fragment,o),D(i.$$.fragment,o),a=!0)},o(o){R(e.$$.fragment,o),R(n.$$.fragment,o),R(i.$$.fragment,o),a=!1},d(o){o&&(g(r),g(l)),Z(e,o),Z(n,o),Z(i,o)}}}function jl(t){const e=Ne("copy");return console.log({copy:e}),[]}class Bl extends ne{constructor(e){super(),re(this,e,jl,ql,te,{})}}const Wl=[{type:"text",value:"This is a story about onions and math."},{type:"small",value:"Not your taste? Try something else from <a href=https://pudding.cool>The Pudding</a>."},{type:"text",value:"Tens of millions of people are curious about how to properly dice an onion, <a href=https://www.youtube.com/results?search_query=how+to+dice+an+onion target=_blank rel=noreferrer>according to YouTube</a>."},{type:"text",value:"In 2021, renowned Chef / food journalist J. Kenji LÃ³pez-Alt <a href=https://www.instagram.com/p/CV6L30MBFy8/ target=_blank rel=noreferrer>broke out some math</a> to optimize a technique for getting uniform piece sizes."},{type:"us",value:"How much does uniformity matter?"},{type:"kenji",value:"<em>It matters*</em> far more for winning internet debates and solving interesting math problems than it does for cooking. For home cooks, having an onion dice that's a little off from perfect is not really an issue anyone should seriously worry about."},{type:"note",value:"*Emphasis our own"},{type:"text",value:"Good enough for us!"}],Fl="The Mathematically Optimal Way to Dice an Onion",Vl="<a target=_blank rel=noreferrer href=https://pudding.cool/author/andrew-aquino>Andrew Aquino</a>",Xl="<a target=_blank rel=noreferrer href=https://pudding.cool/author/russell-samora>Russell Samora</a>",Ul=[{type:"text",value:"This is an onion. It is also a series of concentric circles. Whatâ€™s the best way to cut it? That is, how do we get the most uniform piece size?"},{type:"Component",value:{showControls:"false",showCuts:"false"}},{type:"text",value:"Letâ€™s try a common approach - <mark>all vertical cuts</mark>."},{type:"text",value:"The pieces <strong class=primary>near the center line</strong> are fairly consistent in shape and size."},{type:"text",value:"But <strong class=secondary>along the bottom</strong> there are some noticeably larger pieces. When you dice an onion, youâ€™re probably not imagining pieces like these."},{type:"Component",value:{showControls:"false",highlightExtremes:"true"}},{type:"text",value:"This inconsistency can be measured by calculating the <strong>standard deviation</strong> of our piecesâ€™ areas. A higher value means a greater variation in piece size."},{type:"Component",value:{toggleExplode:"true",showStandardDeviation:"true",caption:"Adjust the slider to see how the standard deviation changes with the number of cuts."}},{type:"text",value:"Okay, letâ€™s try a different technique - <mark>radial cuts</mark>."},{type:"text",value:"The piece size still isnâ€™t very consistent - those <strong class=primary>near the outside</strong> are much larger than those <strong class=secondary>near the center</strong>."},{type:"Component",value:{showControls:"false",cutType:"radial",highlightExtremes:"true"}},{type:"text",value:"How does the standard deviation of pieces cut radially compare to those cut vertically?"},{type:"Component",value:{cutType:"radial",controlCutType:"true",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"But we can improve the radial cut strategy. Kenji claims that the most uniform pieces can be produced by <strong>aiming at a point ~60% of the onionâ€™s radius below the cutting surface.</strong>"},{type:"text",value:"The pieces now look more consistent, except for a few smaller ones <strong class=primary>along the bottom</strong>."},{type:"Component",value:{showControls:"false",cutType:"radial",cutTargetDepthPercentage:"0.6",highlightExtremes:"true",showStandardDeviation:"true"}},{type:"text",value:"Does the math confirm this as the superior technique? / Here is our math suggestion."},{type:"Component",value:{controlCutType:"true",cutType:"radial",controlRadialDepth:"true",cutTargetDepthPercentage:"0.96",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"Brief discussion of our differing methods if applicable."},{type:"text",value:"But there are more ways to dice an onion. Another popular technique is to start with horizontal cuts before vertical. <strong>Explore all the possibilities below to see the results</strong>."},{type:"Component",value:{controlLayers:"true",controlCutType:"true",controlRadialDepth:"true",controlHorizontalCuts:"true",toggleExplode:"true"}}],yn={intro:Wl,hed:Fl,author1:Vl,author2:Xl,story:Ul};function Kl(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.14.0"),console.log("build: 2024-04-08-16:10"),console.log("--- --- --- --- --- ---")}function Gl(t){let e,r,n,l;return e=new jn({props:{title:t[1],description:t[2],url:t[3],preloadFont:t[0],keywords:t[4]}}),n=new Bl({}),{c(){J(e.$$.fragment),r=B(),J(n.$$.fragment)},l(i){Y(e.$$.fragment,i),r=W(i),Y(n.$$.fragment,i)},m(i,a){Q(e,i,a),E(i,r,a),Q(n,i,a),l=!0},p:j,i(i){l||(D(e.$$.fragment,i),D(n.$$.fragment,i),l=!0)},o(i){R(e.$$.fragment,i),R(n.$$.fragment,i),l=!1},d(i){i&&g(r),Z(e,i),Z(n,i)}}}function Jl(t,e,r){let{data:n}=e;Kl();const l=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:i,description:a,url:o,keywords:f}=yn;return rt("copy",yn),rt("data",n.data),t.$$set=s=>{"data"in s&&r(5,n=s.data)},[l,i,a,o,f,n]}class ni extends ne{constructor(e){super(),re(this,e,Jl,Gl,te,{data:5})}}export{ni as component};
