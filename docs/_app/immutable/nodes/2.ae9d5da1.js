import{s as ee,f as C,e as V,B as En,g as E,d as m,j as h,u as v,v as H,C as se,i as S,D as Sn,h as N,E as Ne,a as q,H as Fe,c as B,r as Ve,F as yn,G as An,l as W,m as F,I as le,J as ie,A as Qe,n as $,K as ge,L as Tn,M as Me,N as Pe,O as Nn,P as ut,Q as rt,R as Pn,p as Ce,S as Ee,T as In}from"../chunks/scheduler.5e44755f.js";import{S as te,i as ne,b as G,d as J,m as Y,a as z,g as me,t as R,c as de,e as Q,f as Se}from"../chunks/index.55988b75.js";import{e as X}from"../chunks/each.e59479a4.js";import{g as zn,a as Ln}from"../chunks/spread.8a54911c.js";import{w as Dn}from"../chunks/index.544f9b6f.js";import{d as Rn}from"../chunks/transform.6fe4cd5d.js";function mt(t,e,r){const n=t.slice();return n[5]=e[r],n}function dt(t){let e,r;return{c(){e=C("link"),this.h()},l(n){e=E(n,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){h(e,"rel","preload"),h(e,"href",r=t[5]),h(e,"as","font"),h(e,"type","font/woff2"),h(e,"crossorigin","")},m(n,l){S(n,e,l)},p(n,l){l&16&&r!==(r=n[5])&&h(e,"href",r)},d(n){n&&m(e)}}}function jn(t){let e,r,n,l,i,a,o,f,s,u,c,g,p,k,_,d,y,b,w,O,x,L,A,D,K,U;document.title=e=t[0];let P=X(t[4]),j=[];for(let I=0;I<P.length;I+=1)j[I]=dt(mt(t,P,I));return{c(){r=C("meta"),n=C("meta"),l=C("meta"),i=C("meta"),a=C("meta"),o=C("meta"),f=C("meta"),s=C("meta"),u=C("meta"),c=C("meta"),p=C("meta"),k=C("meta"),_=C("meta"),d=C("meta"),y=C("meta"),b=C("meta"),w=C("meta"),O=C("meta"),x=C("meta"),A=C("meta"),D=C("link");for(let I=0;I<j.length;I+=1)j[I].c();U=V(),this.h()},l(I){const T=En("svelte-1htu80s",document.head);r=E(T,"META",{name:!0,content:!0}),n=E(T,"META",{name:!0,content:!0}),l=E(T,"META",{name:!0,content:!0}),i=E(T,"META",{property:!0,content:!0}),a=E(T,"META",{property:!0,content:!0}),o=E(T,"META",{property:!0,content:!0}),f=E(T,"META",{property:!0,content:!0}),s=E(T,"META",{property:!0,content:!0}),u=E(T,"META",{property:!0,content:!0}),c=E(T,"META",{property:!0,content:!0}),p=E(T,"META",{property:!0,content:!0}),k=E(T,"META",{property:!0,content:!0}),_=E(T,"META",{property:!0,content:!0}),d=E(T,"META",{name:!0,content:!0}),y=E(T,"META",{name:!0,content:!0}),b=E(T,"META",{name:!0,content:!0}),w=E(T,"META",{name:!0,content:!0}),O=E(T,"META",{name:!0,content:!0}),x=E(T,"META",{name:!0,content:!0}),A=E(T,"META",{name:!0,content:!0}),D=E(T,"LINK",{rel:!0,href:!0});for(let M=0;M<j.length;M+=1)j[M].l(T);U=V(),T.forEach(m),this.h()},h(){h(r,"name","description"),h(r,"content",t[1]),h(n,"name","author"),h(n,"content","The Pudding"),h(l,"name","news_keywords"),h(l,"content",t[3]),h(i,"property","og:title"),h(i,"content",t[0]),h(a,"property","og:site_name"),h(a,"content","The Pudding"),h(o,"property","og:url"),h(o,"content",t[2]),h(f,"property","og:description"),h(f,"content",t[1]),h(s,"property","og:type"),h(s,"content","article"),h(u,"property","og:locale"),h(u,"content","en_US"),h(c,"property","og:image"),h(c,"content",g=t[2]+"/assets/social-facebook.jpg"),h(p,"property","og:image:type"),h(p,"content","image/jpeg"),h(k,"property","og:image:width"),h(k,"content","1200"),h(_,"property","og:image:height"),h(_,"content","600"),h(d,"name","twitter:card"),h(d,"content","summary_large_image"),h(y,"name","twitter:site"),h(y,"content","https://pudding.cool"),h(b,"name","twitter:creator"),h(b,"content","@puddingviz"),h(w,"name","twitter:title"),h(w,"content",t[0]),h(O,"name","twitter:description"),h(O,"content",t[1]),h(x,"name","twitter:image:src"),h(x,"content",L=t[2]+"/assets/social-twitter.jpg"),h(A,"name","robots"),h(A,"content","max-image-preview:large"),h(D,"rel","canonical"),h(D,"href",K=t[2]+"/")},m(I,T){v(document.head,r),v(document.head,n),v(document.head,l),v(document.head,i),v(document.head,a),v(document.head,o),v(document.head,f),v(document.head,s),v(document.head,u),v(document.head,c),v(document.head,p),v(document.head,k),v(document.head,_),v(document.head,d),v(document.head,y),v(document.head,b),v(document.head,w),v(document.head,O),v(document.head,x),v(document.head,A),v(document.head,D);for(let M=0;M<j.length;M+=1)j[M]&&j[M].m(document.head,null);v(document.head,U)},p(I,[T]){if(T&1&&e!==(e=I[0])&&(document.title=e),T&2&&h(r,"content",I[1]),T&8&&h(l,"content",I[3]),T&1&&h(i,"content",I[0]),T&4&&h(o,"content",I[2]),T&2&&h(f,"content",I[1]),T&4&&g!==(g=I[2]+"/assets/social-facebook.jpg")&&h(c,"content",g),T&1&&h(w,"content",I[0]),T&2&&h(O,"content",I[1]),T&4&&L!==(L=I[2]+"/assets/social-twitter.jpg")&&h(x,"content",L),T&4&&K!==(K=I[2]+"/")&&h(D,"href",K),T&16){P=X(I[4]);let M;for(M=0;M<P.length;M+=1){const fe=mt(I,P,M);j[M]?j[M].p(fe,T):(j[M]=dt(fe),j[M].c(),j[M].m(U.parentNode,U))}for(;M<j.length;M+=1)j[M].d(1);j.length=P.length}},i:H,o:H,d(I){m(r),m(n),m(l),m(i),m(a),m(o),m(f),m(s),m(u),m(c),m(p),m(k),m(_),m(d),m(y),m(b),m(w),m(O),m(x),m(A),m(D),se(j,I),m(U)}}}function On(t,e,r){let{title:n="Title TK"}=e,{description:l="Description TK"}=e,{url:i="https://pudding.cool"}=e,{keywords:a=""}=e,{preloadFont:o=[]}=e;return t.$$set=f=>{"title"in f&&r(0,n=f.title),"description"in f&&r(1,l=f.description),"url"in f&&r(2,i=f.url),"keywords"in f&&r(3,a=f.keywords),"preloadFont"in f&&r(4,o=f.preloadFont)},[n,l,i,a,o]}class Hn extends te{constructor(e){super(),ne(this,e,On,jn,ee,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function qn(t){let e,r="ðŸš§ This project is a work in progress. Please do not share the URL. ðŸš§";return{c(){e=C("div"),e.textContent=r,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),Sn(e)!=="svelte-1huwx5x"&&(e.textContent=r),this.h()},h(){h(e,"class","svelte-svusjd")},m(n,l){S(n,e,l)},p:H,i:H,o:H,d(n){n&&m(e)}}}class Bn extends te{constructor(e){super(),ne(this,e,null,qn,ee,{})}}function _t(t,e,r){const n=t.slice();n[1]=e[r].type,n[2]=e[r].value;const l=["us","kenji"].includes(n[1]);n[3]=l;const i=n[3]?"blockquote":"svelte:fragment";return n[4]=i,n}function Wn(t){let e,r=t[1]+"",n,l;return{c(){e=C("b"),n=W(r),l=W(":"),this.h()},l(i){e=E(i,"B",{class:!0});var a=N(e);n=F(a,r),l=F(a,":"),a.forEach(m),this.h()},h(){h(e,"class","speaker svelte-chcwu")},m(i,a){S(i,e,a),v(e,n),v(e,l)},p:H,d(i){i&&m(e)}}}function Fn(t){let e,r,n,l,i=t[2]+"",a,o=t[3]&&Wn(t);return{c(){e=C(t[4]),r=C("p"),o&&o.c(),n=q(),l=new Fe(!1),a=q(),this.h()},l(f){e=E(f,(t[4]||"null").toUpperCase(),{class:!0});var s=N(e);r=E(s,"P",{class:!0});var u=N(r);o&&o.l(u),n=B(u),l=Ve(u,!1),u.forEach(m),a=B(s),s.forEach(m),this.h()},h(){l.a=null,h(r,"class",yn(t[1])+" svelte-chcwu"),An(t[4])(e,{class:"svelte-chcwu"})},m(f,s){S(f,e,s),v(e,r),o&&o.m(r,null),v(r,n),l.m(i,r),v(e,a)},p(f,s){f[3]&&o.p(f,s)},d(f){f&&m(e),o&&o.d()}}}function pt(t){let e=t[4]&&Fn(t);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,n){e&&e.m(r,n)},p(r,n){r[4]&&e.p(r,n)},d(r){e&&e.d(r)}}}function Vn(t){let e,r=X(t[0].intro),n=[];for(let l=0;l<r.length;l+=1)n[l]=pt(_t(t,r,l));return{c(){e=C("section");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=E(l,"SECTION",{class:!0});var i=N(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){h(e,"class","intro")},m(l,i){S(l,e,i);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(l,[i]){if(i&1){r=X(l[0].intro);let a;for(a=0;a<r.length;a+=1){const o=_t(l,r,a);n[a]?n[a].p(o,i):(n[a]=pt(o),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},i:H,o:H,d(l){l&&m(e),se(n,l)}}}function Xn(t){return[Ne("copy")]}class Un extends te{constructor(e){super(),ne(this,e,Xn,Vn,ee,{})}}function bt(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,r==="true"?!0:r==="false"?!1:r]))}function Be(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vn(t){let e,r,n;t.length!==2?(e=Be,r=(o,f)=>Be(t(o),f),n=(o,f)=>t(o)-f):(e=t===Be||t===Rn?t:Kn,r=t,n=t);function l(o,f,s=0,u=o.length){if(s<u){if(e(f,f)!==0)return u;do{const c=s+u>>>1;r(o[c],f)<0?s=c+1:u=c}while(s<u)}return s}function i(o,f,s=0,u=o.length){if(s<u){if(e(f,f)!==0)return u;do{const c=s+u>>>1;r(o[c],f)<=0?s=c+1:u=c}while(s<u)}return s}function a(o,f,s=0,u=o.length){const c=l(o,f,s,u-1);return c>s&&n(o[c-1],f)>-n(o[c],f)?c-1:c}return{left:l,center:a,right:i}}function Kn(){return 0}function Gn(t){return t===null?NaN:+t}const Jn=vn(Be),Yn=Jn.right;vn(Gn).center;const Qn=Yn;function Zn(t,e){let r=0,n,l=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(n=a-l,l+=n/++r,i+=n*(a-l));else{let a=-1;for(let o of t)(o=e(o,++a,t))!=null&&(o=+o)>=o&&(n=o-l,l+=n/++r,i+=n*(o-l))}if(r>1)return i/(r-1)}function $n(t,e){const r=Zn(t,e);return r&&Math.sqrt(r)}const er=Math.sqrt(50),tr=Math.sqrt(10),nr=Math.sqrt(2);function Xe(t,e,r){const n=(e-t)/Math.max(0,r),l=Math.floor(Math.log10(n)),i=n/Math.pow(10,l),a=i>=er?10:i>=tr?5:i>=nr?2:1;let o,f,s;return l<0?(s=Math.pow(10,-l)/a,o=Math.round(t*s),f=Math.round(e*s),o/s<t&&++o,f/s>e&&--f,s=-s):(s=Math.pow(10,l)*a,o=Math.round(t/s),f=Math.round(e/s),o*s<t&&++o,f*s>e&&--f),f<o&&.5<=r&&r<2?Xe(t,e,r*2):[o,f,s]}function rr(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[l,i,a]=n?Xe(e,t,r):Xe(t,e,r);if(!(i>=l))return[];const o=i-l+1,f=new Array(o);if(n)if(a<0)for(let s=0;s<o;++s)f[s]=(i-s)/-a;else for(let s=0;s<o;++s)f[s]=(i-s)*a;else if(a<0)for(let s=0;s<o;++s)f[s]=(l+s)/-a;else for(let s=0;s<o;++s)f[s]=(l+s)*a;return f}function lt(t,e,r){return e=+e,t=+t,r=+r,Xe(t,e,r)[2]}function lr(t,e,r){e=+e,t=+t,r=+r;const n=e<t,l=n?lt(e,t,r):lt(t,e,r);return(n?-1:1)*(l<0?1/-l:l)}function ir(t,e){let r=0,n=0;if(e===void 0)for(let l of t)l!=null&&(l=+l)>=l&&(++r,n+=l);else{let l=-1;for(let i of t)(i=e(i,++l,t))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function ar(t,e,r){t=+t,e=+e,r=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+r;for(var n=-1,l=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(l);++n<l;)i[n]=t+n*r;return i}function ft(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function wn(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function De(){}var Ie=.7,Ue=1/Ie,ke="\\s*([+-]?\\d+)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",or=/^#([0-9a-f]{3,8})$/,sr=new RegExp(`^rgb\\(${ke},${ke},${ke}\\)$`),ur=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),fr=new RegExp(`^rgba\\(${ke},${ke},${ke},${ze}\\)$`),cr=new RegExp(`^rgba\\(${ce},${ce},${ce},${ze}\\)$`),hr=new RegExp(`^hsl\\(${ze},${ce},${ce}\\)$`),gr=new RegExp(`^hsla\\(${ze},${ce},${ce},${ze}\\)$`),yt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ft(De,Le,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vt,formatHex:vt,formatHex8:mr,formatHsl:dr,formatRgb:wt,toString:wt});function vt(){return this.rgb().formatHex()}function mr(){return this.rgb().formatHex8()}function dr(){return xn(this).formatHsl()}function wt(){return this.rgb().formatRgb()}function Le(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=or.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?xt(e):r===3?new re(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Re(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Re(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sr.exec(t))?new re(e[1],e[2],e[3],1):(e=ur.exec(t))?new re(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fr.exec(t))?Re(e[1],e[2],e[3],e[4]):(e=cr.exec(t))?Re(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hr.exec(t))?Ct(e[1],e[2]/100,e[3]/100,1):(e=gr.exec(t))?Ct(e[1],e[2]/100,e[3]/100,e[4]):yt.hasOwnProperty(t)?xt(yt[t]):t==="transparent"?new re(NaN,NaN,NaN,0):null}function xt(t){return new re(t>>16&255,t>>8&255,t&255,1)}function Re(t,e,r,n){return n<=0&&(t=e=r=NaN),new re(t,e,r,n)}function _r(t){return t instanceof De||(t=Le(t)),t?(t=t.rgb(),new re(t.r,t.g,t.b,t.opacity)):new re}function it(t,e,r,n){return arguments.length===1?_r(t):new re(t,e,r,n??1)}function re(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ft(re,it,wn(De,{brighter(t){return t=t==null?Ue:Math.pow(Ue,t),new re(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ie:Math.pow(Ie,t),new re(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new re(ve(this.r),ve(this.g),ve(this.b),Ke(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kt,formatHex:kt,formatHex8:pr,formatRgb:Mt,toString:Mt}));function kt(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}`}function pr(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}${ye((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mt(){const t=Ke(this.opacity);return`${t===1?"rgb(":"rgba("}${ve(this.r)}, ${ve(this.g)}, ${ve(this.b)}${t===1?")":`, ${t})`}`}function Ke(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ve(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ye(t){return t=ve(t),(t<16?"0":"")+t.toString(16)}function Ct(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ue(t,e,r,n)}function xn(t){if(t instanceof ue)return new ue(t.h,t.s,t.l,t.opacity);if(t instanceof De||(t=Le(t)),!t)return new ue;if(t instanceof ue)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,l=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,o=i-l,f=(i+l)/2;return o?(e===i?a=(r-n)/o+(r<n)*6:r===i?a=(n-e)/o+2:a=(e-r)/o+4,o/=f<.5?i+l:2-i-l,a*=60):o=f>0&&f<1?0:a,new ue(a,o,f,t.opacity)}function br(t,e,r,n){return arguments.length===1?xn(t):new ue(t,e,r,n??1)}function ue(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ft(ue,br,wn(De,{brighter(t){return t=t==null?Ue:Math.pow(Ue,t),new ue(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ie:Math.pow(Ie,t),new ue(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,l=2*r-n;return new re(et(t>=240?t-240:t+120,l,n),et(t,l,n),et(t<120?t+240:t-120,l,n),this.opacity)},clamp(){return new ue(Et(this.h),je(this.s),je(this.l),Ke(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ke(this.opacity);return`${t===1?"hsl(":"hsla("}${Et(this.h)}, ${je(this.s)*100}%, ${je(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Et(t){return t=(t||0)%360,t<0?t+360:t}function je(t){return Math.max(0,Math.min(1,t||0))}function et(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ct=t=>()=>t;function yr(t,e){return function(r){return t+r*e}}function vr(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function wr(t){return(t=+t)==1?kn:function(e,r){return r-e?vr(e,r,t):ct(isNaN(e)?r:e)}}function kn(t,e){var r=e-t;return r?yr(t,r):ct(isNaN(t)?e:t)}const St=function t(e){var r=wr(e);function n(l,i){var a=r((l=it(l)).r,(i=it(i)).r),o=r(l.g,i.g),f=r(l.b,i.b),s=kn(l.opacity,i.opacity);return function(u){return l.r=a(u),l.g=o(u),l.b=f(u),l.opacity=s(u),l+""}}return n.gamma=t,n}(1);function xr(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),l;return function(i){for(l=0;l<r;++l)n[l]=t[l]*(1-i)+e[l]*i;return n}}function kr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mr(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,l=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)l[a]=ht(t[a],e[a]);for(;a<r;++a)i[a]=e[a];return function(o){for(a=0;a<n;++a)i[a]=l[a](o);return i}}function Cr(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ge(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Er(t,e){var r={},n={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?r[l]=ht(t[l],e[l]):n[l]=e[l];return function(i){for(l in r)n[l]=r[l](i);return n}}var at=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tt=new RegExp(at.source,"g");function Sr(t){return function(){return t}}function Ar(t){return function(e){return t(e)+""}}function Tr(t,e){var r=at.lastIndex=tt.lastIndex=0,n,l,i,a=-1,o=[],f=[];for(t=t+"",e=e+"";(n=at.exec(t))&&(l=tt.exec(e));)(i=l.index)>r&&(i=e.slice(r,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(l=l[0])?o[a]?o[a]+=l:o[++a]=l:(o[++a]=null,f.push({i:a,x:Ge(n,l)})),r=tt.lastIndex;return r<e.length&&(i=e.slice(r),o[a]?o[a]+=i:o[++a]=i),o.length<2?f[0]?Ar(f[0].x):Sr(e):(e=f.length,function(s){for(var u=0,c;u<e;++u)o[(c=f[u]).i]=c.x(s);return o.join("")})}function ht(t,e){var r=typeof e,n;return e==null||r==="boolean"?ct(e):(r==="number"?Ge:r==="string"?(n=Le(e))?(e=n,St):Tr:e instanceof Le?St:e instanceof Date?Cr:kr(e)?xr:Array.isArray(e)?Mr:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Er:Ge)(t,e)}function Nr(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Pr(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Je(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ae(t){return t=Je(Math.abs(t)),t?t[1]:NaN}function Ir(t,e){return function(r,n){for(var l=r.length,i=[],a=0,o=t[0],f=0;l>0&&o>0&&(f+o+1>n&&(o=Math.max(1,n-f)),i.push(r.substring(l-=o,l+o)),!((f+=o+1)>n));)o=t[a=(a+1)%t.length];return i.reverse().join(e)}}function zr(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Lr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ye(t){if(!(e=Lr.exec(t)))throw new Error("invalid format: "+t);var e;return new gt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ye.prototype=gt.prototype;function gt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dr(t){e:for(var e=t.length,r=1,n=-1,l;r<e;++r)switch(t[r]){case".":n=l=r;break;case"0":n===0&&(n=r),l=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(l+1):t}var Mn;function Rr(t,e){var r=Je(t,e);if(!r)return t+"";var n=r[0],l=r[1],i=l-(Mn=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Je(t,Math.max(0,e+i-1))[0]}function At(t,e){var r=Je(t,e);if(!r)return t+"";var n=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+n:n.length>l+1?n.slice(0,l+1)+"."+n.slice(l+1):n+new Array(l-n.length+2).join("0")}const Tt={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pr,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>At(t*100,e),r:At,s:Rr,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Nt(t){return t}var Pt=Array.prototype.map,It=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function jr(t){var e=t.grouping===void 0||t.thousands===void 0?Nt:Ir(Pt.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Nt:zr(Pt.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"âˆ’":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function s(c){c=Ye(c);var g=c.fill,p=c.align,k=c.sign,_=c.symbol,d=c.zero,y=c.width,b=c.comma,w=c.precision,O=c.trim,x=c.type;x==="n"?(b=!0,x="g"):Tt[x]||(w===void 0&&(w=12),O=!0,x="g"),(d||g==="0"&&p==="=")&&(d=!0,g="0",p="=");var L=_==="$"?r:_==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",A=_==="$"?n:/[%p]/.test(x)?a:"",D=Tt[x],K=/[defgprs%]/.test(x);w=w===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function U(P){var j=L,I=A,T,M,fe;if(x==="c")I=D(P)+I,P="";else{P=+P;var _e=P<0||1/P<0;if(P=isNaN(P)?f:D(Math.abs(P),w),O&&(P=Dr(P)),_e&&+P==0&&k!=="+"&&(_e=!1),j=(_e?k==="("?k:o:k==="-"||k==="("?"":k)+j,I=(x==="s"?It[8+Mn/3]:"")+I+(_e&&k==="("?")":""),K){for(T=-1,M=P.length;++T<M;)if(fe=P.charCodeAt(T),48>fe||fe>57){I=(fe===46?l+P.slice(T+1):P.slice(T))+I,P=P.slice(0,T);break}}}b&&!d&&(P=e(P,1/0));var pe=j.length+P.length+I.length,Z=pe<y?new Array(y-pe+1).join(g):"";switch(b&&d&&(P=e(Z+P,Z.length?y-I.length:1/0),Z=""),p){case"<":P=j+P+I+Z;break;case"=":P=j+Z+P+I;break;case"^":P=Z.slice(0,pe=Z.length>>1)+j+P+I+Z.slice(pe);break;default:P=Z+j+P+I;break}return i(P)}return U.toString=function(){return c+""},U}function u(c,g){var p=s((c=Ye(c),c.type="f",c)),k=Math.max(-8,Math.min(8,Math.floor(Ae(g)/3)))*3,_=Math.pow(10,-k),d=It[8+k/3];return function(y){return p(_*y)+d}}return{format:s,formatPrefix:u}}var Oe,Te,Cn;Or({thousands:",",grouping:[3],currency:["$",""]});function Or(t){return Oe=jr(t),Te=Oe.format,Cn=Oe.formatPrefix,Oe}function Hr(t){return Math.max(0,-Ae(Math.abs(t)))}function qr(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ae(e)/3)))*3-Ae(Math.abs(t)))}function Br(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ae(e)-Ae(t))+1}function Wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fr(t){return function(){return t}}function Vr(t){return+t}var zt=[0,1];function we(t){return t}function ot(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Fr(isNaN(e)?NaN:.5)}function Xr(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Ur(t,e,r){var n=t[0],l=t[1],i=e[0],a=e[1];return l<n?(n=ot(l,n),i=r(a,i)):(n=ot(n,l),i=r(i,a)),function(o){return i(n(o))}}function Kr(t,e,r){var n=Math.min(t.length,e.length)-1,l=new Array(n),i=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)l[a]=ot(t[a],t[a+1]),i[a]=r(e[a],e[a+1]);return function(o){var f=Qn(t,o,1,n)-1;return i[f](l[f](o))}}function Gr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jr(){var t=zt,e=zt,r=ht,n,l,i,a=we,o,f,s;function u(){var g=Math.min(t.length,e.length);return a!==we&&(a=Xr(t[0],t[g-1])),o=g>2?Kr:Ur,f=s=null,c}function c(g){return g==null||isNaN(g=+g)?i:(f||(f=o(t.map(n),e,r)))(n(a(g)))}return c.invert=function(g){return a(l((s||(s=o(e,t.map(n),Ge)))(g)))},c.domain=function(g){return arguments.length?(t=Array.from(g,Vr),u()):t.slice()},c.range=function(g){return arguments.length?(e=Array.from(g),u()):e.slice()},c.rangeRound=function(g){return e=Array.from(g),r=Nr,u()},c.clamp=function(g){return arguments.length?(a=g?!0:we,u()):a!==we},c.interpolate=function(g){return arguments.length?(r=g,u()):r},c.unknown=function(g){return arguments.length?(i=g,c):i},function(g,p){return n=g,l=p,u()}}function Yr(){return Jr()(we,we)}function Qr(t,e,r,n){var l=lr(t,e,r),i;switch(n=Ye(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=qr(l,a))&&(n.precision=i),Cn(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Br(l,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Hr(l))&&(n.precision=i-(n.type==="%")*2);break}}return Te(n)}function Zr(t){var e=t.domain;return t.ticks=function(r){var n=e();return rr(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var l=e();return Qr(l[0],l[l.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),l=0,i=n.length-1,a=n[l],o=n[i],f,s,u=10;for(o<a&&(s=a,a=o,o=s,s=l,l=i,i=s);u-- >0;){if(s=lt(a,o,r),s===f)return n[l]=a,n[i]=o,e(n);if(s>0)a=Math.floor(a/s)*s,o=Math.ceil(o/s)*s;else if(s<0)a=Math.ceil(a*s)/s,o=Math.floor(o*s)/s;else break;f=s}return t},t}function xe(){var t=Yr();return t.copy=function(){return Gr(t,xe())},Wr.apply(t,arguments),Zr(t)}function st(t){return Te(".0%")(t)}function $r(t,e){return[t*Math.sin(e),t*Math.cos(e)]}function We(t,e,r){r=Math.min(r,t);function n(i){return Math.acos(i/t)}function l(i){return-1/2*t**2*(i-Math.sin(i)*Math.cos(i))}return l(n(r))-l(n(e))}function He({layerRadius:t,cutY:e,cutX:r,nextCutX:n}){const l=Math.sqrt(t**2-e**2),i=Math.min(l,n);return We(t,r,i)-(i-r)*e}function el({slope:t,yIntercept:e,radius:r}){const n=e**2*t**2-(t**2+1)*(e**2-r**2);return{discriminant:n,doesIntersect:n>0}}function qe({slope:t,yIntercept:e,x1:r,x2:n}){return 1/2*t*(n**2-r**2)+e*(n-r)}function Lt(t,e,r){return t>e&&t-e>3e-14&&t<r&&r-t>3e-14}function tl(t){return t.map(({pieceColumn:e})=>e.map(({pieceArea:r,subPieces:n})=>n.length?n:r)).flat(2)}function nl(t){return t.map(({pieces:e})=>e.map(({area:r,subPieces:n})=>n.length?n:r)).flat(2)}class Dt{constructor({radius:e,numLayers:r,numCuts:n,cutType:l,cutTargetDepthPercentage:i,numHorizontalCuts:a}){this.radius=e,this.numLayers=r,this.numCuts=n,this.cutType=l,this.cutTargetDepthPercentage=i,this.numHorizontalCuts=a}get rScale(){return xe().domain([0,this.numLayers]).range([0,this.radius])}get layerRadii(){return Array.from({length:this.numLayers}).map((e,r)=>this.rScale(r+1))}get layerArcs(){return this.layerRadii.map(e=>r=>Math.sqrt(e**2-r**2))}get cutNumbers(){return Array.from({length:this.numCuts}).map((e,r)=>r)}get cutWidthScale(){return xe().domain([0,this.numCuts]).range([0,this.radius])}get cutAngleScale(){return xe().domain([0,this.numCuts]).range([Math.PI/2,0])}get cutTargetDepth(){return this.radius*this.cutTargetDepthPercentage}get horizontalCutNumbers(){return Array.from({length:this.numHorizontalCuts}).map((e,r)=>r).reverse()}get horizontalCutScale(){return xe().domain([0,this.numHorizontalCuts]).range([1/(this.numHorizontalCuts+1),1])}get storageKey(){return[`${this.numLayers}l`,`${this.numCuts}c`,this.cutType==="radial"?"r":"v",...this.cutType==="radial"?[`${st(this.cutTargetDepthPercentage)}d`]:[],`${this.numHorizontalCuts}h`].join(":")}get verticalAreas(){const e=this.cutNumbers,r=this.cutWidthScale,n=this.radius,l=this.layerRadii,i=this.horizontalCutNumbers,a=this.horizontalCutScale,o=e.map(f=>({cutX:r(f),pieceColumn:[]}));return e.forEach(f=>{const{cutX:s,pieceColumn:u}=o[f];l.forEach((c,g)=>{const p=g===0,k=l[g-1];if(c>s){const _=r(f+1),d=We(c,s,_),y=u.length?d-u.at(-1).verticalCutArea:d,b=[p?0:Math.sqrt(k**2-_**2)||0,Math.sqrt(c**2-s**2)];let w=[];i.forEach(O=>{const x=a(O)*n;if(Lt(x,b[0],b[1])){let L=He({layerRadius:c,cutY:x,cutX:s,nextCutX:_});const A=Math.sqrt(k**2-s**2);if(x<A&&(L-=He({layerRadius:k,cutY:x,cutX:s,nextCutX:_})),w.length){const D=w[0];w=[D,L-D,y-L]}else w=[L,y-L]}}),u.push({layerRadius:c,verticalCutArea:d,pieceArea:y,yRange:b,subPieces:w})}})}),o}get radialAreas(){const e=this.layerRadii,r=this.cutAngleScale,n=this.radius,l=this.cutNumbers,i=this.cutTargetDepth,a=this.horizontalCutNumbers,o=this.horizontalCutScale;function f(c){return g=>c*g-i}function s(c){const g=r(c);return(i+n*Math.sin(g))/(n*Math.cos(g))}const u=e.map(c=>{const g=[];return l.forEach(p=>{const k=s(p),_=f(k),{discriminant:d,doesIntersect:y}=el({slope:k,yIntercept:-i,radius:c});if(y){const b=(i*k+Math.sqrt(d))/(k**2+1);b>0&&_(b)>0&&g.push({xOfLeftCutIntersection:b,leftCutLineSlope:k})}}),{layerRadius:c,pieces:g}});return u.forEach(({pieces:c,layerRadius:g},p,k)=>{const _=p===0,d=k[p-1];c.forEach((y,b,w)=>{var fe,_e,pe;const O=b===0,x=b===w.length-1,{leftCutLineSlope:L,xOfLeftCutIntersection:A}=y,D=[void 0,void 0],K=[void 0,void 0],U=w[b+1];function P(Z){var $e,ae;const oe=($e=d==null?void 0:d.pieces[Z])==null?void 0:$e.xOfLeftCutIntersection,he=i/((ae=w[Z])==null?void 0:ae.leftCutLineSlope);return oe??he}D[0]=A,D[1]=x?g:U.xOfLeftCutIntersection,O||(D[0]=P(b)),y.xRange=D,K[0]=x||_?0:Math.sqrt(d.layerRadius**2-((fe=d.pieces[b+1])==null?void 0:fe.xOfLeftCutIntersection)**2)||0,K[1]=Math.sqrt(g**2-A**2),y.yRange=K;let j=We(g,A,D[1]);if(O||(j+=qe({slope:L,yIntercept:-i,x1:D[0],x2:A})),!x){const Z=P(b+1);j-=qe({slope:U.leftCutLineSlope,yIntercept:-i,x1:Z,x2:D[1]})}const I=(_e=d==null?void 0:d.pieces[b])==null?void 0:_e.xRange[1];!_&&I>D[0]&&(j-=We(d.layerRadius,(pe=d.pieces[b])==null?void 0:pe.xOfLeftCutIntersection,I)),y.area=j;let M=[];a.forEach(Z=>{const oe=o(Z)*n;if(Lt(oe,K[0],K[1])){let he=He({layerRadius:g,cutY:oe,cutX:A,nextCutX:D[1]});if(!O){const ae=Math.max((oe+i)/L,D[0]);he+=qe({slope:L,yIntercept:-i,x1:ae,x2:A})-(A-ae)*oe}if(!_&&oe<Math.sqrt(d.layerRadius**2-D[0]**2)){const ae=Math.sqrt(d.layerRadius**2-oe**2);he-=He({layerRadius:d.layerRadius,cutY:oe,cutX:D[0],nextCutX:ae})}if(!x&&oe<Math.sqrt(g**2-D[1]**2)){const ae=(oe+i)/U.leftCutLineSlope;he-=qe({slope:U.leftCutLineSlope,yIntercept:-i,x1:ae,x2:D[1]})-(D[1]-ae)*oe}if(M.length){const ae=M[0];M=[ae,he-ae,j-he]}else M=[he,j-he]}}),y.subPieces=M})}),u}get standardDeviation(){const e=this.cutType==="vertical"?tl(this.verticalAreas):nl(this.radialAreas),r=$n(e),n=ir(e);return+Te(".3f")(r/n*100)}}function rl(t){let e,r,n;return{c(){e=le("line"),this.h()},l(l){e=ie(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),N(e).forEach(m),this.h()},h(){h(e,"x1",r=-t[0]/2),h(e,"y1",t[1]),h(e,"x2",n=t[0]/2),h(e,"y2",t[1]),h(e,"class","svelte-14x1u0r")},m(l,i){S(l,e,i)},p(l,[i]){i&1&&r!==(r=-l[0]/2)&&h(e,"x1",r),i&1&&n!==(n=l[0]/2)&&h(e,"x2",n)},i:H,o:H,d(l){l&&m(e)}}}function ll(t,e,r){let{width:n}=e,{height:l}=e,{isBottom:i=!1}=e,a=i?l:0;return t.$$set=o=>{"width"in o&&r(0,n=o.width),"height"in o&&r(2,l=o.height),"isBottom"in o&&r(3,i=o.isBottom)},[n,a,l,i]}class Rt extends te{constructor(e){super(),ne(this,e,ll,rl,ee,{width:0,height:2,isBottom:3})}}function il(t){let e;return{c(){e=le("line"),this.h()},l(r){e=ie(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),N(e).forEach(m),this.h()},h(){h(e,"x1","0"),h(e,"y1",0),h(e,"x2","0"),h(e,"y2",t[0])},m(r,n){S(r,e,n)},p(r,[n]){n&1&&h(e,"y2",r[0])},i:H,o:H,d(r){r&&m(e)}}}function al(t,e,r){let{height:n}=e;return t.$$set=l=>{"height"in l&&r(0,n=l.height)},[n]}class ol extends te{constructor(e){super(),ne(this,e,al,il,ee,{height:0})}}function jt(t,e,r){const n=t.slice();return n[4]=e[r],n}function Ot(t){let e,r;return{c(){e=le("circle"),this.h()},l(n){e=ie(n,"circle",{cx:!0,cy:!0,r:!0,class:!0}),N(e).forEach(m),this.h()},h(){h(e,"cx","0"),h(e,"cy",t[0]),h(e,"r",r=t[4]),h(e,"class","svelte-15uhuih")},m(n,l){S(n,e,l)},p(n,l){l&1&&h(e,"cy",n[0]),l&2&&r!==(r=n[4])&&h(e,"r",r)},d(n){n&&m(e)}}}function sl(t){let e,r=X(t[1]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Ot(jt(t,r,l));return{c(){e=le("g");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=ie(l,"g",{class:!0});var i=N(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){h(e,"class","onion")},m(l,i){S(l,e,i);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(l,[i]){if(i&3){r=X(l[1]);let a;for(a=0;a<r.length;a+=1){const o=jt(l,r,a);n[a]?n[a].p(o,i):(n[a]=Ot(o),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},i:H,o:H,d(l){l&&m(e),se(n,l)}}}function ul(t,e,r){let n,l,{height:i}=e;const a=Ne("onionStore");return Qe(t,a,o=>r(3,l=o)),t.$$set=o=>{"height"in o&&r(0,i=o.height)},t.$$.update=()=>{t.$$.dirty&8&&r(1,{layerRadii:n}=l,n)},[i,n,a,l]}class fl extends te{constructor(e){super(),ne(this,e,ul,sl,ee,{height:0})}}function Ht(t,e,r){const n=t.slice();n[13]=e[r];const l=n[3](n[13])*n[10];n[14]=l;const i=n[2](n[14]);return n[15]=i,n}function qt(t,e,r){const n=t.slice();return n[13]=e[r],n}function cl(t){const e=t.slice(),r=e[6](e[13]+1);e[21]=r;const n=$r(e[10],e[21]);return e[22]=n[0],e[23]=n[1],e}function hl(t){const e=t.slice(),r=e[7](e[13]);return e[20]=r,e}function Bt(t){let e,r,n,l;return{c(){e=le("line"),this.h()},l(i){e=ie(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),N(e).forEach(m),this.h()},h(){h(e,"x1",r=t[22]*2),h(e,"y1",n=t[2](t[23]*2+t[5])),h(e,"x2","0"),h(e,"y2",l=t[2](-t[5])),h(e,"class","svelte-1j3y5u1")},m(i,a){S(i,e,a)},p(i,a){a&1600&&r!==(r=i[22]*2)&&h(e,"x1",r),a&1636&&n!==(n=i[2](i[23]*2+i[5]))&&h(e,"y1",n),a&36&&l!==(l=i[2](-i[5]))&&h(e,"y2",l)},d(i){i&&m(e)}}}function Wt(t){let e,r,n;return{c(){e=le("line"),this.h()},l(l){e=ie(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),N(e).forEach(m),this.h()},h(){h(e,"x1",r=t[20]),h(e,"y1","0"),h(e,"x2",n=t[20]),h(e,"y2",t[1]),h(e,"class","svelte-1j3y5u1")},m(l,i){S(l,e,i)},p(l,i){i&640&&r!==(r=l[20])&&h(e,"x1",r),i&640&&n!==(n=l[20])&&h(e,"x2",n),i&2&&h(e,"y2",l[1])},d(l){l&&m(e)}}}function Ft(t){let e;function r(a,o){if(a[8]==="vertical")return Wt;if(a[8]==="radial")return Bt}function n(a,o){if(o===Wt)return hl(a);if(o===Bt)return cl(a)}let l=r(t),i=l&&l(n(t,l));return{c(){i&&i.c(),e=V()},l(a){i&&i.l(a),e=V()},m(a,o){i&&i.m(a,o),S(a,e,o)},p(a,o){l===(l=r(a))&&i?i.p(n(a,l),o):(i&&i.d(1),i=l&&l(n(a,l)),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&m(e),i&&i.d(a)}}}function Vt(t){let e,r,n,l,i,a,o=t[14]+"",f,s;return{c(){e=le("line"),i=le("text"),a=W("horizontal cut at "),f=W(o),this.h()},l(u){e=ie(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),N(e).forEach(m),i=ie(u,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0,"font-size":!0});var c=N(i);a=F(c,"horizontal cut at "),f=F(c,o),c.forEach(m),this.h()},h(){h(e,"x1","0"),h(e,"y1",r=t[15]),h(e,"x2",n=t[0]/2),h(e,"y2",l=t[15]),h(e,"class","svelte-1j3y5u1"),h(i,"x","0"),h(i,"y",s=t[15]),h(i,"alignment-baseline","central"),h(i,"text-anchor","end"),h(i,"font-size","x-small")},m(u,c){S(u,e,c),S(u,i,c),v(i,a),v(i,f)},p(u,c){c&1052&&r!==(r=u[15])&&h(e,"y1",r),c&1&&n!==(n=u[0]/2)&&h(e,"x2",n),c&1052&&l!==(l=u[15])&&h(e,"y2",l),c&1048&&o!==(o=u[14]+"")&&$(f,o),c&1052&&s!==(s=u[15])&&h(i,"y",s)},d(u){u&&(m(e),m(i))}}}function gl(t){let e,r,n=X(t[9]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Ft(qt(t,n,o));let i=X(t[4]),a=[];for(let o=0;o<i.length;o+=1)a[o]=Vt(Ht(t,i,o));return{c(){e=le("g");for(let o=0;o<l.length;o+=1)l[o].c();r=V();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=ie(o,"g",{class:!0});var f=N(e);for(let s=0;s<l.length;s+=1)l[s].l(f);r=V();for(let s=0;s<a.length;s+=1)a[s].l(f);f.forEach(m),this.h()},h(){h(e,"class","cuts")},m(o,f){S(o,e,f);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null);v(e,r);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null)},p(o,[f]){if(f&2022){n=X(o[9]);let s;for(s=0;s<n.length;s+=1){const u=qt(o,n,s);l[s]?l[s].p(u,f):(l[s]=Ft(u),l[s].c(),l[s].m(e,r))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}if(f&1053){i=X(o[4]);let s;for(s=0;s<i.length;s+=1){const u=Ht(o,i,s);a[s]?a[s].p(u,f):(a[s]=Vt(u),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}},i:H,o:H,d(o){o&&m(e),se(l,o),se(a,o)}}}function ml(t,e,r){let n,l,i,a,o,f,s,u,c,{width:g}=e,{height:p}=e,{yScale:k}=e;const _=Ne("onionStore");return Qe(t,_,d=>r(12,c=d)),t.$$set=d=>{"width"in d&&r(0,g=d.width),"height"in d&&r(1,p=d.height),"yScale"in d&&r(2,k=d.yScale)},t.$$.update=()=>{t.$$.dirty&4096&&r(10,{radius:n,cutNumbers:l,cutType:i,cutWidthScale:a,cutAngleScale:o,cutTargetDepth:f,horizontalCutNumbers:s,horizontalCutScale:u}=c,n,(r(9,l),r(12,c)),(r(8,i),r(12,c)),(r(7,a),r(12,c)),(r(6,o),r(12,c)),(r(5,f),r(12,c)),(r(4,s),r(12,c)),(r(3,u),r(12,c)))},[g,p,k,u,s,f,o,a,i,l,n,_,c]}class dl extends te{constructor(e){super(),ne(this,e,ml,gl,ee,{width:0,height:1,yScale:2})}}function Xt(t,e,r){const n=t.slice();n[17]=e[r].layerRadius,n[29]=e[r].pieces,n[26]=r;const l=n[29].length;n[30]=l;const i=n[26]===0;n[31]=i;const a=n[26]===n[2].length-1;return n[32]=a,n}function Ut(t,e,r){const n=t.slice();n[34]=e[r].xOfLeftCutIntersection,n[35]=e[r].xRange,n[36]=e[r].area,n[19]=e[r].yRange,n[20]=e[r].subPieces,n[40]=r;const l=n[34];n[37]=l;const i=n[5][n[26]];n[22]=i;const a=n[22](n[37]);n[23]=a;const o=n[0](n[23]);n[38]=o;const f=n[7]!==0&&n[40]===n[30]-1;return n[28]=f,n}function Kt(t,e,r){const n=t.slice();return n[13]=e[r].cutX,n[14]=e[r].pieceColumn,n[16]=r,n}function Gt(t,e,r){const n=t.slice();n[17]=e[r].layerRadius,n[18]=e[r].pieceArea,n[19]=e[r].yRange,n[20]=e[r].subPieces,n[26]=r;const l=n[5].filter(function(...s){return t[11](n[13],...s)});n[21]=l;const i=n[21][n[26]]??n[21][0];n[22]=i;const a=n[22](n[13]);n[23]=a;const o=n[0](n[23]);return n[24]=o,n}function nt(t){const e=t.slice(),r=e[16]===0;e[27]=r;const n=e[26]===0;return e[28]=n,e}function _l(t){let e,r=X(t[2]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Qt(Xt(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=V()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=V()},m(l,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,i);S(l,e,i)},p(l,i){if(i[0]&679){r=X(l[2]);let a;for(a=0;a<r.length;a+=1){const o=Xt(l,r,a);n[a]?n[a].p(o,i):(n[a]=Qt(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&m(e),se(n,l)}}}function pl(t){let e,r=X(t[3]),n=[];for(let l=0;l<r.length;l+=1)n[l]=en(Kt(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=V()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=V()},m(l,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,i);S(l,e,i)},p(l,i){if(i[0]&571){r=X(l[3]);let a;for(a=0;a<r.length;a+=1){const o=Kt(l,r,a);n[a]?n[a].p(o,i):(n[a]=en(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&m(e),se(n,l)}}}function Jt(t){let e,r=Math.round(t[36])+"",n,l,i;return{c(){e=le("text"),n=W(r),this.h()},l(a){e=ie(a,"text",{x:!0,y:!0,"font-size":!0});var o=N(e);n=F(o,r),o.forEach(m),this.h()},h(){h(e,"x",l=t[37]),h(e,"y",i=t[38]),h(e,"font-size","x-small"),ge(e,"primary",t[32]||t[28]),ge(e,"secondary",t[31])},m(a,o){S(a,e,o),v(e,n)},p(a,o){o[0]&4&&r!==(r=Math.round(a[36])+"")&&$(n,r),o[0]&4&&l!==(l=a[37])&&h(e,"x",l),o[0]&37&&i!==(i=a[38])&&h(e,"y",i),o[0]&132&&ge(e,"primary",a[32]||a[28])},d(a){a&&m(e)}}}function Yt(t){let e,r,n=(t[20].length?JSON.stringify(t[20].map(Math.round)):"")+"",l,i,a,o,f,s=t[1]&&(t[7]===0&&(t[31]||t[32])||t[28])&&Jt(t);return{c(){s&&s.c(),e=q(),r=le("text"),l=W(n),f=q(),this.h()},l(u){s&&s.l(u),e=B(u),r=ie(u,"text",{x:!0,y:!0,"font-size":!0,"alignment-baseline":!0,fill:!0});var c=N(r);l=F(c,n),c.forEach(m),f=B(u),this.h()},h(){h(r,"x",i=t[37]),h(r,"y",a=t[38]),h(r,"font-size","xx-small"),h(r,"alignment-baseline","hanging"),h(r,"fill",o=t[9][t[20].length])},m(u,c){s&&s.m(u,c),S(u,e,c),S(u,r,c),v(r,l),S(u,f,c)},p(u,c){u[1]&&(u[7]===0&&(u[31]||u[32])||u[28])?s?s.p(u,c):(s=Jt(u),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c[0]&4&&n!==(n=(u[20].length?JSON.stringify(u[20].map(Math.round)):"")+"")&&$(l,n),c[0]&4&&i!==(i=u[37])&&h(r,"x",i),c[0]&37&&a!==(a=u[38])&&h(r,"y",a),c[0]&4&&o!==(o=u[9][u[20].length])&&h(r,"fill",o)},d(u){u&&(m(e),m(r),m(f)),s&&s.d(u)}}}function Qt(t){let e,r=X(t[29]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Yt(Ut(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=V()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=V()},m(l,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,i);S(l,e,i)},p(l,i){if(i[0]&679){r=X(l[29]);let a;for(a=0;a<r.length;a+=1){const o=Ut(l,r,a);n[a]?n[a].p(o,i):(n[a]=Yt(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&m(e),se(n,l)}}}function Zt(t){let e,r=(t[27]||t[28])&&bl(t);return{c(){r&&r.c(),e=V()},l(n){r&&r.l(n),e=V()},m(n,l){r&&r.m(n,l),S(n,e,l)},p(n,l){(n[27]||n[28])&&r.p(n,l)},d(n){n&&m(e),r&&r.d(n)}}}function bl(t){let e,r=Math.round(t[18])+"",n,l,i;return{c(){e=le("text"),n=W(r),this.h()},l(a){e=ie(a,"text",{x:!0,y:!0,"font-size":!0});var o=N(e);n=F(o,r),o.forEach(m),this.h()},h(){h(e,"x",l=t[13]),h(e,"y",i=t[24]),h(e,"font-size","x-small"),ge(e,"primary",t[27]),ge(e,"secondary",t[28])},m(a,o){S(a,e,o),v(e,n)},p(a,o){o[0]&8&&r!==(r=Math.round(a[18])+"")&&$(n,r),o[0]&8&&l!==(l=a[13])&&h(e,"x",l),o[0]&57&&i!==(i=a[24])&&h(e,"y",i)},d(a){a&&m(e)}}}function $t(t){let e,r=(t[20].length?JSON.stringify(t[20].map(Math.round)):"")+"",n,l,i,a,o,f,s=t[1]&&Zt(nt(t));return{c(){e=le("text"),n=W(r),o=q(),s&&s.c(),f=V(),this.h()},l(u){e=ie(u,"text",{x:!0,y:!0,"font-size":!0,"alignment-baseline":!0,fill:!0});var c=N(e);n=F(c,r),c.forEach(m),o=B(u),s&&s.l(u),f=V(),this.h()},h(){h(e,"x",l=t[13]),h(e,"y",i=t[24]),h(e,"font-size","xx-small"),h(e,"alignment-baseline","hanging"),h(e,"fill",a=t[9][t[20].length])},m(u,c){S(u,e,c),v(e,n),S(u,o,c),s&&s.m(u,c),S(u,f,c)},p(u,c){c[0]&8&&r!==(r=(u[20].length?JSON.stringify(u[20].map(Math.round)):"")+"")&&$(n,r),c[0]&8&&l!==(l=u[13])&&h(e,"x",l),c[0]&57&&i!==(i=u[24])&&h(e,"y",i),c[0]&8&&a!==(a=u[9][u[20].length])&&h(e,"fill",a),u[1]?s?s.p(nt(u),c):(s=Zt(nt(u)),s.c(),s.m(f.parentNode,f)):s&&(s.d(1),s=null)},d(u){u&&(m(e),m(o),m(f)),s&&s.d(u)}}}function en(t){let e,r=X(t[14]),n=[];for(let l=0;l<r.length;l+=1)n[l]=$t(Gt(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=V()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);e=V()},m(l,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(l,i);S(l,e,i)},p(l,i){if(i[0]&571){r=X(l[14]);let a;for(a=0;a<r.length;a+=1){const o=Gt(l,r,a);n[a]?n[a].p(o,i):(n[a]=$t(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(l){l&&m(e),se(n,l)}}}function yl(t){let e;function r(i,a){if(i[6]==="vertical")return pl;if(i[6]==="radial")return _l}let n=r(t),l=n&&n(t);return{c(){l&&l.c(),e=V()},l(i){l&&l.l(i),e=V()},m(i,a){l&&l.m(i,a),S(i,e,a)},p(i,a){n===(n=r(i))&&l?l.p(i,a):(l&&l.d(1),l=n&&n(i),l&&(l.c(),l.m(e.parentNode,e)))},i:H,o:H,d(i){i&&m(e),l&&l.d(i)}}}function vl(t,e,r){let n,l,i,a,o,f,s,u,{yScale:c}=e,{highlightExtremes:g}=e;const p=Ne("onionStore");Qe(t,p,d=>r(10,u=d));const k=["black",void 0,"blue","cyan"],_=(d,y,b)=>a[b]>d;return t.$$set=d=>{"yScale"in d&&r(0,c=d.yScale),"highlightExtremes"in d&&r(1,g=d.highlightExtremes)},t.$$.update=()=>{t.$$.dirty[0]&1024&&r(7,{cutTargetDepthPercentage:n,cutType:l,layerArcs:i,layerRadii:a,numCuts:o,verticalAreas:f,radialAreas:s}=u,n,(r(6,l),r(10,u)),(r(5,i),r(10,u)),(r(4,a),r(10,u)),(r(3,f),r(10,u)),(r(2,s),r(10,u)))},[c,g,s,f,a,i,l,n,p,k,u,_]}class wl extends te{constructor(e){super(),ne(this,e,vl,yl,ee,{yScale:0,highlightExtremes:1},null,[-1,-1])}}function tn(t,e,r){const n=t.slice();return n[12]=e[r],n}function nn(t){let e,r;return{c(){e=C("div"),r=W(t[1]),this.h()},l(n){e=E(n,"DIV",{class:!0,id:!0});var l=N(e);r=F(l,t[1]),l.forEach(m),this.h()},h(){h(e,"class","legend svelte-13oh5yk"),h(e,"id","legend-"+t[6])},m(n,l){S(n,e,l),v(e,r)},p(n,l){l&2&&$(r,n[1])},d(n){n&&m(e)}}}function rn(t){let e,r,n,l,i=!1,a,o,f=(t[12].label||t[12].value)+"",s,u,c,g,p,k,_;return p=Tn(t[10][0]),{c(){e=C("div"),r=C("input"),a=q(),o=C("label"),s=W(f),g=q(),this.h()},l(d){e=E(d,"DIV",{class:!0});var y=N(e);r=E(y,"INPUT",{type:!0,id:!0,name:!0,class:!0}),a=B(y),o=E(y,"LABEL",{class:!0,for:!0});var b=N(o);s=F(b,f),b.forEach(m),g=B(y),y.forEach(m),this.h()},h(){h(r,"type","radio"),h(r,"id",n=`${t[6]}-${t[12].slug}`),h(r,"name","name-"+t[6]),h(r,"class","sr-only svelte-13oh5yk"),r.__value=l=t[12].value,Me(r,r.__value),r.disabled=t[3],h(o,"class",u="option "+t[2]+" svelte-13oh5yk"),h(o,"for",c=`${t[6]}-${t[12].slug}`),h(e,"class","option svelte-13oh5yk"),p.p(r)},m(d,y){S(d,e,y),v(e,r),r.checked=r.__value===t[0],v(e,a),v(e,o),v(o,s),v(e,g),k||(_=Pe(r,"change",t[9]),k=!0)},p(d,y){y&32&&n!==(n=`${d[6]}-${d[12].slug}`)&&h(r,"id",n),y&32&&l!==(l=d[12].value)&&(r.__value=l,Me(r,r.__value),i=!0),y&8&&(r.disabled=d[3]),(i||y&33)&&(r.checked=r.__value===d[0]),y&32&&f!==(f=(d[12].label||d[12].value)+"")&&$(s,f),y&4&&u!==(u="option "+d[2]+" svelte-13oh5yk")&&h(o,"class",u),y&32&&c!==(c=`${d[6]}-${d[12].slug}`)&&h(o,"for",c)},d(d){d&&m(e),p.r(),k=!1,_()}}}function xl(t){let e,r,n,l,i=t[1]&&nn(t),a=X(t[5]),o=[];for(let f=0;f<a.length;f+=1)o[f]=rn(tn(t,a,f));return{c(){e=C("div"),r=C("div"),i&&i.c(),n=q(),l=C("div");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=E(f,"DIV",{class:!0});var s=N(e);r=E(s,"DIV",{id:!0,class:!0,role:!0,"aria-labelledby":!0});var u=N(r);i&&i.l(u),n=B(u),l=E(u,"DIV",{class:!0});var c=N(l);for(let g=0;g<o.length;g+=1)o[g].l(c);c.forEach(m),u.forEach(m),s.forEach(m),this.h()},h(){h(l,"class","options svelte-13oh5yk"),h(r,"id",`group-${t[6]}`),h(r,"class","group svelte-13oh5yk"),h(r,"role","radiogroup"),h(r,"aria-labelledby",`label-${t[6]}`),ge(r,"is-top",t[4]),h(e,"class","button-set svelte-13oh5yk")},m(f,s){S(f,e,s),v(e,r),i&&i.m(r,null),v(r,n),v(r,l);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(l,null)},p(f,[s]){if(f[1]?i?i.p(f,s):(i=nn(f),i.c(),i.m(r,n)):i&&(i.d(1),i=null),s&109){a=X(f[5]);let u;for(u=0;u<a.length;u+=1){const c=tn(f,a,u);o[u]?o[u].p(c,s):(o[u]=rn(c),o[u].c(),o[u].m(l,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=a.length}s&16&&ge(r,"is-top",f[4])},i:H,o:H,d(f){f&&m(e),i&&i.d(),se(o,f)}}}function kl(t,e,r){let n,l,{options:i=[]}=e,{legend:a=""}=e,{legendPosition:o="top"}=e,{labelClass:f=""}=e,{disabled:s=!1}=e,{value:u=i.length?i[0].value:""}=e;const c=`legend-${Math.floor(Math.random()*1e6)}`,g=(_="")=>`${_}`.toLowerCase().replace(/\W/g,""),p=[[]];function k(){u=this.__value,r(0,u)}return t.$$set=_=>{"options"in _&&r(7,i=_.options),"legend"in _&&r(1,a=_.legend),"legendPosition"in _&&r(8,o=_.legendPosition),"labelClass"in _&&r(2,f=_.labelClass),"disabled"in _&&r(3,s=_.disabled),"value"in _&&r(0,u=_.value)},t.$$.update=()=>{t.$$.dirty&128&&r(5,n=i.map(_=>({..._,val:_.value,slug:g(_.value)}))),t.$$.dirty&256&&r(4,l=o==="top")},[u,a,f,s,l,n,c,i,o,k,p]}class Ml extends te{constructor(e){super(),ne(this,e,kl,xl,ee,{options:7,legend:1,legendPosition:8,labelClass:2,disabled:3,value:0})}}function ln(t,e,r){const n=t.slice();return n[10]=e[r],n}function an(t){let e,r=Te(`.${t[6]}f`)(t[10])+"",n;return{c(){e=C("span"),n=W(r),this.h()},l(l){e=E(l,"SPAN",{class:!0});var i=N(e);n=F(i,r),i.forEach(m),this.h()},h(){h(e,"class","tick svelte-q7ecsm")},m(l,i){S(l,e,i),v(e,n)},p(l,i){i&96&&r!==(r=Te(`.${l[6]}f`)(l[10])+"")&&$(n,r)},d(l){l&&m(e)}}}function Cl(t){let e,r,n,l,i,a,o=X(t[5]),f=[];for(let s=0;s<o.length;s+=1)f[s]=an(ln(t,o,s));return{c(){e=C("div"),r=C("div");for(let s=0;s<f.length;s+=1)f[s].c();n=q(),l=C("input"),this.h()},l(s){e=E(s,"DIV",{class:!0});var u=N(e);r=E(u,"DIV",{class:!0});var c=N(r);for(let g=0;g<f.length;g+=1)f[g].l(c);c.forEach(m),n=B(u),l=E(u,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),u.forEach(m),this.h()},h(){h(r,"class","ticks svelte-q7ecsm"),h(l,"type","range"),h(l,"aria-label",t[4]),h(l,"min",t[1]),h(l,"max",t[2]),h(l,"step",t[3]),h(l,"class","svelte-q7ecsm"),h(e,"class","range svelte-q7ecsm")},m(s,u){S(s,e,u),v(e,r);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(r,null);v(e,n),v(e,l),Me(l,t[0]),i||(a=[Pe(l,"change",t[8]),Pe(l,"input",t[8])],i=!0)},p(s,[u]){if(u&96){o=X(s[5]);let c;for(c=0;c<o.length;c+=1){const g=ln(s,o,c);f[c]?f[c].p(g,u):(f[c]=an(g),f[c].c(),f[c].m(r,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=o.length}u&16&&h(l,"aria-label",s[4]),u&2&&h(l,"min",s[1]),u&4&&h(l,"max",s[2]),u&8&&h(l,"step",s[3]),u&1&&Me(l,s[0])},i:H,o:H,d(s){s&&m(e),se(f,s),i=!1,Nn(a)}}}function El(t,e,r){let n,l,{min:i=0}=e,{max:a=100}=e,{step:o=1}=e,{showTicks:f=!1}=e,{value:s=i}=e,{label:u=""}=e;const c=p=>Math.floor(p)===p?0:p.toString().split(".")[1].length||0;function g(){s=ut(this.value),r(0,s)}return t.$$set=p=>{"min"in p&&r(1,i=p.min),"max"in p&&r(2,a=p.max),"step"in p&&r(3,o=p.step),"showTicks"in p&&r(7,f=p.showTicks),"value"in p&&r(0,s=p.value),"label"in p&&r(4,u=p.label)},t.$$.update=()=>{t.$$.dirty&8&&r(6,n=c(o)),t.$$.dirty&142&&r(5,l=f?ar(i,a+o,o):[])},[s,i,a,o,u,l,n,f,g]}class Ze extends te{constructor(e){super(),ne(this,e,El,Cl,ee,{min:1,max:2,step:3,showTicks:7,value:0,label:4})}}function on(t){let e,r=t[2][0]+"",n,l,i,a=t[2][1]+"",o;return{c(){e=C("span"),n=W(r),l=q(),i=C("span"),o=W(a),this.h()},l(f){e=E(f,"SPAN",{class:!0});var s=N(e);n=F(s,r),s.forEach(m),l=B(f),i=E(f,"SPAN",{class:!0});var u=N(i);o=F(u,a),u.forEach(m),this.h()},h(){h(e,"class","svelte-157h5as"),h(i,"class","svelte-157h5as")},m(f,s){S(f,e,s),v(e,n),S(f,l,s),S(f,i,s),v(i,o)},p(f,s){s&4&&r!==(r=f[2][0]+"")&&$(n,r),s&4&&a!==(a=f[2][1]+"")&&$(o,a)},d(f){f&&(m(e),m(l),m(i))}}}function Sl(t){let e,r,n,l,i,a,o,f,s=t[1]==="inner"&&on(t);return{c(){e=C("div"),r=C("span"),n=W(t[0]),l=q(),i=C("button"),s&&s.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var c=N(e);r=E(c,"SPAN",{class:!0,id:!0});var g=N(r);n=F(g,t[0]),g.forEach(m),l=B(c),i=E(c,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var p=N(i);s&&s.l(p),p.forEach(m),c.forEach(m),this.h()},h(){h(r,"class","label svelte-157h5as"),h(r,"id",t[4]),h(i,"role","switch"),h(i,"aria-checked",t[3]),h(i,"aria-labelledby",t[4]),h(i,"class","svelte-157h5as"),h(e,"class",a="toggle toggle--"+t[1]+" svelte-157h5as")},m(u,c){S(u,e,c),v(e,r),v(r,n),v(e,l),v(e,i),s&&s.m(i,null),o||(f=Pe(i,"click",t[5]),o=!0)},p(u,[c]){c&1&&$(n,u[0]),u[1]==="inner"?s?s.p(u,c):(s=on(u),s.c(),s.m(i,null)):s&&(s.d(1),s=null),c&8&&h(i,"aria-checked",u[3]),c&2&&a!==(a="toggle toggle--"+u[1]+" svelte-157h5as")&&h(e,"class",a)},i:H,o:H,d(u){u&&m(e),s&&s.d(),o=!1,f()}}}function Al(t,e,r){let{label:n}=e,{style:l="inner"}=e,{options:i=["on","off"]}=e,{value:a=i[0]}=e,o=a===i[0];const f=`toggle-${Math.floor(Math.random()*1e6)}`,s=u=>{const g=u.target.getAttribute("aria-checked");r(3,o=g!=="true"),r(6,a=o?i[0]:i[1])};return t.$$set=u=>{"label"in u&&r(0,n=u.label),"style"in u&&r(1,l=u.style),"options"in u&&r(2,i=u.options),"value"in u&&r(6,a=u.value)},[n,l,i,o,f,s,a]}class Tl extends te{constructor(e){super(),ne(this,e,Al,Sl,ee,{label:0,style:1,options:2,value:6})}}function sn(t){let e,r,n,l=t[9]&&un(t),i=t[10]&&fn(t);return{c(){e=C("div"),l&&l.c(),r=q(),i&&i.c(),this.h()},l(a){e=E(a,"DIV",{class:!0});var o=N(e);l&&l.l(o),r=B(o),i&&i.l(o),o.forEach(m),this.h()},h(){h(e,"class","controls top svelte-1jcuwfp")},m(a,o){S(a,e,o),l&&l.m(e,null),v(e,r),i&&i.m(e,null),n=!0},p(a,o){a[9]?l?(l.p(a,o),o&512&&z(l,1)):(l=un(a),l.c(),z(l,1),l.m(e,r)):l&&(me(),R(l,1,1,()=>{l=null}),de()),a[10]?i?i.p(a,o):(i=fn(a),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(a){n||(z(l),n=!0)},o(a){R(l),n=!1},d(a){a&&m(e),l&&l.d(),i&&i.d()}}}function un(t){let e,r,n;function l(a){t[20](a)}let i={label:"explode",style:"slider"};return t[14]!==void 0&&(i.value=t[14]),e=new Tl({props:i}),Ce.push(()=>Se(e,"value",l)),{c(){G(e.$$.fragment)},l(a){J(e.$$.fragment,a)},m(a,o){Y(e,a,o),n=!0},p(a,o){const f={};!r&&o&16384&&(r=!0,f.value=a[14],Ee(()=>r=!1)),e.$set(f)},i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){R(e.$$.fragment,a),n=!1},d(a){Q(e,a)}}}function fn(t){let e,r,n,l,i;return{c(){e=C("label"),r=W(`standard deviation
					`),n=C("input"),this.h()},l(a){e=E(a,"LABEL",{class:!0});var o=N(e);r=F(o,`standard deviation
					`),n=E(o,"INPUT",{type:!0}),o.forEach(m),this.h()},h(){h(n,"type","number"),n.readOnly=!0,h(e,"class","standard-deviation")},m(a,o){S(a,e,o),v(e,r),v(e,n),Me(n,t[15].standardDeviation),l||(i=Pe(n,"input",t[21]),l=!0)},p(a,o){o&32768&&ut(n.value)!==a[15].standardDeviation&&Me(n,a[15].standardDeviation)},d(a){a&&m(e),l=!1,i()}}}function cn(t){let e,r;return e=new dl({props:{width:be,height:t[16],yScale:t[17]}}),{c(){G(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,l){Y(e,n,l),r=!0},p:H,i(n){r||(z(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){Q(e,n)}}}function hn(t){let e,r,n,l,i,a,o,f,s,u,c,g=t[5]&&gn(t);function p(y){t[23](y)}let k={min:1,max:10,label:"number of cuts"};t[12]!==void 0&&(k.value=t[12]),o=new Ze({props:k}),Ce.push(()=>Se(o,"value",p));let _=t[6]&&mn(t),d=t[7]&&dn(t);return{c(){e=C("div"),g&&g.c(),r=q(),n=C("p"),l=W("number of cuts: "),i=W(t[12]),a=q(),G(o.$$.fragment),s=q(),_&&_.c(),u=q(),d&&d.c(),this.h()},l(y){e=E(y,"DIV",{class:!0});var b=N(e);g&&g.l(b),r=B(b),n=E(b,"P",{});var w=N(n);l=F(w,"number of cuts: "),i=F(w,t[12]),w.forEach(m),a=B(b),J(o.$$.fragment,b),s=B(b),_&&_.l(b),u=B(b),d&&d.l(b),b.forEach(m),this.h()},h(){h(e,"class","controls bottom svelte-1jcuwfp")},m(y,b){S(y,e,b),g&&g.m(e,null),v(e,r),v(e,n),v(n,l),v(n,i),v(e,a),Y(o,e,null),v(e,s),_&&_.m(e,null),v(e,u),d&&d.m(e,null),c=!0},p(y,b){y[5]?g?(g.p(y,b),b&32&&z(g,1)):(g=gn(y),g.c(),z(g,1),g.m(e,r)):g&&(me(),R(g,1,1,()=>{g=null}),de()),(!c||b&4096)&&$(i,y[12]);const w={};!f&&b&4096&&(f=!0,w.value=y[12],Ee(()=>f=!1)),o.$set(w),y[6]?_?(_.p(y,b),b&64&&z(_,1)):(_=mn(y),_.c(),z(_,1),_.m(e,u)):_&&(me(),R(_,1,1,()=>{_=null}),de()),y[7]?d?(d.p(y,b),b&128&&z(d,1)):(d=dn(y),d.c(),z(d,1),d.m(e,null)):d&&(me(),R(d,1,1,()=>{d=null}),de())},i(y){c||(z(g),z(o.$$.fragment,y),z(_),z(d),c=!0)},o(y){R(g),R(o.$$.fragment,y),R(_),R(d),c=!1},d(y){y&&m(e),g&&g.d(),Q(o),_&&_.d(),d&&d.d()}}}function gn(t){let e,r,n,l,i,a,o;function f(u){t[22](u)}let s={min:7,max:13,label:"number of layers"};return t[11]!==void 0&&(s.value=t[11]),i=new Ze({props:s}),Ce.push(()=>Se(i,"value",f)),{c(){e=C("p"),r=W("number of layers: "),n=W(t[11]),l=q(),G(i.$$.fragment)},l(u){e=E(u,"P",{});var c=N(e);r=F(c,"number of layers: "),n=F(c,t[11]),c.forEach(m),l=B(u),J(i.$$.fragment,u)},m(u,c){S(u,e,c),v(e,r),v(e,n),S(u,l,c),Y(i,u,c),o=!0},p(u,c){(!o||c&2048)&&$(n,u[11]);const g={};!a&&c&2048&&(a=!0,g.value=u[11],Ee(()=>a=!1)),i.$set(g)},i(u){o||(z(i.$$.fragment,u),o=!0)},o(u){R(i.$$.fragment,u),o=!1},d(u){u&&(m(e),m(l)),Q(i,u)}}}function mn(t){let e,r,n,l,i,a,o=st(-t[1])+"",f,s,u,c,g,p;function k(b){t[24](b)}let _={legend:"cut type",options:t[18]};t[0]!==void 0&&(_.value=t[0]),e=new Ml({props:_}),Ce.push(()=>Se(e,"value",k));function d(b){t[25](b)}let y={min:0,max:1,step:.01,label:"cut target depth percentage"};return t[1]!==void 0&&(y.value=t[1]),c=new Ze({props:y}),Ce.push(()=>Se(c,"value",d)),{c(){G(e.$$.fragment),n=q(),l=C("div"),i=C("p"),a=W(`cut target height:
						`),f=W(o),s=W(" of outer radius"),u=q(),G(c.$$.fragment),this.h()},l(b){J(e.$$.fragment,b),n=B(b),l=E(b,"DIV",{class:!0});var w=N(l);i=E(w,"P",{});var O=N(i);a=F(O,`cut target height:
						`),f=F(O,o),s=F(O," of outer radius"),O.forEach(m),u=B(w),J(c.$$.fragment,w),w.forEach(m),this.h()},h(){h(l,"class","svelte-1jcuwfp"),ge(l,"hidden",t[0]!=="radial")},m(b,w){Y(e,b,w),S(b,n,w),S(b,l,w),v(l,i),v(i,a),v(i,f),v(i,s),v(l,u),Y(c,l,null),p=!0},p(b,w){const O={};!r&&w&1&&(r=!0,O.value=b[0],Ee(()=>r=!1)),e.$set(O),(!p||w&2)&&o!==(o=st(-b[1])+"")&&$(f,o);const x={};!g&&w&2&&(g=!0,x.value=b[1],Ee(()=>g=!1)),c.$set(x),(!p||w&1)&&ge(l,"hidden",b[0]!=="radial")},i(b){p||(z(e.$$.fragment,b),z(c.$$.fragment,b),p=!0)},o(b){R(e.$$.fragment,b),R(c.$$.fragment,b),p=!1},d(b){b&&(m(n),m(l)),Q(e,b),Q(c)}}}function dn(t){let e,r,n,l,i,a,o;function f(u){t[26](u)}let s={min:0,max:2,label:"horizontal cuts"};return t[13]!==void 0&&(s.value=t[13]),i=new Ze({props:s}),Ce.push(()=>Se(i,"value",f)),{c(){e=C("p"),r=W("horizontal cuts: "),n=W(t[13]),l=q(),G(i.$$.fragment)},l(u){e=E(u,"P",{});var c=N(e);r=F(c,"horizontal cuts: "),n=F(c,t[13]),c.forEach(m),l=B(u),J(i.$$.fragment,u)},m(u,c){S(u,e,c),v(e,r),v(e,n),S(u,l,c),Y(i,u,c),o=!0},p(u,c){(!o||c&8192)&&$(n,u[13]);const g={};!a&&c&8192&&(a=!0,g.value=u[13],Ee(()=>a=!1)),i.$set(g)},i(u){o||(z(i.$$.fragment,u),o=!0)},o(u){R(i.$$.fragment,u),o=!1},d(u){u&&(m(e),m(l)),Q(i,u)}}}function Nl(t){let e,r,n,l,i,a,o,f,s,u,c,g=(t[9]||t[10])&&sn(t);l=new Rt({props:{width:be,height:t[16]}}),i=new Rt({props:{width:be,height:t[16],isBottom:!0}}),a=new ol({props:{height:t[16]}}),o=new fl({props:{height:t[16]}});let p=t[2]&&cn(t);s=new wl({props:{yScale:t[17],highlightExtremes:t[3]}});let k=t[4]&&hn(t);return{c(){e=C("figure"),g&&g.c(),r=q(),n=le("svg"),G(l.$$.fragment),G(i.$$.fragment),G(a.$$.fragment),G(o.$$.fragment),p&&p.c(),f=V(),G(s.$$.fragment),u=q(),k&&k.c(),this.h()},l(_){e=E(_,"FIGURE",{"aria-describedby":!0,class:!0});var d=N(e);g&&g.l(d),r=B(d),n=ie(d,"svg",{width:!0,height:!0,viewBox:!0});var y=N(n);J(l.$$.fragment,y),J(i.$$.fragment,y),J(a.$$.fragment,y),J(o.$$.fragment,y),p&&p.l(y),f=V(),J(s.$$.fragment,y),y.forEach(m),u=B(d),k&&k.l(d),d.forEach(m),this.h()},h(){h(n,"width",be),h(n,"height",t[16]),h(n,"viewBox",-be/2+" 0 "+be+" "+t[16]),h(e,"aria-describedby",t[8]),h(e,"class","svelte-1jcuwfp")},m(_,d){S(_,e,d),g&&g.m(e,null),v(e,r),v(e,n),Y(l,n,null),Y(i,n,null),Y(a,n,null),Y(o,n,null),p&&p.m(n,null),v(n,f),Y(s,n,null),v(e,u),k&&k.m(e,null),c=!0},p(_,[d]){_[9]||_[10]?g?(g.p(_,d),d&1536&&z(g,1)):(g=sn(_),g.c(),z(g,1),g.m(e,r)):g&&(me(),R(g,1,1,()=>{g=null}),de()),_[2]?p?(p.p(_,d),d&4&&z(p,1)):(p=cn(_),p.c(),z(p,1),p.m(n,f)):p&&(me(),R(p,1,1,()=>{p=null}),de());const y={};d&8&&(y.highlightExtremes=_[3]),s.$set(y),_[4]?k?(k.p(_,d),d&16&&z(k,1)):(k=hn(_),k.c(),z(k,1),k.m(e,null)):k&&(me(),R(k,1,1,()=>{k=null}),de()),(!c||d&256)&&h(e,"aria-describedby",_[8])},i(_){c||(z(g),z(l.$$.fragment,_),z(i.$$.fragment,_),z(a.$$.fragment,_),z(o.$$.fragment,_),z(p),z(s.$$.fragment,_),z(k),c=!0)},o(_){R(g),R(l.$$.fragment,_),R(i.$$.fragment,_),R(a.$$.fragment,_),R(o.$$.fragment,_),R(p),R(s.$$.fragment,_),R(k),c=!1},d(_){_&&m(e),g&&g.d(),Q(l),Q(i),Q(a),Q(o),p&&p.d(),Q(s),k&&k.d()}}}const be=600;function Pl(t,e,r){let n,{showCuts:l=!0}=e,{highlightExtremes:i=!1}=e,{showControls:a=!0}=e,{controlLayers:o=!1}=e,{controlCutType:f=!1}=e,{controlHorizontalCuts:s=!1}=e,{captionId:u=void 0}=e,{cutType:c="vertical"}=e,{cutTargetDepthPercentage:g=0}=e,{toggleExplode:p=!1}=e,{showStandardDeviation:k=!1}=e;const _=be/2,d=_*.8,y=xe().domain([0,_]).range([_,0]),b=[{value:"vertical"},{value:"radial"}];let w=10,O=10,x=0,L=!1,A=Dn(new Dt({radius:d,numLayers:w,numCuts:O,cutType:c,cutTargetDepthPercentage:g,numHorizontalCuts:x}));Qe(t,A,M=>r(15,n=M)),rt("onionStore",A);function D(M){L=M,r(14,L)}function K(){n.standardDeviation=ut(this.value),A.set(n)}function U(M){w=M,r(11,w)}function P(M){O=M,r(12,O)}function j(M){c=M,r(0,c)}function I(M){g=M,r(1,g)}function T(M){x=M,r(13,x)}return t.$$set=M=>{"showCuts"in M&&r(2,l=M.showCuts),"highlightExtremes"in M&&r(3,i=M.highlightExtremes),"showControls"in M&&r(4,a=M.showControls),"controlLayers"in M&&r(5,o=M.controlLayers),"controlCutType"in M&&r(6,f=M.controlCutType),"controlHorizontalCuts"in M&&r(7,s=M.controlHorizontalCuts),"captionId"in M&&r(8,u=M.captionId),"cutType"in M&&r(0,c=M.cutType),"cutTargetDepthPercentage"in M&&r(1,g=M.cutTargetDepthPercentage),"toggleExplode"in M&&r(9,p=M.toggleExplode),"showStandardDeviation"in M&&r(10,k=M.showStandardDeviation)},t.$$.update=()=>{t.$$.dirty&14339&&Pn(A,n=new Dt({radius:d,numLayers:w,numCuts:O,cutType:c,cutTargetDepthPercentage:g,numHorizontalCuts:x}),n)},[c,g,l,i,a,o,f,s,u,p,k,w,O,x,L,n,_,y,b,A,D,K,U,P,j,I,T]}class Il extends te{constructor(e){super(),ne(this,e,Pl,Nl,ee,{showCuts:2,highlightExtremes:3,showControls:4,controlLayers:5,controlCutType:6,controlHorizontalCuts:7,captionId:8,cutType:0,cutTargetDepthPercentage:1,toggleExplode:9,showStandardDeviation:10})}}function _n(t,e,r){const n=t.slice();return n[1]=e[r].type,n[2]=e[r].value,n[4]=r,n}function zl(t){var n;const e=t.slice(),r=(n=e[0].story[e[4]-1])==null?void 0:n.value.captionId;return e[5]=r,e}function Ll(t){let e,r,n=t[2]+"";return{c(){e=C("p"),r=new Fe(!1),this.h()},l(l){e=E(l,"P",{class:!0,id:!0});var i=N(e);r=Ve(i,!1),i.forEach(m),this.h()},h(){r.a=null,h(e,"class",yn(t[1])+" svelte-b5se46"),h(e,"id",t[5])},m(l,i){S(l,e,i),r.m(n,e)},p:H,i:H,o:H,d(l){l&&m(e)}}}function Dl(t){let e,r;const n=[bt(t[2])];let l={};for(let i=0;i<n.length;i+=1)l=In(l,n[i]);return e=new Il({props:l}),{c(){G(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,a){Y(e,i,a),r=!0},p(i,a){const o=a&1?zn(n,[Ln(bt(i[2]))]):{};e.$set(o)},i(i){r||(z(e.$$.fragment,i),r=!0)},o(i){R(e.$$.fragment,i),r=!1},d(i){Q(e,i)}}}function pn(t){let e,r,n,l;const i=[Dl,Ll],a=[];function o(s,u){return s[1]==="Component"?0:1}function f(s,u){return u===1?zl(s):s}return e=o(t),r=a[e]=i[e](f(t,e)),{c(){r.c(),n=V()},l(s){r.l(s),n=V()},m(s,u){a[e].m(s,u),S(s,n,u),l=!0},p(s,u){r.p(f(s,e),u)},i(s){l||(z(r),l=!0)},o(s){R(r),l=!1},d(s){s&&m(n),a[e].d(s)}}}function Rl(t){let e,r=t[0].hed+"",n,l,i,a,o,f,s=t[0].author1+"",u,c,g,p,k=t[0].author2+"",_,d,y,b=X(t[0].story),w=[];for(let x=0;x<b.length;x+=1)w[x]=pn(_n(t,b,x));const O=x=>R(w[x],1,1,()=>{w[x]=null});return{c(){e=C("h1"),n=W(r),l=q(),i=C("div"),a=C("span"),o=W("By "),f=new Fe(!1),u=q(),c=C("span"),g=W("With "),p=new Fe(!1),_=q();for(let x=0;x<w.length;x+=1)w[x].c();d=V(),this.h()},l(x){e=E(x,"H1",{});var L=N(e);n=F(L,r),L.forEach(m),l=B(x),i=E(x,"DIV",{class:!0});var A=N(i);a=E(A,"SPAN",{});var D=N(a);o=F(D,"By "),f=Ve(D,!1),D.forEach(m),u=B(A),c=E(A,"SPAN",{});var K=N(c);g=F(K,"With "),p=Ve(K,!1),K.forEach(m),A.forEach(m),_=B(x);for(let U=0;U<w.length;U+=1)w[U].l(x);d=V(),this.h()},h(){f.a=null,p.a=null,h(i,"class","authors svelte-b5se46")},m(x,L){S(x,e,L),v(e,n),S(x,l,L),S(x,i,L),v(i,a),v(a,o),f.m(s,a),v(i,u),v(i,c),v(c,g),p.m(k,c),S(x,_,L);for(let A=0;A<w.length;A+=1)w[A]&&w[A].m(x,L);S(x,d,L),y=!0},p(x,[L]){if(L&1){b=X(x[0].story);let A;for(A=0;A<b.length;A+=1){const D=_n(x,b,A);w[A]?(w[A].p(D,L),z(w[A],1)):(w[A]=pn(D),w[A].c(),z(w[A],1),w[A].m(d.parentNode,d))}for(me(),A=b.length;A<w.length;A+=1)O(A);de()}},i(x){if(!y){for(let L=0;L<b.length;L+=1)z(w[L]);y=!0}},o(x){w=w.filter(Boolean);for(let L=0;L<w.length;L+=1)R(w[L]);y=!1},d(x){x&&(m(e),m(l),m(i),m(_),m(d)),se(w,x)}}}function jl(t){return[Ne("copy")]}class Ol extends te{constructor(e){super(),ne(this,e,jl,Rl,ee,{})}}function Hl(t){let e,r,n,l,i,a;return e=new Bn({}),n=new Un({}),i=new Ol({}),{c(){G(e.$$.fragment),r=q(),G(n.$$.fragment),l=q(),G(i.$$.fragment)},l(o){J(e.$$.fragment,o),r=B(o),J(n.$$.fragment,o),l=B(o),J(i.$$.fragment,o)},m(o,f){Y(e,o,f),S(o,r,f),Y(n,o,f),S(o,l,f),Y(i,o,f),a=!0},p:H,i(o){a||(z(e.$$.fragment,o),z(n.$$.fragment,o),z(i.$$.fragment,o),a=!0)},o(o){R(e.$$.fragment,o),R(n.$$.fragment,o),R(i.$$.fragment,o),a=!1},d(o){o&&(m(r),m(l)),Q(e,o),Q(n,o),Q(i,o)}}}function ql(t){const e=Ne("copy");return console.log({copy:e}),[]}class Bl extends te{constructor(e){super(),ne(this,e,ql,Hl,ee,{})}}const Wl=[{type:"text",value:"This is a story about onions and math."},{type:"small",value:"Not your taste? Try something else from <a href=https://pudding.cool>The Pudding</a>."},{type:"text",value:"Tens of millions of people are curious about how to properly dice an onion, <a href=https://www.youtube.com/results?search_query=how+to+dice+an+onion target=_blank rel=noreferrer>according to YouTube</a>."},{type:"text",value:"In 2021, renowned Chef / food journalist J. Kenji LÃ³pez-Alt <a href=https://www.instagram.com/p/CV6L30MBFy8/ target=_blank rel=noreferrer>broke out some math</a> to optimize a technique for getting uniform piece sizes."},{type:"us",value:"How much does uniformity matter?"},{type:"kenji",value:"<em>It matters*</em> far more for winning internet debates and solving interesting math problems than it does for cooking. For home cooks, having an onion dice that's a little off from perfect is not really an issue anyone should seriously worry about."},{type:"note",value:"*Emphasis our own"},{type:"text",value:"Good enough for us!"}],Fl="The Mathematically Optimal Way to Dice an Onion",Vl="<a target=_blank rel=noreferrer href=https://pudding.cool/author/andrew-aquino>Andrew Aquino</a>",Xl="<a target=_blank rel=noreferrer href=https://pudding.cool/author/russell-samora>Russell Samora</a>",Ul=[{type:"text",value:"This is an onion. It is also a series of concentric circles. Whatâ€™s the best way to cut it? That is, how do we get the most uniform piece size?"},{type:"Component",value:{showControls:"false",showCuts:"false"}},{type:"text",value:"Letâ€™s try a common approach - <mark>all vertical cuts</mark>."},{type:"text",value:"The pieces <strong class=primary>near the center line</strong> are fairly consistent in shape and size."},{type:"text",value:"But <strong class=secondary>along the bottom</strong> there are some noticeably larger pieces. When you dice an onion, youâ€™re probably not imagining pieces like these."},{type:"Component",value:{showControls:"false",highlightExtremes:"true"}},{type:"text",value:"This inconsistency can be measured by calculating the <strong>standard deviation</strong> of our piecesâ€™ areas. A higher value means a greater variation in piece size."},{type:"Component",value:{captionId:"slider-instructions",toggleExplode:"true",showStandardDeviation:"true"}},{type:"note",value:"Adjust the slider to see how the standard deviation changes with the number of cuts."},{type:"text",value:"Okay, letâ€™s try a different technique - <mark>radial cuts</mark>."},{type:"text",value:"The piece size still isnâ€™t very consistent - those <strong class=primary>near the outside</strong> are much larger than those <strong class=secondary>near the center</strong>."},{type:"Component",value:{showControls:"false",cutType:"radial",highlightExtremes:"true"}},{type:"text",value:"How does the standard deviation of pieces cut radially compare to those cut vertically?"},{type:"Component",value:{cutType:"radial",controlCutType:"true",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"But we can improve the radial cut strategy. Kenji claims that the most uniform pieces can be produced by <strong>aiming at a point ~60% of the onionâ€™s radius below the cutting surface.</strong>"},{type:"text",value:"The pieces now look more consistent, except for a few smaller ones <strong class=primary>along the bottom</strong>."},{type:"Component",value:{showControls:"false",cutType:"radial",cutTargetDepthPercentage:"0.6",highlightExtremes:"true",showStandardDeviation:"true"}},{type:"text",value:"Does the math confirm this as the superior technique? / Here is our math suggestion."},{type:"Component",value:{controlCutType:"true",cutType:"radial",cutTargetDepthPercentage:"0.96",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"Brief discussion of our differing methods if applicable."},{type:"text",value:"But there are more ways to dice an onion. Another popular technique is to start with horizontal cuts before vertical. <strong>Explore all the possibilities below to see the results</strong>."},{type:"Component",value:{controlLayers:"true",controlCutType:"true",controlHorizontalCuts:"true",toggleExplode:"true"}}],bn={intro:Wl,hed:Fl,author1:Vl,author2:Xl,story:Ul};function Kl(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.14.0"),console.log("build: 2024-03-28-12:23"),console.log("--- --- --- --- --- ---")}function Gl(t){let e,r,n,l;return e=new Hn({props:{title:t[1],description:t[2],url:t[3],preloadFont:t[0],keywords:t[4]}}),n=new Bl({}),{c(){G(e.$$.fragment),r=q(),G(n.$$.fragment)},l(i){J(e.$$.fragment,i),r=B(i),J(n.$$.fragment,i)},m(i,a){Y(e,i,a),S(i,r,a),Y(n,i,a),l=!0},p:H,i(i){l||(z(e.$$.fragment,i),z(n.$$.fragment,i),l=!0)},o(i){R(e.$$.fragment,i),R(n.$$.fragment,i),l=!1},d(i){i&&m(r),Q(e,i),Q(n,i)}}}function Jl(t,e,r){let{data:n}=e;Kl();const l=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:i,description:a,url:o,keywords:f}=bn;return rt("copy",bn),rt("data",n.data),t.$$set=s=>{"data"in s&&r(5,n=s.data)},[l,i,a,o,f,n]}class ni extends te{constructor(e){super(),ne(this,e,Jl,Gl,ee,{data:5})}}export{ni as component};
