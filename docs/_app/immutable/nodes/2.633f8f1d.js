var Iu=(a,r,u)=>{if(!r.has(a))throw TypeError("Cannot "+u)};var Pr=(a,r,u)=>(Iu(a,r,"read from private field"),u?u.call(a):r.get(a)),as=(a,r,u)=>{if(r.has(a))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(a):r.set(a,u)};import{s as Ft,f as Ae,e as zt,B as Pu,g as Ee,d as ae,j as ee,u as we,v as et,C as Gt,i as Oe,D as Au,h as De,E as si,H as Hi,a as ut,r as Ui,c as ot,F as ai,G as ui,I as pt,A as Jt,J as Ai,K as sn,l as yt,m as wt,n as ei,L as Eu,M as xi,N as Ni,O as Tu,P as Ur,p as ji,Q as ln,R as Nu,S as us,T as Mu,U as Lu,V as nr,W as Ou,X as Ru,Y as zu}from"../chunks/scheduler.e101b977.js";import{S as qt,i as Ht,g as di,t as Xe,c as pi,a as He,b as Pt,d as At,m as Et,e as Tt,f as hn}from"../chunks/index.eb970401.js";import{e as ht}from"../chunks/each.e59479a4.js";import{g as Vu,c as Ea,a as Bu,b as Du,d as Fu}from"../chunks/_commonjsHelpers.08cd8a15.js";import{w as an}from"../chunks/index.1300329e.js";import{d as qu}from"../chunks/transform.6fe4cd5d.js";function os(a,r,u){const l=a.slice();return l[5]=r[u],l}function ls(a){let r,u;return{c(){r=Ae("link"),this.h()},l(l){r=Ee(l,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){ee(r,"rel","preload"),ee(r,"href",u=a[5]),ee(r,"as","font"),ee(r,"type","font/woff2"),ee(r,"crossorigin","")},m(l,d){Oe(l,r,d)},p(l,d){d&16&&u!==(u=l[5])&&ee(r,"href",u)},d(l){l&&ae(r)}}}function Hu(a){let r,u,l,d,h,m,S,N,z,H,D,K,q,le,J,re,te,ce,ge,Ve,fe,A,be,Re,je,tt;document.title=r=a[0];let Fe=ht(a[4]),ze=[];for(let Ce=0;Ce<Fe.length;Ce+=1)ze[Ce]=ls(os(a,Fe,Ce));return{c(){u=Ae("meta"),l=Ae("meta"),d=Ae("meta"),h=Ae("meta"),m=Ae("meta"),S=Ae("meta"),N=Ae("meta"),z=Ae("meta"),H=Ae("meta"),D=Ae("meta"),q=Ae("meta"),le=Ae("meta"),J=Ae("meta"),re=Ae("meta"),te=Ae("meta"),ce=Ae("meta"),ge=Ae("meta"),Ve=Ae("meta"),fe=Ae("meta"),be=Ae("meta"),Re=Ae("link");for(let Ce=0;Ce<ze.length;Ce+=1)ze[Ce].c();tt=zt(),this.h()},l(Ce){const me=Pu("svelte-1htu80s",document.head);u=Ee(me,"META",{name:!0,content:!0}),l=Ee(me,"META",{name:!0,content:!0}),d=Ee(me,"META",{name:!0,content:!0}),h=Ee(me,"META",{property:!0,content:!0}),m=Ee(me,"META",{property:!0,content:!0}),S=Ee(me,"META",{property:!0,content:!0}),N=Ee(me,"META",{property:!0,content:!0}),z=Ee(me,"META",{property:!0,content:!0}),H=Ee(me,"META",{property:!0,content:!0}),D=Ee(me,"META",{property:!0,content:!0}),q=Ee(me,"META",{property:!0,content:!0}),le=Ee(me,"META",{property:!0,content:!0}),J=Ee(me,"META",{property:!0,content:!0}),re=Ee(me,"META",{name:!0,content:!0}),te=Ee(me,"META",{name:!0,content:!0}),ce=Ee(me,"META",{name:!0,content:!0}),ge=Ee(me,"META",{name:!0,content:!0}),Ve=Ee(me,"META",{name:!0,content:!0}),fe=Ee(me,"META",{name:!0,content:!0}),be=Ee(me,"META",{name:!0,content:!0}),Re=Ee(me,"LINK",{rel:!0,href:!0});for(let Ge=0;Ge<ze.length;Ge+=1)ze[Ge].l(me);tt=zt(),me.forEach(ae),this.h()},h(){ee(u,"name","description"),ee(u,"content",a[1]),ee(l,"name","author"),ee(l,"content","The Pudding"),ee(d,"name","news_keywords"),ee(d,"content",a[3]),ee(h,"property","og:title"),ee(h,"content",a[0]),ee(m,"property","og:site_name"),ee(m,"content","The Pudding"),ee(S,"property","og:url"),ee(S,"content",a[2]),ee(N,"property","og:description"),ee(N,"content",a[1]),ee(z,"property","og:type"),ee(z,"content","article"),ee(H,"property","og:locale"),ee(H,"content","en_US"),ee(D,"property","og:image"),ee(D,"content",K=a[2]+"/assets/social-facebook.jpg"),ee(q,"property","og:image:type"),ee(q,"content","image/jpeg"),ee(le,"property","og:image:width"),ee(le,"content","1200"),ee(J,"property","og:image:height"),ee(J,"content","600"),ee(re,"name","twitter:card"),ee(re,"content","summary_large_image"),ee(te,"name","twitter:site"),ee(te,"content","https://pudding.cool"),ee(ce,"name","twitter:creator"),ee(ce,"content","@puddingviz"),ee(ge,"name","twitter:title"),ee(ge,"content",a[0]),ee(Ve,"name","twitter:description"),ee(Ve,"content",a[1]),ee(fe,"name","twitter:image:src"),ee(fe,"content",A=a[2]+"/assets/social-twitter.jpg"),ee(be,"name","robots"),ee(be,"content","max-image-preview:large"),ee(Re,"rel","canonical"),ee(Re,"href",je=a[2]+"/")},m(Ce,me){we(document.head,u),we(document.head,l),we(document.head,d),we(document.head,h),we(document.head,m),we(document.head,S),we(document.head,N),we(document.head,z),we(document.head,H),we(document.head,D),we(document.head,q),we(document.head,le),we(document.head,J),we(document.head,re),we(document.head,te),we(document.head,ce),we(document.head,ge),we(document.head,Ve),we(document.head,fe),we(document.head,be),we(document.head,Re);for(let Ge=0;Ge<ze.length;Ge+=1)ze[Ge]&&ze[Ge].m(document.head,null);we(document.head,tt)},p(Ce,[me]){if(me&1&&r!==(r=Ce[0])&&(document.title=r),me&2&&ee(u,"content",Ce[1]),me&8&&ee(d,"content",Ce[3]),me&1&&ee(h,"content",Ce[0]),me&4&&ee(S,"content",Ce[2]),me&2&&ee(N,"content",Ce[1]),me&4&&K!==(K=Ce[2]+"/assets/social-facebook.jpg")&&ee(D,"content",K),me&1&&ee(ge,"content",Ce[0]),me&2&&ee(Ve,"content",Ce[1]),me&4&&A!==(A=Ce[2]+"/assets/social-twitter.jpg")&&ee(fe,"content",A),me&4&&je!==(je=Ce[2]+"/")&&ee(Re,"href",je),me&16){Fe=ht(Ce[4]);let Ge;for(Ge=0;Ge<Fe.length;Ge+=1){const de=os(Ce,Fe,Ge);ze[Ge]?ze[Ge].p(de,me):(ze[Ge]=ls(de),ze[Ge].c(),ze[Ge].m(tt.parentNode,tt))}for(;Ge<ze.length;Ge+=1)ze[Ge].d(1);ze.length=Fe.length}},i:et,o:et,d(Ce){ae(u),ae(l),ae(d),ae(h),ae(m),ae(S),ae(N),ae(z),ae(H),ae(D),ae(q),ae(le),ae(J),ae(re),ae(te),ae(ce),ae(ge),ae(Ve),ae(fe),ae(be),ae(Re),Gt(ze,Ce),ae(tt)}}}function Uu(a,r,u){let{title:l="Title TK"}=r,{description:d="Description TK"}=r,{url:h="https://pudding.cool"}=r,{keywords:m=""}=r,{preloadFont:S=[]}=r;return a.$$set=N=>{"title"in N&&u(0,l=N.title),"description"in N&&u(1,d=N.description),"url"in N&&u(2,h=N.url),"keywords"in N&&u(3,m=N.keywords),"preloadFont"in N&&u(4,S=N.preloadFont)},[l,d,h,m,S]}class ju extends qt{constructor(r){super(),Ht(this,r,Uu,Hu,Ft,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Wu(a){let r,u="🚧 This project is a work in progress. Please do not share the URL. 🚧";return{c(){r=Ae("div"),r.textContent=u,this.h()},l(l){r=Ee(l,"DIV",{class:!0,"data-svelte-h":!0}),Au(r)!=="svelte-1huwx5x"&&(r.textContent=u),this.h()},h(){ee(r,"class","svelte-svusjd")},m(l,d){Oe(l,r,d)},p:et,i:et,o:et,d(l){l&&ae(r)}}}class Gu extends qt{constructor(r){super(),Ht(this,r,null,Wu,Ft,{})}}function hs(a,r,u){const l=a.slice();return l[1]=r[u].type,l[2]=r[u].value,l}function fs(a){let r,u,l=a[2]+"",d;return{c(){r=Ae("p"),u=new Hi(!1),d=ut(),this.h()},l(h){r=Ee(h,"P",{class:!0});var m=De(r);u=Ui(m,!1),d=ot(m),m.forEach(ae),this.h()},h(){u.a=d,ee(r,"class",a[1])},m(h,m){Oe(h,r,m),u.m(l,r),we(r,d)},p:et,d(h){h&&ae(r)}}}function Zu(a){let r,u=ht(a[0].intro),l=[];for(let d=0;d<u.length;d+=1)l[d]=fs(hs(a,u,d));return{c(){r=Ae("section");for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l(d){r=Ee(d,"SECTION",{class:!0});var h=De(r);for(let m=0;m<l.length;m+=1)l[m].l(h);h.forEach(ae),this.h()},h(){ee(r,"class","intro")},m(d,h){Oe(d,r,h);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(r,null)},p(d,[h]){if(h&1){u=ht(d[0].intro);let m;for(m=0;m<u.length;m+=1){const S=hs(d,u,m);l[m]?l[m].p(S,h):(l[m]=fs(S),l[m].c(),l[m].m(r,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=u.length}},i:et,o:et,d(d){d&&ae(r),Gt(l,d)}}}function Ku(a){return[si("copy")]}class Xu extends qt{constructor(r){super(),Ht(this,r,Ku,Zu,Ft,{})}}function cs(a){return Object.fromEntries(Object.entries(a).map(([r,u])=>[r,u==="true"?!0:u==="false"?!1:u]))}function tr(a,r){return a==null||r==null?NaN:a<r?-1:a>r?1:a>=r?0:NaN}function Ta(a){let r,u,l;a.length!==2?(r=tr,u=(S,N)=>tr(a(S),N),l=(S,N)=>a(S)-N):(r=a===tr||a===qu?a:Yu,u=a,l=a);function d(S,N,z=0,H=S.length){if(z<H){if(r(N,N)!==0)return H;do{const D=z+H>>>1;u(S[D],N)<0?z=D+1:H=D}while(z<H)}return z}function h(S,N,z=0,H=S.length){if(z<H){if(r(N,N)!==0)return H;do{const D=z+H>>>1;u(S[D],N)<=0?z=D+1:H=D}while(z<H)}return z}function m(S,N,z=0,H=S.length){const D=d(S,N,z,H-1);return D>z&&l(S[D-1],N)>-l(S[D],N)?D-1:D}return{left:d,center:m,right:h}}function Yu(){return 0}function Qu(a){return a===null?NaN:+a}const Ju=Ta(tr),$u=Ju.right;Ta(Qu).center;const eo=$u;function to(a,r){let u=0,l,d=0,h=0;if(r===void 0)for(let m of a)m!=null&&(m=+m)>=m&&(l=m-d,d+=l/++u,h+=l*(m-d));else{let m=-1;for(let S of a)(S=r(S,++m,a))!=null&&(S=+S)>=S&&(l=S-d,d+=l/++u,h+=l*(S-d))}if(u>1)return h/(u-1)}function io(a,r){const u=to(a,r);return u&&Math.sqrt(u)}const no=Math.sqrt(50),ro=Math.sqrt(10),so=Math.sqrt(2);function rr(a,r,u){const l=(r-a)/Math.max(0,u),d=Math.floor(Math.log10(l)),h=l/Math.pow(10,d),m=h>=no?10:h>=ro?5:h>=so?2:1;let S,N,z;return d<0?(z=Math.pow(10,-d)/m,S=Math.round(a*z),N=Math.round(r*z),S/z<a&&++S,N/z>r&&--N,z=-z):(z=Math.pow(10,d)*m,S=Math.round(a/z),N=Math.round(r/z),S*z<a&&++S,N*z>r&&--N),N<S&&.5<=u&&u<2?rr(a,r,u*2):[S,N,z]}function ao(a,r,u){if(r=+r,a=+a,u=+u,!(u>0))return[];if(a===r)return[a];const l=r<a,[d,h,m]=l?rr(r,a,u):rr(a,r,u);if(!(h>=d))return[];const S=h-d+1,N=new Array(S);if(l)if(m<0)for(let z=0;z<S;++z)N[z]=(h-z)/-m;else for(let z=0;z<S;++z)N[z]=(h-z)*m;else if(m<0)for(let z=0;z<S;++z)N[z]=(d+z)/-m;else for(let z=0;z<S;++z)N[z]=(d+z)*m;return N}function Or(a,r,u){return r=+r,a=+a,u=+u,rr(a,r,u)[2]}function uo(a,r,u){r=+r,a=+a,u=+u;const l=r<a,d=l?Or(r,a,u):Or(a,r,u);return(l?-1:1)*(d<0?1/-d:d)}function oo(a,r){let u=0,l=0;if(r===void 0)for(let d of a)d!=null&&(d=+d)>=d&&(++u,l+=d);else{let d=-1;for(let h of a)(h=r(h,++d,a))!=null&&(h=+h)>=h&&(++u,l+=h)}if(u)return l/u}function lo(a,r,u){a=+a,r=+r,u=(d=arguments.length)<2?(r=a,a=0,1):d<3?1:+u;for(var l=-1,d=Math.max(0,Math.ceil((r-a)/u))|0,h=new Array(d);++l<d;)h[l]=a+l*u;return h}function qn(a,r,u){a.prototype=r.prototype=u,u.constructor=a}function fr(a,r){var u=Object.create(a.prototype);for(var l in r)u[l]=r[l];return u}function cn(){}var Vn=.7,sr=1/Vn,wn="\\s*([+-]?\\d+)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ho=/^#([0-9a-f]{3,8})$/,fo=new RegExp(`^rgb\\(${wn},${wn},${wn}\\)$`),co=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),po=new RegExp(`^rgba\\(${wn},${wn},${wn},${Bn}\\)$`),go=new RegExp(`^rgba\\(${yi},${yi},${yi},${Bn}\\)$`),_o=new RegExp(`^hsl\\(${Bn},${yi},${yi}\\)$`),mo=new RegExp(`^hsla\\(${Bn},${yi},${yi},${Bn}\\)$`),ds={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qn(cn,Dn,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:ps,formatHex:ps,formatHex8:vo,formatHsl:bo,formatRgb:gs,toString:gs});function ps(){return this.rgb().formatHex()}function vo(){return this.rgb().formatHex8()}function bo(){return Ma(this).formatHsl()}function gs(){return this.rgb().formatRgb()}function Dn(a){var r,u;return a=(a+"").trim().toLowerCase(),(r=ho.exec(a))?(u=r[1].length,r=parseInt(r[1],16),u===6?_s(r):u===3?new $t(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):u===8?Xn(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):u===4?Xn(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=fo.exec(a))?new $t(r[1],r[2],r[3],1):(r=co.exec(a))?new $t(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=po.exec(a))?Xn(r[1],r[2],r[3],r[4]):(r=go.exec(a))?Xn(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=_o.exec(a))?bs(r[1],r[2]/100,r[3]/100,1):(r=mo.exec(a))?bs(r[1],r[2]/100,r[3]/100,r[4]):ds.hasOwnProperty(a)?_s(ds[a]):a==="transparent"?new $t(NaN,NaN,NaN,0):null}function _s(a){return new $t(a>>16&255,a>>8&255,a&255,1)}function Xn(a,r,u,l){return l<=0&&(a=r=u=NaN),new $t(a,r,u,l)}function Na(a){return a instanceof cn||(a=Dn(a)),a?(a=a.rgb(),new $t(a.r,a.g,a.b,a.opacity)):new $t}function Rr(a,r,u,l){return arguments.length===1?Na(a):new $t(a,r,u,l??1)}function $t(a,r,u,l){this.r=+a,this.g=+r,this.b=+u,this.opacity=+l}qn($t,Rr,fr(cn,{brighter(a){return a=a==null?sr:Math.pow(sr,a),new $t(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?Vn:Math.pow(Vn,a),new $t(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new $t(on(this.r),on(this.g),on(this.b),ar(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ms,formatHex:ms,formatHex8:yo,formatRgb:vs,toString:vs}));function ms(){return`#${un(this.r)}${un(this.g)}${un(this.b)}`}function yo(){return`#${un(this.r)}${un(this.g)}${un(this.b)}${un((isNaN(this.opacity)?1:this.opacity)*255)}`}function vs(){const a=ar(this.opacity);return`${a===1?"rgb(":"rgba("}${on(this.r)}, ${on(this.g)}, ${on(this.b)}${a===1?")":`, ${a})`}`}function ar(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function on(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function un(a){return a=on(a),(a<16?"0":"")+a.toString(16)}function bs(a,r,u,l){return l<=0?a=r=u=NaN:u<=0||u>=1?a=r=NaN:r<=0&&(a=NaN),new mi(a,r,u,l)}function Ma(a){if(a instanceof mi)return new mi(a.h,a.s,a.l,a.opacity);if(a instanceof cn||(a=Dn(a)),!a)return new mi;if(a instanceof mi)return a;a=a.rgb();var r=a.r/255,u=a.g/255,l=a.b/255,d=Math.min(r,u,l),h=Math.max(r,u,l),m=NaN,S=h-d,N=(h+d)/2;return S?(r===h?m=(u-l)/S+(u<l)*6:u===h?m=(l-r)/S+2:m=(r-u)/S+4,S/=N<.5?h+d:2-h-d,m*=60):S=N>0&&N<1?0:m,new mi(m,S,N,a.opacity)}function wo(a,r,u,l){return arguments.length===1?Ma(a):new mi(a,r,u,l??1)}function mi(a,r,u,l){this.h=+a,this.s=+r,this.l=+u,this.opacity=+l}qn(mi,wo,fr(cn,{brighter(a){return a=a==null?sr:Math.pow(sr,a),new mi(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?Vn:Math.pow(Vn,a),new mi(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,r=isNaN(a)||isNaN(this.s)?0:this.s,u=this.l,l=u+(u<.5?u:1-u)*r,d=2*u-l;return new $t(Ar(a>=240?a-240:a+120,d,l),Ar(a,d,l),Ar(a<120?a+240:a-120,d,l),this.opacity)},clamp(){return new mi(ys(this.h),Yn(this.s),Yn(this.l),ar(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=ar(this.opacity);return`${a===1?"hsl(":"hsla("}${ys(this.h)}, ${Yn(this.s)*100}%, ${Yn(this.l)*100}%${a===1?")":`, ${a})`}`}}));function ys(a){return a=(a||0)%360,a<0?a+360:a}function Yn(a){return Math.max(0,Math.min(1,a||0))}function Ar(a,r,u){return(a<60?r+(u-r)*a/60:a<180?u:a<240?r+(u-r)*(240-a)/60:r)*255}const xo=Math.PI/180,So=180/Math.PI,ur=18,La=.96422,Oa=1,Ra=.82521,za=4/29,xn=6/29,Va=3*xn*xn,Co=xn*xn*xn;function Ba(a){if(a instanceof wi)return new wi(a.l,a.a,a.b,a.opacity);if(a instanceof Ti)return Da(a);a instanceof $t||(a=Na(a));var r=Mr(a.r),u=Mr(a.g),l=Mr(a.b),d=Er((.2225045*r+.7168786*u+.0606169*l)/Oa),h,m;return r===u&&u===l?h=m=d:(h=Er((.4360747*r+.3850649*u+.1430804*l)/La),m=Er((.0139322*r+.0971045*u+.7141733*l)/Ra)),new wi(116*d-16,500*(h-d),200*(d-m),a.opacity)}function ko(a,r,u,l){return arguments.length===1?Ba(a):new wi(a,r,u,l??1)}function wi(a,r,u,l){this.l=+a,this.a=+r,this.b=+u,this.opacity=+l}qn(wi,ko,fr(cn,{brighter(a){return new wi(this.l+ur*(a??1),this.a,this.b,this.opacity)},darker(a){return new wi(this.l-ur*(a??1),this.a,this.b,this.opacity)},rgb(){var a=(this.l+16)/116,r=isNaN(this.a)?a:a+this.a/500,u=isNaN(this.b)?a:a-this.b/200;return r=La*Tr(r),a=Oa*Tr(a),u=Ra*Tr(u),new $t(Nr(3.1338561*r-1.6168667*a-.4906146*u),Nr(-.9787684*r+1.9161415*a+.033454*u),Nr(.0719453*r-.2289914*a+1.4052427*u),this.opacity)}}));function Er(a){return a>Co?Math.pow(a,1/3):a/Va+za}function Tr(a){return a>xn?a*a*a:Va*(a-za)}function Nr(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function Mr(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Io(a){if(a instanceof Ti)return new Ti(a.h,a.c,a.l,a.opacity);if(a instanceof wi||(a=Ba(a)),a.a===0&&a.b===0)return new Ti(NaN,0<a.l&&a.l<100?0:NaN,a.l,a.opacity);var r=Math.atan2(a.b,a.a)*So;return new Ti(r<0?r+360:r,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function zr(a,r,u,l){return arguments.length===1?Io(a):new Ti(a,r,u,l??1)}function Ti(a,r,u,l){this.h=+a,this.c=+r,this.l=+u,this.opacity=+l}function Da(a){if(isNaN(a.h))return new wi(a.l,0,0,a.opacity);var r=a.h*xo;return new wi(a.l,Math.cos(r)*a.c,Math.sin(r)*a.c,a.opacity)}qn(Ti,zr,fr(cn,{brighter(a){return new Ti(this.h,this.c,this.l+ur*(a??1),this.opacity)},darker(a){return new Ti(this.h,this.c,this.l-ur*(a??1),this.opacity)},rgb(){return Da(this).rgb()}}));const cr=a=>()=>a;function Fa(a,r){return function(u){return a+u*r}}function Po(a,r,u){return a=Math.pow(a,u),r=Math.pow(r,u)-a,u=1/u,function(l){return Math.pow(a+l*r,u)}}function Ao(a,r){var u=r-a;return u?Fa(a,u>180||u<-180?u-360*Math.round(u/360):u):cr(isNaN(a)?r:a)}function Eo(a){return(a=+a)==1?zn:function(r,u){return u-r?Po(r,u,a):cr(isNaN(r)?u:r)}}function zn(a,r){var u=r-a;return u?Fa(a,u):cr(isNaN(a)?r:a)}const ws=function a(r){var u=Eo(r);function l(d,h){var m=u((d=Rr(d)).r,(h=Rr(h)).r),S=u(d.g,h.g),N=u(d.b,h.b),z=zn(d.opacity,h.opacity);return function(H){return d.r=m(H),d.g=S(H),d.b=N(H),d.opacity=z(H),d+""}}return l.gamma=a,l}(1);function To(a,r){r||(r=[]);var u=a?Math.min(r.length,a.length):0,l=r.slice(),d;return function(h){for(d=0;d<u;++d)l[d]=a[d]*(1-h)+r[d]*h;return l}}function No(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Mo(a,r){var u=r?r.length:0,l=a?Math.min(u,a.length):0,d=new Array(l),h=new Array(u),m;for(m=0;m<l;++m)d[m]=dr(a[m],r[m]);for(;m<u;++m)h[m]=r[m];return function(S){for(m=0;m<l;++m)h[m]=d[m](S);return h}}function Lo(a,r){var u=new Date;return a=+a,r=+r,function(l){return u.setTime(a*(1-l)+r*l),u}}function or(a,r){return a=+a,r=+r,function(u){return a*(1-u)+r*u}}function Oo(a,r){var u={},l={},d;(a===null||typeof a!="object")&&(a={}),(r===null||typeof r!="object")&&(r={});for(d in r)d in a?u[d]=dr(a[d],r[d]):l[d]=r[d];return function(h){for(d in u)l[d]=u[d](h);return l}}var Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lr=new RegExp(Vr.source,"g");function Ro(a){return function(){return a}}function zo(a){return function(r){return a(r)+""}}function Vo(a,r){var u=Vr.lastIndex=Lr.lastIndex=0,l,d,h,m=-1,S=[],N=[];for(a=a+"",r=r+"";(l=Vr.exec(a))&&(d=Lr.exec(r));)(h=d.index)>u&&(h=r.slice(u,h),S[m]?S[m]+=h:S[++m]=h),(l=l[0])===(d=d[0])?S[m]?S[m]+=d:S[++m]=d:(S[++m]=null,N.push({i:m,x:or(l,d)})),u=Lr.lastIndex;return u<r.length&&(h=r.slice(u),S[m]?S[m]+=h:S[++m]=h),S.length<2?N[0]?zo(N[0].x):Ro(r):(r=N.length,function(z){for(var H=0,D;H<r;++H)S[(D=N[H]).i]=D.x(z);return S.join("")})}function dr(a,r){var u=typeof r,l;return r==null||u==="boolean"?cr(r):(u==="number"?or:u==="string"?(l=Dn(r))?(r=l,ws):Vo:r instanceof Dn?ws:r instanceof Date?Lo:No(r)?To:Array.isArray(r)?Mo:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Oo:or)(a,r)}function qa(a,r){return a=+a,r=+r,function(u){return Math.round(a*(1-u)+r*u)}}function Bo(a){return function(r,u){var l=a((r=zr(r)).h,(u=zr(u)).h),d=zn(r.c,u.c),h=zn(r.l,u.l),m=zn(r.opacity,u.opacity);return function(S){return r.h=l(S),r.c=d(S),r.l=h(S),r.opacity=m(S),r+""}}}const Do=Bo(Ao);function Fo(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)}function lr(a,r){if((u=(a=r?a.toExponential(r-1):a.toExponential()).indexOf("e"))<0)return null;var u,l=a.slice(0,u);return[l.length>1?l[0]+l.slice(2):l,+a.slice(u+1)]}function Sn(a){return a=lr(Math.abs(a)),a?a[1]:NaN}function qo(a,r){return function(u,l){for(var d=u.length,h=[],m=0,S=a[0],N=0;d>0&&S>0&&(N+S+1>l&&(S=Math.max(1,l-N)),h.push(u.substring(d-=S,d+S)),!((N+=S+1)>l));)S=a[m=(m+1)%a.length];return h.reverse().join(r)}}function Ho(a){return function(r){return r.replace(/[0-9]/g,function(u){return a[+u]})}}var Uo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hr(a){if(!(r=Uo.exec(a)))throw new Error("invalid format: "+a);var r;return new jr({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}hr.prototype=jr.prototype;function jr(a){this.fill=a.fill===void 0?" ":a.fill+"",this.align=a.align===void 0?">":a.align+"",this.sign=a.sign===void 0?"-":a.sign+"",this.symbol=a.symbol===void 0?"":a.symbol+"",this.zero=!!a.zero,this.width=a.width===void 0?void 0:+a.width,this.comma=!!a.comma,this.precision=a.precision===void 0?void 0:+a.precision,this.trim=!!a.trim,this.type=a.type===void 0?"":a.type+""}jr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jo(a){e:for(var r=a.length,u=1,l=-1,d;u<r;++u)switch(a[u]){case".":l=d=u;break;case"0":l===0&&(l=u),d=u;break;default:if(!+a[u])break e;l>0&&(l=0);break}return l>0?a.slice(0,l)+a.slice(d+1):a}var Ha;function Wo(a,r){var u=lr(a,r);if(!u)return a+"";var l=u[0],d=u[1],h=d-(Ha=Math.max(-8,Math.min(8,Math.floor(d/3)))*3)+1,m=l.length;return h===m?l:h>m?l+new Array(h-m+1).join("0"):h>0?l.slice(0,h)+"."+l.slice(h):"0."+new Array(1-h).join("0")+lr(a,Math.max(0,r+h-1))[0]}function xs(a,r){var u=lr(a,r);if(!u)return a+"";var l=u[0],d=u[1];return d<0?"0."+new Array(-d).join("0")+l:l.length>d+1?l.slice(0,d+1)+"."+l.slice(d+1):l+new Array(d-l.length+2).join("0")}const Ss={"%":(a,r)=>(a*100).toFixed(r),b:a=>Math.round(a).toString(2),c:a=>a+"",d:Fo,e:(a,r)=>a.toExponential(r),f:(a,r)=>a.toFixed(r),g:(a,r)=>a.toPrecision(r),o:a=>Math.round(a).toString(8),p:(a,r)=>xs(a*100,r),r:xs,s:Wo,X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function Cs(a){return a}var ks=Array.prototype.map,Is=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Go(a){var r=a.grouping===void 0||a.thousands===void 0?Cs:qo(ks.call(a.grouping,Number),a.thousands+""),u=a.currency===void 0?"":a.currency[0]+"",l=a.currency===void 0?"":a.currency[1]+"",d=a.decimal===void 0?".":a.decimal+"",h=a.numerals===void 0?Cs:Ho(ks.call(a.numerals,String)),m=a.percent===void 0?"%":a.percent+"",S=a.minus===void 0?"−":a.minus+"",N=a.nan===void 0?"NaN":a.nan+"";function z(D){D=hr(D);var K=D.fill,q=D.align,le=D.sign,J=D.symbol,re=D.zero,te=D.width,ce=D.comma,ge=D.precision,Ve=D.trim,fe=D.type;fe==="n"?(ce=!0,fe="g"):Ss[fe]||(ge===void 0&&(ge=12),Ve=!0,fe="g"),(re||K==="0"&&q==="=")&&(re=!0,K="0",q="=");var A=J==="$"?u:J==="#"&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():"",be=J==="$"?l:/[%p]/.test(fe)?m:"",Re=Ss[fe],je=/[defgprs%]/.test(fe);ge=ge===void 0?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,ge)):Math.max(0,Math.min(20,ge));function tt(Fe){var ze=A,Ce=be,me,Ge,de;if(fe==="c")Ce=Re(Fe)+Ce,Fe="";else{Fe=+Fe;var mt=Fe<0||1/Fe<0;if(Fe=isNaN(Fe)?N:Re(Math.abs(Fe),ge),Ve&&(Fe=jo(Fe)),mt&&+Fe==0&&le!=="+"&&(mt=!1),ze=(mt?le==="("?le:S:le==="-"||le==="("?"":le)+ze,Ce=(fe==="s"?Is[8+Ha/3]:"")+Ce+(mt&&le==="("?")":""),je){for(me=-1,Ge=Fe.length;++me<Ge;)if(de=Fe.charCodeAt(me),48>de||de>57){Ce=(de===46?d+Fe.slice(me+1):Fe.slice(me))+Ce,Fe=Fe.slice(0,me);break}}}ce&&!re&&(Fe=r(Fe,1/0));var Ot=ze.length+Fe.length+Ce.length,qe=Ot<te?new Array(te-Ot+1).join(K):"";switch(ce&&re&&(Fe=r(qe+Fe,qe.length?te-Ce.length:1/0),qe=""),q){case"<":Fe=ze+Fe+Ce+qe;break;case"=":Fe=ze+qe+Fe+Ce;break;case"^":Fe=qe.slice(0,Ot=qe.length>>1)+ze+Fe+Ce+qe.slice(Ot);break;default:Fe=qe+ze+Fe+Ce;break}return h(Fe)}return tt.toString=function(){return D+""},tt}function H(D,K){var q=z((D=hr(D),D.type="f",D)),le=Math.max(-8,Math.min(8,Math.floor(Sn(K)/3)))*3,J=Math.pow(10,-le),re=Is[8+le/3];return function(te){return q(J*te)+re}}return{format:z,formatPrefix:H}}var Qn,fn,Ua;Zo({thousands:",",grouping:[3],currency:["$",""]});function Zo(a){return Qn=Go(a),fn=Qn.format,Ua=Qn.formatPrefix,Qn}function Ko(a){return Math.max(0,-Sn(Math.abs(a)))}function Xo(a,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sn(r)/3)))*3-Sn(Math.abs(a)))}function Yo(a,r){return a=Math.abs(a),r=Math.abs(r)-a,Math.max(0,Sn(r)-Sn(a))+1}function Qo(a,r){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(r).domain(a);break}return this}function Jo(a,r){switch(arguments.length){case 0:break;case 1:{typeof a=="function"?this.interpolator(a):this.range(a);break}default:{this.domain(a),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}function $o(a){return function(){return a}}function el(a){return+a}var Ps=[0,1];function Fi(a){return a}function Br(a,r){return(r-=a=+a)?function(u){return(u-a)/r}:$o(isNaN(r)?NaN:.5)}function tl(a,r){var u;return a>r&&(u=a,a=r,r=u),function(l){return Math.max(a,Math.min(r,l))}}function il(a,r,u){var l=a[0],d=a[1],h=r[0],m=r[1];return d<l?(l=Br(d,l),h=u(m,h)):(l=Br(l,d),h=u(h,m)),function(S){return h(l(S))}}function nl(a,r,u){var l=Math.min(a.length,r.length)-1,d=new Array(l),h=new Array(l),m=-1;for(a[l]<a[0]&&(a=a.slice().reverse(),r=r.slice().reverse());++m<l;)d[m]=Br(a[m],a[m+1]),h[m]=u(r[m],r[m+1]);return function(S){var N=eo(a,S,1,l)-1;return h[N](d[N](S))}}function rl(a,r){return r.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function sl(){var a=Ps,r=Ps,u=dr,l,d,h,m=Fi,S,N,z;function H(){var K=Math.min(a.length,r.length);return m!==Fi&&(m=tl(a[0],a[K-1])),S=K>2?nl:il,N=z=null,D}function D(K){return K==null||isNaN(K=+K)?h:(N||(N=S(a.map(l),r,u)))(l(m(K)))}return D.invert=function(K){return m(d((z||(z=S(r,a.map(l),or)))(K)))},D.domain=function(K){return arguments.length?(a=Array.from(K,el),H()):a.slice()},D.range=function(K){return arguments.length?(r=Array.from(K),H()):r.slice()},D.rangeRound=function(K){return r=Array.from(K),u=qa,H()},D.clamp=function(K){return arguments.length?(m=K?!0:Fi,H()):m!==Fi},D.interpolate=function(K){return arguments.length?(u=K,H()):u},D.unknown=function(K){return arguments.length?(h=K,D):h},function(K,q){return l=K,d=q,H()}}function al(){return sl()(Fi,Fi)}function ul(a,r,u,l){var d=uo(a,r,u),h;switch(l=hr(l??",f"),l.type){case"s":{var m=Math.max(Math.abs(a),Math.abs(r));return l.precision==null&&!isNaN(h=Xo(d,m))&&(l.precision=h),Ua(l,m)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(h=Yo(d,Math.max(Math.abs(a),Math.abs(r))))&&(l.precision=h-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(h=Ko(d))&&(l.precision=h-(l.type==="%")*2);break}}return fn(l)}function ja(a){var r=a.domain;return a.ticks=function(u){var l=r();return ao(l[0],l[l.length-1],u??10)},a.tickFormat=function(u,l){var d=r();return ul(d[0],d[d.length-1],u??10,l)},a.nice=function(u){u==null&&(u=10);var l=r(),d=0,h=l.length-1,m=l[d],S=l[h],N,z,H=10;for(S<m&&(z=m,m=S,S=z,z=d,d=h,h=z);H-- >0;){if(z=Or(m,S,u),z===N)return l[d]=m,l[h]=S,r(l);if(z>0)m=Math.floor(m/z)*z,S=Math.ceil(S/z)*z;else if(z<0)m=Math.ceil(m*z)/z,S=Math.floor(S*z)/z;else break;N=z}return a},a}function qi(){var a=al();return a.copy=function(){return rl(a,qi())},Qo.apply(a,arguments),ja(a)}function ol(){var a=0,r=1,u,l,d,h,m=Fi,S=!1,N;function z(D){return D==null||isNaN(D=+D)?N:m(d===0?.5:(D=(h(D)-u)*d,S?Math.max(0,Math.min(1,D)):D))}z.domain=function(D){return arguments.length?([a,r]=D,u=h(a=+a),l=h(r=+r),d=u===l?0:1/(l-u),z):[a,r]},z.clamp=function(D){return arguments.length?(S=!!D,z):S},z.interpolator=function(D){return arguments.length?(m=D,z):m};function H(D){return function(K){var q,le;return arguments.length?([q,le]=K,m=D(q,le),z):[m(0),m(1)]}}return z.range=H(dr),z.rangeRound=H(qa),z.unknown=function(D){return arguments.length?(N=D,z):N},function(D){return h=D,u=D(a),l=D(r),d=u===l?0:1/(l-u),z}}function ll(a,r){return r.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function Wa(){var a=ja(ol()(Fi));return a.copy=function(){return ll(a,Wa())},Jo.apply(a,arguments)}function hl(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ga={exports:{}};const fl={},cl=Object.freeze(Object.defineProperty({__proto__:null,default:fl},Symbol.toStringTag,{value:"Module"})),As=Vu(cl);var Jn={exports:{}},Es;function dl(){return Es||(Es=1,function(a,r){(function(u,l){l(r)})(Ea,function(u){var l=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],d=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],h="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",m="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",S={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},N="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",z={5:N,"5module":N+" export import",6:N+" const class extends export import super"},H=/^in(stanceof)?$/,D=new RegExp("["+m+"]"),K=new RegExp("["+m+h+"]");function q(i,c){for(var I=65536,V=0;V<c.length;V+=2){if(I+=c[V],I>i)return!1;if(I+=c[V+1],I>=i)return!0}return!1}function le(i,c){return i<65?i===36:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&D.test(String.fromCharCode(i)):c===!1?!1:q(i,d)}function J(i,c){return i<48?i===36:i<58?!0:i<65?!1:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&K.test(String.fromCharCode(i)):c===!1?!1:q(i,d)||q(i,l)}var re=function(c,I){I===void 0&&(I={}),this.label=c,this.keyword=I.keyword,this.beforeExpr=!!I.beforeExpr,this.startsExpr=!!I.startsExpr,this.isLoop=!!I.isLoop,this.isAssign=!!I.isAssign,this.prefix=!!I.prefix,this.postfix=!!I.postfix,this.binop=I.binop||null,this.updateContext=null};function te(i,c){return new re(i,{beforeExpr:!0,binop:c})}var ce={beforeExpr:!0},ge={startsExpr:!0},Ve={};function fe(i,c){return c===void 0&&(c={}),c.keyword=i,Ve[i]=new re(i,c)}var A={num:new re("num",ge),regexp:new re("regexp",ge),string:new re("string",ge),name:new re("name",ge),privateId:new re("privateId",ge),eof:new re("eof"),bracketL:new re("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new re("]"),braceL:new re("{",{beforeExpr:!0,startsExpr:!0}),braceR:new re("}"),parenL:new re("(",{beforeExpr:!0,startsExpr:!0}),parenR:new re(")"),comma:new re(",",ce),semi:new re(";",ce),colon:new re(":",ce),dot:new re("."),question:new re("?",ce),questionDot:new re("?."),arrow:new re("=>",ce),template:new re("template"),invalidTemplate:new re("invalidTemplate"),ellipsis:new re("...",ce),backQuote:new re("`",ge),dollarBraceL:new re("${",{beforeExpr:!0,startsExpr:!0}),eq:new re("=",{beforeExpr:!0,isAssign:!0}),assign:new re("_=",{beforeExpr:!0,isAssign:!0}),incDec:new re("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new re("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:te("||",1),logicalAND:te("&&",2),bitwiseOR:te("|",3),bitwiseXOR:te("^",4),bitwiseAND:te("&",5),equality:te("==/!=/===/!==",6),relational:te("</>/<=/>=",7),bitShift:te("<</>>/>>>",8),plusMin:new re("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:te("%",10),star:te("*",10),slash:te("/",10),starstar:new re("**",{beforeExpr:!0}),coalesce:te("??",1),_break:fe("break"),_case:fe("case",ce),_catch:fe("catch"),_continue:fe("continue"),_debugger:fe("debugger"),_default:fe("default",ce),_do:fe("do",{isLoop:!0,beforeExpr:!0}),_else:fe("else",ce),_finally:fe("finally"),_for:fe("for",{isLoop:!0}),_function:fe("function",ge),_if:fe("if"),_return:fe("return",ce),_switch:fe("switch"),_throw:fe("throw",ce),_try:fe("try"),_var:fe("var"),_const:fe("const"),_while:fe("while",{isLoop:!0}),_with:fe("with"),_new:fe("new",{beforeExpr:!0,startsExpr:!0}),_this:fe("this",ge),_super:fe("super",ge),_class:fe("class",ge),_extends:fe("extends",ce),_export:fe("export"),_import:fe("import",ge),_null:fe("null",ge),_true:fe("true",ge),_false:fe("false",ge),_in:fe("in",{beforeExpr:!0,binop:7}),_instanceof:fe("instanceof",{beforeExpr:!0,binop:7}),_typeof:fe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:fe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:fe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},be=/\r\n?|\n|\u2028|\u2029/,Re=new RegExp(be.source,"g");function je(i){return i===10||i===13||i===8232||i===8233}function tt(i,c,I){I===void 0&&(I=i.length);for(var V=c;V<I;V++){var W=i.charCodeAt(V);if(je(W))return V<I-1&&W===13&&i.charCodeAt(V+1)===10?V+2:V+1}return-1}var Fe=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ze=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Ce=Object.prototype,me=Ce.hasOwnProperty,Ge=Ce.toString,de=Object.hasOwn||function(i,c){return me.call(i,c)},mt=Array.isArray||function(i){return Ge.call(i)==="[object Array]"},Ot=Object.create(null);function qe(i){return Ot[i]||(Ot[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function ft(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}var Yt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ni=function(c,I){this.line=c,this.column=I};ni.prototype.offset=function(c){return new ni(this.line,this.column+c)};var xt=function(c,I,V){this.start=I,this.end=V,c.sourceFile!==null&&(this.source=c.sourceFile)};function Wi(i,c){for(var I=1,V=0;;){var W=tt(i,V,c);if(W<0)return new ni(I,c-V);++I,V=W}}var St={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Be=!1;function vi(i){var c={};for(var I in St)c[I]=i&&de(i,I)?i[I]:St[I];if(c.ecmaVersion==="latest"?c.ecmaVersion=1e8:c.ecmaVersion==null?(!Be&&typeof console=="object"&&console.warn&&(Be=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),c.ecmaVersion=11):c.ecmaVersion>=2015&&(c.ecmaVersion-=2009),c.allowReserved==null&&(c.allowReserved=c.ecmaVersion<5),(!i||i.allowHashBang==null)&&(c.allowHashBang=c.ecmaVersion>=14),mt(c.onToken)){var V=c.onToken;c.onToken=function(W){return V.push(W)}}return mt(c.onComment)&&(c.onComment=ri(c,c.onComment)),c}function ri(i,c){return function(I,V,W,se,oe,Se){var Te={type:I?"Block":"Line",value:V,start:W,end:se};i.locations&&(Te.loc=new xt(this,oe,Se)),i.ranges&&(Te.range=[W,se]),c.push(Te)}}var lt=1,ct=2,vt=4,dn=8,Si=16,pn=32,Mi=64,gn=128,Gi=256,Cn=lt|ct|Gi;function kn(i,c){return ct|(i?vt:0)|(c?dn:0)}var Zi=0,Nt=1,oi=2,Ct=3,In=4,nt=5,e=function(c,I,V){this.options=c=vi(c),this.sourceFile=c.sourceFile,this.keywords=qe(z[c.ecmaVersion>=6?6:c.sourceType==="module"?"5module":5]);var W="";c.allowReserved!==!0&&(W=S[c.ecmaVersion>=6?6:c.ecmaVersion===5?5:3],c.sourceType==="module"&&(W+=" await")),this.reservedWords=qe(W);var se=(W?W+" ":"")+S.strict;this.reservedWordsStrict=qe(se),this.reservedWordsStrictBind=qe(se+" "+S.strictBind),this.input=String(I),this.containsEsc=!1,V?(this.pos=V,this.lineStart=this.input.lastIndexOf(`
`,V-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(be).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=c.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&c.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(lt),this.regexpState=null,this.privateNameStack=[]},t={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};e.prototype.parse=function(){var c=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(c)},t.inFunction.get=function(){return(this.currentVarScope().flags&ct)>0},t.inGenerator.get=function(){return(this.currentVarScope().flags&dn)>0&&!this.currentVarScope().inClassFieldInit},t.inAsync.get=function(){return(this.currentVarScope().flags&vt)>0&&!this.currentVarScope().inClassFieldInit},t.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var c=this.scopeStack[i];if(c.inClassFieldInit||c.flags&Gi)return!1;if(c.flags&ct)return(c.flags&vt)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},t.allowSuper.get=function(){var i=this.currentThisScope(),c=i.flags,I=i.inClassFieldInit;return(c&Mi)>0||I||this.options.allowSuperOutsideMethod},t.allowDirectSuper.get=function(){return(this.currentThisScope().flags&gn)>0},t.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},t.allowNewDotTarget.get=function(){var i=this.currentThisScope(),c=i.flags,I=i.inClassFieldInit;return(c&(ct|Gi))>0||I},t.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Gi)>0},e.extend=function(){for(var c=[],I=arguments.length;I--;)c[I]=arguments[I];for(var V=this,W=0;W<c.length;W++)V=c[W](V);return V},e.parse=function(c,I){return new this(I,c).parse()},e.parseExpressionAt=function(c,I,V){var W=new this(V,c,I);return W.nextToken(),W.parseExpression()},e.tokenizer=function(c,I){return new this(I,c)},Object.defineProperties(e.prototype,t);var n=e.prototype,s=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;n.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){ze.lastIndex=i,i+=ze.exec(this.input)[0].length;var c=s.exec(this.input.slice(i));if(!c)return!1;if((c[1]||c[2])==="use strict"){ze.lastIndex=i+c[0].length;var I=ze.exec(this.input),V=I.index+I[0].length,W=this.input.charAt(V);return W===";"||W==="}"||be.test(I[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(W)||W==="!"&&this.input.charAt(V+1)==="=")}i+=c[0].length,ze.lastIndex=i,i+=ze.exec(this.input)[0].length,this.input[i]===";"&&i++}},n.eat=function(i){return this.type===i?(this.next(),!0):!1},n.isContextual=function(i){return this.type===A.name&&this.value===i&&!this.containsEsc},n.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1},n.expectContextual=function(i){this.eatContextual(i)||this.unexpected()},n.canInsertSemicolon=function(){return this.type===A.eof||this.type===A.braceR||be.test(this.input.slice(this.lastTokEnd,this.start))},n.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},n.semicolon=function(){!this.eat(A.semi)&&!this.insertSemicolon()&&this.unexpected()},n.afterTrailingComma=function(i,c){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),c||this.next(),!0},n.expect=function(i){this.eat(i)||this.unexpected()},n.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var o=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};n.checkPatternErrors=function(i,c){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var I=c?i.parenthesizedAssign:i.parenthesizedBind;I>-1&&this.raiseRecoverable(I,c?"Assigning to rvalue":"Parenthesized pattern")}},n.checkExpressionErrors=function(i,c){if(!i)return!1;var I=i.shorthandAssign,V=i.doubleProto;if(!c)return I>=0||V>=0;I>=0&&this.raise(I,"Shorthand property assignments are valid only in destructuring patterns"),V>=0&&this.raiseRecoverable(V,"Redefinition of __proto__ property")},n.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},n.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var f=e.prototype;f.parseTopLevel=function(i){var c=Object.create(null);for(i.body||(i.body=[]);this.type!==A.eof;){var I=this.parseStatement(null,!0,c);i.body.push(I)}if(this.inModule)for(var V=0,W=Object.keys(this.undefinedExports);V<W.length;V+=1){var se=W[V];this.raiseRecoverable(this.undefinedExports[se].start,"Export '"+se+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var g={kind:"loop"},p={kind:"switch"};f.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ze.lastIndex=this.pos;var c=ze.exec(this.input),I=this.pos+c[0].length,V=this.input.charCodeAt(I);if(V===91||V===92)return!0;if(i)return!1;if(V===123||V>55295&&V<56320)return!0;if(le(V,!0)){for(var W=I+1;J(V=this.input.charCodeAt(W),!0);)++W;if(V===92||V>55295&&V<56320)return!0;var se=this.input.slice(I,W);if(!H.test(se))return!0}return!1},f.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ze.lastIndex=this.pos;var i=ze.exec(this.input),c=this.pos+i[0].length,I;return!be.test(this.input.slice(this.pos,c))&&this.input.slice(c,c+8)==="function"&&(c+8===this.input.length||!(J(I=this.input.charCodeAt(c+8))||I>55295&&I<56320))},f.parseStatement=function(i,c,I){var V=this.type,W=this.startNode(),se;switch(this.isLet(i)&&(V=A._var,se="let"),V){case A._break:case A._continue:return this.parseBreakContinueStatement(W,V.keyword);case A._debugger:return this.parseDebuggerStatement(W);case A._do:return this.parseDoStatement(W);case A._for:return this.parseForStatement(W);case A._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(W,!1,!i);case A._class:return i&&this.unexpected(),this.parseClass(W,!0);case A._if:return this.parseIfStatement(W);case A._return:return this.parseReturnStatement(W);case A._switch:return this.parseSwitchStatement(W);case A._throw:return this.parseThrowStatement(W);case A._try:return this.parseTryStatement(W);case A._const:case A._var:return se=se||this.value,i&&se!=="var"&&this.unexpected(),this.parseVarStatement(W,se);case A._while:return this.parseWhileStatement(W);case A._with:return this.parseWithStatement(W);case A.braceL:return this.parseBlock(!0,W);case A.semi:return this.parseEmptyStatement(W);case A._export:case A._import:if(this.options.ecmaVersion>10&&V===A._import){ze.lastIndex=this.pos;var oe=ze.exec(this.input),Se=this.pos+oe[0].length,Te=this.input.charCodeAt(Se);if(Te===40||Te===46)return this.parseExpressionStatement(W,this.parseExpression())}return this.options.allowImportExportEverywhere||(c||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),V===A._import?this.parseImport(W):this.parseExport(W,I);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(W,!0,!i);var it=this.value,st=this.parseExpression();return V===A.name&&st.type==="Identifier"&&this.eat(A.colon)?this.parseLabeledStatement(W,it,st,i):this.parseExpressionStatement(W,st)}},f.parseBreakContinueStatement=function(i,c){var I=c==="break";this.next(),this.eat(A.semi)||this.insertSemicolon()?i.label=null:this.type!==A.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var V=0;V<this.labels.length;++V){var W=this.labels[V];if((i.label==null||W.name===i.label.name)&&(W.kind!=null&&(I||W.kind==="loop")||i.label&&I))break}return V===this.labels.length&&this.raise(i.start,"Unsyntactic "+c),this.finishNode(i,I?"BreakStatement":"ContinueStatement")},f.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")},f.parseDoStatement=function(i){return this.next(),this.labels.push(g),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(A._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(A.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")},f.parseForStatement=function(i){this.next();var c=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(g),this.enterScope(0),this.expect(A.parenL),this.type===A.semi)return c>-1&&this.unexpected(c),this.parseFor(i,null);var I=this.isLet();if(this.type===A._var||this.type===A._const||I){var V=this.startNode(),W=I?"let":this.value;return this.next(),this.parseVar(V,!0,W),this.finishNode(V,"VariableDeclaration"),(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&V.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===A._in?c>-1&&this.unexpected(c):i.await=c>-1),this.parseForIn(i,V)):(c>-1&&this.unexpected(c),this.parseFor(i,V))}var se=this.isContextual("let"),oe=!1,Se=new o,Te=this.parseExpression(c>-1?"await":!0,Se);return this.type===A._in||(oe=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===A._in?c>-1&&this.unexpected(c):i.await=c>-1),se&&oe&&this.raise(Te.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Te,!1,Se),this.checkLValPattern(Te),this.parseForIn(i,Te)):(this.checkExpressionErrors(Se,!0),c>-1&&this.unexpected(c),this.parseFor(i,Te))},f.parseFunctionStatement=function(i,c,I){return this.next(),this.parseFunction(i,v|(I?0:x),!1,c)},f.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(A._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")},f.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(A.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")},f.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(A.braceL),this.labels.push(p),this.enterScope(0);for(var c,I=!1;this.type!==A.braceR;)if(this.type===A._case||this.type===A._default){var V=this.type===A._case;c&&this.finishNode(c,"SwitchCase"),i.cases.push(c=this.startNode()),c.consequent=[],this.next(),V?c.test=this.parseExpression():(I&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),I=!0,c.test=null),this.expect(A.colon)}else c||this.unexpected(),c.consequent.push(this.parseStatement(null));return this.exitScope(),c&&this.finishNode(c,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")},f.parseThrowStatement=function(i){return this.next(),be.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var _=[];f.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),c=i.type==="Identifier";return this.enterScope(c?pn:0),this.checkLValPattern(i,c?In:oi),this.expect(A.parenR),i},f.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===A._catch){var c=this.startNode();this.next(),this.eat(A.parenL)?c.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),c.param=null,this.enterScope(0)),c.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(c,"CatchClause")}return i.finalizer=this.eat(A._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")},f.parseVarStatement=function(i,c,I){return this.next(),this.parseVar(i,!1,c,I),this.semicolon(),this.finishNode(i,"VariableDeclaration")},f.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(g),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")},f.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")},f.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")},f.parseLabeledStatement=function(i,c,I,V){for(var W=0,se=this.labels;W<se.length;W+=1){var oe=se[W];oe.name===c&&this.raise(I.start,"Label '"+c+"' is already declared")}for(var Se=this.type.isLoop?"loop":this.type===A._switch?"switch":null,Te=this.labels.length-1;Te>=0;Te--){var it=this.labels[Te];if(it.statementStart===i.start)it.statementStart=this.start,it.kind=Se;else break}return this.labels.push({name:c,kind:Se,statementStart:this.start}),i.body=this.parseStatement(V?V.indexOf("label")===-1?V+"label":V:"label"),this.labels.pop(),i.label=I,this.finishNode(i,"LabeledStatement")},f.parseExpressionStatement=function(i,c){return i.expression=c,this.semicolon(),this.finishNode(i,"ExpressionStatement")},f.parseBlock=function(i,c,I){for(i===void 0&&(i=!0),c===void 0&&(c=this.startNode()),c.body=[],this.expect(A.braceL),i&&this.enterScope(0);this.type!==A.braceR;){var V=this.parseStatement(null);c.body.push(V)}return I&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(c,"BlockStatement")},f.parseFor=function(i,c){return i.init=c,this.expect(A.semi),i.test=this.type===A.semi?null:this.parseExpression(),this.expect(A.semi),i.update=this.type===A.parenR?null:this.parseExpression(),this.expect(A.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")},f.parseForIn=function(i,c){var I=this.type===A._in;return this.next(),c.type==="VariableDeclaration"&&c.declarations[0].init!=null&&(!I||this.options.ecmaVersion<8||this.strict||c.kind!=="var"||c.declarations[0].id.type!=="Identifier")&&this.raise(c.start,(I?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=c,i.right=I?this.parseExpression():this.parseMaybeAssign(),this.expect(A.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,I?"ForInStatement":"ForOfStatement")},f.parseVar=function(i,c,I,V){for(i.declarations=[],i.kind=I;;){var W=this.startNode();if(this.parseVarId(W,I),this.eat(A.eq)?W.init=this.parseMaybeAssign(c):!V&&I==="const"&&!(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!V&&W.id.type!=="Identifier"&&!(c&&(this.type===A._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):W.init=null,i.declarations.push(this.finishNode(W,"VariableDeclarator")),!this.eat(A.comma))break}return i},f.parseVarId=function(i,c){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,c==="var"?Nt:oi,!1)};var v=1,x=2,k=4;f.parseFunction=function(i,c,I,V,W){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!V)&&(this.type===A.star&&c&x&&this.unexpected(),i.generator=this.eat(A.star)),this.options.ecmaVersion>=8&&(i.async=!!V),c&v&&(i.id=c&k&&this.type!==A.name?null:this.parseIdent(),i.id&&!(c&x)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?Nt:oi:Ct));var se=this.yieldPos,oe=this.awaitPos,Se=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(kn(i.async,i.generator)),c&v||(i.id=this.type===A.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,I,!1,W),this.yieldPos=se,this.awaitPos=oe,this.awaitIdentPos=Se,this.finishNode(i,c&v?"FunctionDeclaration":"FunctionExpression")},f.parseFunctionParams=function(i){this.expect(A.parenL),i.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},f.parseClass=function(i,c){this.next();var I=this.strict;this.strict=!0,this.parseClassId(i,c),this.parseClassSuper(i);var V=this.enterClassBody(),W=this.startNode(),se=!1;for(W.body=[],this.expect(A.braceL);this.type!==A.braceR;){var oe=this.parseClassElement(i.superClass!==null);oe&&(W.body.push(oe),oe.type==="MethodDefinition"&&oe.kind==="constructor"?(se&&this.raiseRecoverable(oe.start,"Duplicate constructor in the same class"),se=!0):oe.key&&oe.key.type==="PrivateIdentifier"&&w(V,oe)&&this.raiseRecoverable(oe.key.start,"Identifier '#"+oe.key.name+"' has already been declared"))}return this.strict=I,this.next(),i.body=this.finishNode(W,"ClassBody"),this.exitClassBody(),this.finishNode(i,c?"ClassDeclaration":"ClassExpression")},f.parseClassElement=function(i){if(this.eat(A.semi))return null;var c=this.options.ecmaVersion,I=this.startNode(),V="",W=!1,se=!1,oe="method",Se=!1;if(this.eatContextual("static")){if(c>=13&&this.eat(A.braceL))return this.parseClassStaticBlock(I),I;this.isClassElementNameStart()||this.type===A.star?Se=!0:V="static"}if(I.static=Se,!V&&c>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===A.star)&&!this.canInsertSemicolon()?se=!0:V="async"),!V&&(c>=9||!se)&&this.eat(A.star)&&(W=!0),!V&&!se&&!W){var Te=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?oe=Te:V=Te)}if(V?(I.computed=!1,I.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),I.key.name=V,this.finishNode(I.key,"Identifier")):this.parseClassElementName(I),c<13||this.type===A.parenL||oe!=="method"||W||se){var it=!I.static&&y(I,"constructor"),st=it&&i;it&&oe!=="method"&&this.raise(I.key.start,"Constructor can't have get/set modifier"),I.kind=it?"constructor":oe,this.parseClassMethod(I,W,se,st)}else this.parseClassField(I);return I},f.isClassElementNameStart=function(){return this.type===A.name||this.type===A.privateId||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword},f.parseClassElementName=function(i){this.type===A.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)},f.parseClassMethod=function(i,c,I,V){var W=i.key;i.kind==="constructor"?(c&&this.raise(W.start,"Constructor can't be a generator"),I&&this.raise(W.start,"Constructor can't be an async method")):i.static&&y(i,"prototype")&&this.raise(W.start,"Classes may not have a static property named prototype");var se=i.value=this.parseMethod(c,I,V);return i.kind==="get"&&se.params.length!==0&&this.raiseRecoverable(se.start,"getter should have no params"),i.kind==="set"&&se.params.length!==1&&this.raiseRecoverable(se.start,"setter should have exactly one param"),i.kind==="set"&&se.params[0].type==="RestElement"&&this.raiseRecoverable(se.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")},f.parseClassField=function(i){if(y(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&y(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(A.eq)){var c=this.currentThisScope(),I=c.inClassFieldInit;c.inClassFieldInit=!0,i.value=this.parseMaybeAssign(),c.inClassFieldInit=I}else i.value=null;return this.semicolon(),this.finishNode(i,"PropertyDefinition")},f.parseClassStaticBlock=function(i){i.body=[];var c=this.labels;for(this.labels=[],this.enterScope(Gi|Mi);this.type!==A.braceR;){var I=this.parseStatement(null);i.body.push(I)}return this.next(),this.exitScope(),this.labels=c,this.finishNode(i,"StaticBlock")},f.parseClassId=function(i,c){this.type===A.name?(i.id=this.parseIdent(),c&&this.checkLValSimple(i.id,oi,!1)):(c===!0&&this.unexpected(),i.id=null)},f.parseClassSuper=function(i){i.superClass=this.eat(A._extends)?this.parseExprSubscripts(null,!1):null},f.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared},f.exitClassBody=function(){var i=this.privateNameStack.pop(),c=i.declared,I=i.used;if(this.options.checkPrivateFields)for(var V=this.privateNameStack.length,W=V===0?null:this.privateNameStack[V-1],se=0;se<I.length;++se){var oe=I[se];de(c,oe.name)||(W?W.used.push(oe):this.raiseRecoverable(oe.start,"Private field '#"+oe.name+"' must be declared in an enclosing class"))}};function w(i,c){var I=c.key.name,V=i[I],W="true";return c.type==="MethodDefinition"&&(c.kind==="get"||c.kind==="set")&&(W=(c.static?"s":"i")+c.kind),V==="iget"&&W==="iset"||V==="iset"&&W==="iget"||V==="sget"&&W==="sset"||V==="sset"&&W==="sget"?(i[I]="true",!1):V?!0:(i[I]=W,!1)}function y(i,c){var I=i.computed,V=i.key;return!I&&(V.type==="Identifier"&&V.name===c||V.type==="Literal"&&V.value===c)}f.parseExportAllDeclaration=function(i,c){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(c,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==A.string&&this.unexpected(),i.source=this.parseExprAtom(),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")},f.parseExport=function(i,c){if(this.next(),this.eat(A.star))return this.parseExportAllDeclaration(i,c);if(this.eat(A._default))return this.checkExport(c,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(c,i.declaration.declarations):this.checkExport(c,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null;else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(c),this.eatContextual("from"))this.type!==A.string&&this.unexpected(),i.source=this.parseExprAtom();else{for(var I=0,V=i.specifiers;I<V.length;I+=1){var W=V[I];this.checkUnreserved(W.local),this.checkLocalExport(W.local),W.local.type==="Literal"&&this.raise(W.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")},f.parseExportDeclaration=function(i){return this.parseStatement(null)},f.parseExportDefaultDeclaration=function(){var i;if(this.type===A._function||(i=this.isAsyncFunction())){var c=this.startNode();return this.next(),i&&this.next(),this.parseFunction(c,v|k,!1,i)}else if(this.type===A._class){var I=this.startNode();return this.parseClass(I,"nullableID")}else{var V=this.parseMaybeAssign();return this.semicolon(),V}},f.checkExport=function(i,c,I){i&&(typeof c!="string"&&(c=c.type==="Identifier"?c.name:c.value),de(i,c)&&this.raiseRecoverable(I,"Duplicate export '"+c+"'"),i[c]=!0)},f.checkPatternExport=function(i,c){var I=c.type;if(I==="Identifier")this.checkExport(i,c,c.start);else if(I==="ObjectPattern")for(var V=0,W=c.properties;V<W.length;V+=1){var se=W[V];this.checkPatternExport(i,se)}else if(I==="ArrayPattern")for(var oe=0,Se=c.elements;oe<Se.length;oe+=1){var Te=Se[oe];Te&&this.checkPatternExport(i,Te)}else I==="Property"?this.checkPatternExport(i,c.value):I==="AssignmentPattern"?this.checkPatternExport(i,c.left):I==="RestElement"&&this.checkPatternExport(i,c.argument)},f.checkVariableExport=function(i,c){if(i)for(var I=0,V=c;I<V.length;I+=1){var W=V[I];this.checkPatternExport(i,W.id)}},f.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},f.parseExportSpecifier=function(i){var c=this.startNode();return c.local=this.parseModuleExportName(),c.exported=this.eatContextual("as")?this.parseModuleExportName():c.local,this.checkExport(i,c.exported,c.exported.start),this.finishNode(c,"ExportSpecifier")},f.parseExportSpecifiers=function(i){var c=[],I=!0;for(this.expect(A.braceL);!this.eat(A.braceR);){if(I)I=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;c.push(this.parseExportSpecifier(i))}return c},f.parseImport=function(i){return this.next(),this.type===A.string?(i.specifiers=_,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===A.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(i,"ImportDeclaration")},f.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,oi),this.finishNode(i,"ImportSpecifier")},f.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,oi),this.finishNode(i,"ImportDefaultSpecifier")},f.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,oi),this.finishNode(i,"ImportNamespaceSpecifier")},f.parseImportSpecifiers=function(){var i=[],c=!0;if(this.type===A.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(A.comma)))return i;if(this.type===A.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(A.braceL);!this.eat(A.braceR);){if(c)c=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;i.push(this.parseImportSpecifier())}return i},f.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===A.string){var i=this.parseLiteral(this.value);return Yt.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)},f.adaptDirectivePrologue=function(i){for(var c=0;c<i.length&&this.isDirectiveCandidate(i[c]);++c)i[c].directive=i[c].expression.raw.slice(1,-1)},f.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var L=e.prototype;L.toAssignable=function(i,c,I){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",I&&this.checkPatternErrors(I,!0);for(var V=0,W=i.properties;V<W.length;V+=1){var se=W[V];this.toAssignable(se,c),se.type==="RestElement"&&(se.argument.type==="ArrayPattern"||se.argument.type==="ObjectPattern")&&this.raise(se.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,c);break;case"ArrayExpression":i.type="ArrayPattern",I&&this.checkPatternErrors(I,!0),this.toAssignableList(i.elements,c);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,c),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,c);break;case"ParenthesizedExpression":this.toAssignable(i.expression,c,I);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!c)break;default:this.raise(i.start,"Assigning to rvalue")}else I&&this.checkPatternErrors(I,!0);return i},L.toAssignableList=function(i,c){for(var I=i.length,V=0;V<I;V++){var W=i[V];W&&this.toAssignable(W,c)}if(I){var se=i[I-1];this.options.ecmaVersion===6&&c&&se&&se.type==="RestElement"&&se.argument.type!=="Identifier"&&this.unexpected(se.argument.start)}return i},L.parseSpread=function(i){var c=this.startNode();return this.next(),c.argument=this.parseMaybeAssign(!1,i),this.finishNode(c,"SpreadElement")},L.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==A.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")},L.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case A.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(A.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case A.braceL:return this.parseObj(!0)}return this.parseIdent()},L.parseBindingList=function(i,c,I,V){for(var W=[],se=!0;!this.eat(i);)if(se?se=!1:this.expect(A.comma),c&&this.type===A.comma)W.push(null);else{if(I&&this.afterTrailingComma(i))break;if(this.type===A.ellipsis){var oe=this.parseRestBinding();this.parseBindingListItem(oe),W.push(oe),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}else W.push(this.parseAssignableListItem(V))}return W},L.parseAssignableListItem=function(i){var c=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(c),c},L.parseBindingListItem=function(i){return i},L.parseMaybeDefault=function(i,c,I){if(I=I||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(A.eq))return I;var V=this.startNodeAt(i,c);return V.left=I,V.right=this.parseMaybeAssign(),this.finishNode(V,"AssignmentPattern")},L.checkLValSimple=function(i,c,I){c===void 0&&(c=Zi);var V=c!==Zi;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(V?"Binding ":"Assigning to ")+i.name+" in strict mode"),V&&(c===oi&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),I&&(de(I,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),I[i.name]=!0),c!==nt&&this.declareName(i.name,c,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":V&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return V&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,c,I);default:this.raise(i.start,(V?"Binding":"Assigning to")+" rvalue")}},L.checkLValPattern=function(i,c,I){switch(c===void 0&&(c=Zi),i.type){case"ObjectPattern":for(var V=0,W=i.properties;V<W.length;V+=1){var se=W[V];this.checkLValInnerPattern(se,c,I)}break;case"ArrayPattern":for(var oe=0,Se=i.elements;oe<Se.length;oe+=1){var Te=Se[oe];Te&&this.checkLValInnerPattern(Te,c,I)}break;default:this.checkLValSimple(i,c,I)}},L.checkLValInnerPattern=function(i,c,I){switch(c===void 0&&(c=Zi),i.type){case"Property":this.checkLValInnerPattern(i.value,c,I);break;case"AssignmentPattern":this.checkLValPattern(i.left,c,I);break;case"RestElement":this.checkLValPattern(i.argument,c,I);break;default:this.checkLValPattern(i,c,I)}};var E=function(c,I,V,W,se){this.token=c,this.isExpr=!!I,this.preserveSpace=!!V,this.override=W,this.generator=!!se},M={b_stat:new E("{",!1),b_expr:new E("{",!0),b_tmpl:new E("${",!1),p_stat:new E("(",!1),p_expr:new E("(",!0),q_tmpl:new E("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new E("function",!1),f_expr:new E("function",!0),f_expr_gen:new E("function",!0,!1,null,!0),f_gen:new E("function",!1,!1,null,!0)},C=e.prototype;C.initialContext=function(){return[M.b_stat]},C.curContext=function(){return this.context[this.context.length-1]},C.braceIsBlock=function(i){var c=this.curContext();return c===M.f_expr||c===M.f_stat?!0:i===A.colon&&(c===M.b_stat||c===M.b_expr)?!c.isExpr:i===A._return||i===A.name&&this.exprAllowed?be.test(this.input.slice(this.lastTokEnd,this.start)):i===A._else||i===A.semi||i===A.eof||i===A.parenR||i===A.arrow?!0:i===A.braceL?c===M.b_stat:i===A._var||i===A._const||i===A.name?!1:!this.exprAllowed},C.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var c=this.context[i];if(c.token==="function")return c.generator}return!1},C.updateContext=function(i){var c,I=this.type;I.keyword&&i===A.dot?this.exprAllowed=!1:(c=I.updateContext)?c.call(this,i):this.exprAllowed=I.beforeExpr},C.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)},A.parenR.updateContext=A.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===M.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr},A.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?M.b_stat:M.b_expr),this.exprAllowed=!0},A.dollarBraceL.updateContext=function(){this.context.push(M.b_tmpl),this.exprAllowed=!0},A.parenL.updateContext=function(i){var c=i===A._if||i===A._for||i===A._with||i===A._while;this.context.push(c?M.p_stat:M.p_expr),this.exprAllowed=!0},A.incDec.updateContext=function(){},A._function.updateContext=A._class.updateContext=function(i){i.beforeExpr&&i!==A._else&&!(i===A.semi&&this.curContext()!==M.p_stat)&&!(i===A._return&&be.test(this.input.slice(this.lastTokEnd,this.start)))&&!((i===A.colon||i===A.braceL)&&this.curContext()===M.b_stat)?this.context.push(M.f_expr):this.context.push(M.f_stat),this.exprAllowed=!1},A.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},A.backQuote.updateContext=function(){this.curContext()===M.q_tmpl?this.context.pop():this.context.push(M.q_tmpl),this.exprAllowed=!1},A.star.updateContext=function(i){if(i===A._function){var c=this.context.length-1;this.context[c]===M.f_expr?this.context[c]=M.f_expr_gen:this.context[c]=M.f_gen}this.exprAllowed=!0},A.name.updateContext=function(i){var c=!1;this.options.ecmaVersion>=6&&i!==A.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(c=!0),this.exprAllowed=c};var P=e.prototype;P.checkPropClash=function(i,c,I){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var V=i.key,W;switch(V.type){case"Identifier":W=V.name;break;case"Literal":W=String(V.value);break;default:return}var se=i.kind;if(this.options.ecmaVersion>=6){W==="__proto__"&&se==="init"&&(c.proto&&(I?I.doubleProto<0&&(I.doubleProto=V.start):this.raiseRecoverable(V.start,"Redefinition of __proto__ property")),c.proto=!0);return}W="$"+W;var oe=c[W];if(oe){var Se;se==="init"?Se=this.strict&&oe.init||oe.get||oe.set:Se=oe.init||oe[se],Se&&this.raiseRecoverable(V.start,"Redefinition of property")}else oe=c[W]={init:!1,get:!1,set:!1};oe[se]=!0}},P.parseExpression=function(i,c){var I=this.start,V=this.startLoc,W=this.parseMaybeAssign(i,c);if(this.type===A.comma){var se=this.startNodeAt(I,V);for(se.expressions=[W];this.eat(A.comma);)se.expressions.push(this.parseMaybeAssign(i,c));return this.finishNode(se,"SequenceExpression")}return W},P.parseMaybeAssign=function(i,c,I){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var V=!1,W=-1,se=-1,oe=-1;c?(W=c.parenthesizedAssign,se=c.trailingComma,oe=c.doubleProto,c.parenthesizedAssign=c.trailingComma=-1):(c=new o,V=!0);var Se=this.start,Te=this.startLoc;(this.type===A.parenL||this.type===A.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var it=this.parseMaybeConditional(i,c);if(I&&(it=I.call(this,it,Se,Te)),this.type.isAssign){var st=this.startNodeAt(Se,Te);return st.operator=this.value,this.type===A.eq&&(it=this.toAssignable(it,!1,c)),V||(c.parenthesizedAssign=c.trailingComma=c.doubleProto=-1),c.shorthandAssign>=it.start&&(c.shorthandAssign=-1),this.type===A.eq?this.checkLValPattern(it):this.checkLValSimple(it),st.left=it,this.next(),st.right=this.parseMaybeAssign(i),oe>-1&&(c.doubleProto=oe),this.finishNode(st,"AssignmentExpression")}else V&&this.checkExpressionErrors(c,!0);return W>-1&&(c.parenthesizedAssign=W),se>-1&&(c.trailingComma=se),it},P.parseMaybeConditional=function(i,c){var I=this.start,V=this.startLoc,W=this.parseExprOps(i,c);if(this.checkExpressionErrors(c))return W;if(this.eat(A.question)){var se=this.startNodeAt(I,V);return se.test=W,se.consequent=this.parseMaybeAssign(),this.expect(A.colon),se.alternate=this.parseMaybeAssign(i),this.finishNode(se,"ConditionalExpression")}return W},P.parseExprOps=function(i,c){var I=this.start,V=this.startLoc,W=this.parseMaybeUnary(c,!1,!1,i);return this.checkExpressionErrors(c)||W.start===I&&W.type==="ArrowFunctionExpression"?W:this.parseExprOp(W,I,V,-1,i)},P.parseExprOp=function(i,c,I,V,W){var se=this.type.binop;if(se!=null&&(!W||this.type!==A._in)&&se>V){var oe=this.type===A.logicalOR||this.type===A.logicalAND,Se=this.type===A.coalesce;Se&&(se=A.logicalAND.binop);var Te=this.value;this.next();var it=this.start,st=this.startLoc,Rt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,W),it,st,se,W),Ii=this.buildBinary(c,I,i,Rt,Te,oe||Se);return(oe&&this.type===A.coalesce||Se&&(this.type===A.logicalOR||this.type===A.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Ii,c,I,V,W)}return i},P.buildBinary=function(i,c,I,V,W,se){V.type==="PrivateIdentifier"&&this.raise(V.start,"Private identifier can only be left side of binary expression");var oe=this.startNodeAt(i,c);return oe.left=I,oe.operator=W,oe.right=V,this.finishNode(oe,se?"LogicalExpression":"BinaryExpression")},P.parseMaybeUnary=function(i,c,I,V){var W=this.start,se=this.startLoc,oe;if(this.isContextual("await")&&this.canAwait)oe=this.parseAwait(V),c=!0;else if(this.type.prefix){var Se=this.startNode(),Te=this.type===A.incDec;Se.operator=this.value,Se.prefix=!0,this.next(),Se.argument=this.parseMaybeUnary(null,!0,Te,V),this.checkExpressionErrors(i,!0),Te?this.checkLValSimple(Se.argument):this.strict&&Se.operator==="delete"&&Se.argument.type==="Identifier"?this.raiseRecoverable(Se.start,"Deleting local variable in strict mode"):Se.operator==="delete"&&b(Se.argument)?this.raiseRecoverable(Se.start,"Private fields can not be deleted"):c=!0,oe=this.finishNode(Se,Te?"UpdateExpression":"UnaryExpression")}else if(!c&&this.type===A.privateId)(V||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),oe=this.parsePrivateIdent(),this.type!==A._in&&this.unexpected();else{if(oe=this.parseExprSubscripts(i,V),this.checkExpressionErrors(i))return oe;for(;this.type.postfix&&!this.canInsertSemicolon();){var it=this.startNodeAt(W,se);it.operator=this.value,it.prefix=!1,it.argument=oe,this.checkLValSimple(oe),this.next(),oe=this.finishNode(it,"UpdateExpression")}}if(!I&&this.eat(A.starstar))if(c)this.unexpected(this.lastTokStart);else return this.buildBinary(W,se,oe,this.parseMaybeUnary(null,!1,!1,V),"**",!1);else return oe};function b(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&b(i.expression)}P.parseExprSubscripts=function(i,c){var I=this.start,V=this.startLoc,W=this.parseExprAtom(i,c);if(W.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return W;var se=this.parseSubscripts(W,I,V,!1,c);return i&&se.type==="MemberExpression"&&(i.parenthesizedAssign>=se.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=se.start&&(i.parenthesizedBind=-1),i.trailingComma>=se.start&&(i.trailingComma=-1)),se},P.parseSubscripts=function(i,c,I,V,W){for(var se=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&this.potentialArrowAt===i.start,oe=!1;;){var Se=this.parseSubscript(i,c,I,V,se,oe,W);if(Se.optional&&(oe=!0),Se===i||Se.type==="ArrowFunctionExpression"){if(oe){var Te=this.startNodeAt(c,I);Te.expression=Se,Se=this.finishNode(Te,"ChainExpression")}return Se}i=Se}},P.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(A.arrow)},P.parseSubscriptAsyncArrow=function(i,c,I,V){return this.parseArrowExpression(this.startNodeAt(i,c),I,!0,V)},P.parseSubscript=function(i,c,I,V,W,se,oe){var Se=this.options.ecmaVersion>=11,Te=Se&&this.eat(A.questionDot);V&&Te&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var it=this.eat(A.bracketL);if(it||Te&&this.type!==A.parenL&&this.type!==A.backQuote||this.eat(A.dot)){var st=this.startNodeAt(c,I);st.object=i,it?(st.property=this.parseExpression(),this.expect(A.bracketR)):this.type===A.privateId&&i.type!=="Super"?st.property=this.parsePrivateIdent():st.property=this.parseIdent(this.options.allowReserved!=="never"),st.computed=!!it,Se&&(st.optional=Te),i=this.finishNode(st,"MemberExpression")}else if(!V&&this.eat(A.parenL)){var Rt=new o,Ii=this.yieldPos,Ji=this.awaitPos,Li=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var mn=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1,Rt);if(W&&!Te&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Rt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Ii,this.awaitPos=Ji,this.awaitIdentPos=Li,this.parseSubscriptAsyncArrow(c,I,mn,oe);this.checkExpressionErrors(Rt,!0),this.yieldPos=Ii||this.yieldPos,this.awaitPos=Ji||this.awaitPos,this.awaitIdentPos=Li||this.awaitIdentPos;var Oi=this.startNodeAt(c,I);Oi.callee=i,Oi.arguments=mn,Se&&(Oi.optional=Te),i=this.finishNode(Oi,"CallExpression")}else if(this.type===A.backQuote){(Te||se)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ri=this.startNodeAt(c,I);Ri.tag=i,Ri.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(Ri,"TaggedTemplateExpression")}return i},P.parseExprAtom=function(i,c,I){this.type===A.slash&&this.readRegexp();var V,W=this.potentialArrowAt===this.start;switch(this.type){case A._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),V=this.startNode(),this.next(),this.type===A.parenL&&!this.allowDirectSuper&&this.raise(V.start,"super() call outside constructor of a subclass"),this.type!==A.dot&&this.type!==A.bracketL&&this.type!==A.parenL&&this.unexpected(),this.finishNode(V,"Super");case A._this:return V=this.startNode(),this.next(),this.finishNode(V,"ThisExpression");case A.name:var se=this.start,oe=this.startLoc,Se=this.containsEsc,Te=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Se&&Te.name==="async"&&!this.canInsertSemicolon()&&this.eat(A._function))return this.overrideContext(M.f_expr),this.parseFunction(this.startNodeAt(se,oe),0,!1,!0,c);if(W&&!this.canInsertSemicolon()){if(this.eat(A.arrow))return this.parseArrowExpression(this.startNodeAt(se,oe),[Te],!1,c);if(this.options.ecmaVersion>=8&&Te.name==="async"&&this.type===A.name&&!Se&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Te=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(A.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(se,oe),[Te],!0,c)}return Te;case A.regexp:var it=this.value;return V=this.parseLiteral(it.value),V.regex={pattern:it.pattern,flags:it.flags},V;case A.num:case A.string:return this.parseLiteral(this.value);case A._null:case A._true:case A._false:return V=this.startNode(),V.value=this.type===A._null?null:this.type===A._true,V.raw=this.type.keyword,this.next(),this.finishNode(V,"Literal");case A.parenL:var st=this.start,Rt=this.parseParenAndDistinguishExpression(W,c);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Rt)&&(i.parenthesizedAssign=st),i.parenthesizedBind<0&&(i.parenthesizedBind=st)),Rt;case A.bracketL:return V=this.startNode(),this.next(),V.elements=this.parseExprList(A.bracketR,!0,!0,i),this.finishNode(V,"ArrayExpression");case A.braceL:return this.overrideContext(M.b_expr),this.parseObj(!1,i);case A._function:return V=this.startNode(),this.next(),this.parseFunction(V,0);case A._class:return this.parseClass(this.startNode(),!1);case A._new:return this.parseNew();case A.backQuote:return this.parseTemplate();case A._import:return this.options.ecmaVersion>=11?this.parseExprImport(I):this.unexpected();default:return this.parseExprAtomDefault()}},P.parseExprAtomDefault=function(){this.unexpected()},P.parseExprImport=function(i){var c=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var I=this.parseIdent(!0);if(this.type===A.parenL&&!i)return this.parseDynamicImport(c);if(this.type===A.dot)return c.meta=I,this.parseImportMeta(c);this.unexpected()},P.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),!this.eat(A.parenR)){var c=this.start;this.eat(A.comma)&&this.eat(A.parenR)?this.raiseRecoverable(c,"Trailing comma is not allowed in import()"):this.unexpected(c)}return this.finishNode(i,"ImportExpression")},P.parseImportMeta=function(i){this.next();var c=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),c&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")},P.parseLiteral=function(i){var c=this.startNode();return c.value=i,c.raw=this.input.slice(this.start,this.end),c.raw.charCodeAt(c.raw.length-1)===110&&(c.bigint=c.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(c,"Literal")},P.parseParenExpression=function(){this.expect(A.parenL);var i=this.parseExpression();return this.expect(A.parenR),i},P.shouldParseArrow=function(i){return!this.canInsertSemicolon()},P.parseParenAndDistinguishExpression=function(i,c){var I=this.start,V=this.startLoc,W,se=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var oe=this.start,Se=this.startLoc,Te=[],it=!0,st=!1,Rt=new o,Ii=this.yieldPos,Ji=this.awaitPos,Li;for(this.yieldPos=0,this.awaitPos=0;this.type!==A.parenR;)if(it?it=!1:this.expect(A.comma),se&&this.afterTrailingComma(A.parenR,!0)){st=!0;break}else if(this.type===A.ellipsis){Li=this.start,Te.push(this.parseParenItem(this.parseRestBinding())),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Te.push(this.parseMaybeAssign(!1,Rt,this.parseParenItem));var mn=this.lastTokEnd,Oi=this.lastTokEndLoc;if(this.expect(A.parenR),i&&this.shouldParseArrow(Te)&&this.eat(A.arrow))return this.checkPatternErrors(Rt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Ii,this.awaitPos=Ji,this.parseParenArrowList(I,V,Te,c);(!Te.length||st)&&this.unexpected(this.lastTokStart),Li&&this.unexpected(Li),this.checkExpressionErrors(Rt,!0),this.yieldPos=Ii||this.yieldPos,this.awaitPos=Ji||this.awaitPos,Te.length>1?(W=this.startNodeAt(oe,Se),W.expressions=Te,this.finishNodeAt(W,"SequenceExpression",mn,Oi)):W=Te[0]}else W=this.parseParenExpression();if(this.options.preserveParens){var Ri=this.startNodeAt(I,V);return Ri.expression=W,this.finishNode(Ri,"ParenthesizedExpression")}else return W},P.parseParenItem=function(i){return i},P.parseParenArrowList=function(i,c,I,V){return this.parseArrowExpression(this.startNodeAt(i,c),I,!1,V)};var T=[];P.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===A.dot){var c=this.startNodeAt(i.start,i.startLoc);c.name="new",i.meta=this.finishNode(c,"Identifier"),this.next();var I=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),I&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var V=this.start,W=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),V,W,!0,!1),this.eat(A.parenL)?i.arguments=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1):i.arguments=T,this.finishNode(i,"NewExpression")},P.parseTemplateElement=function(i){var c=i.isTagged,I=this.startNode();return this.type===A.invalidTemplate?(c||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),I.value={raw:this.value,cooked:null}):I.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),I.tail=this.type===A.backQuote,this.finishNode(I,"TemplateElement")},P.parseTemplate=function(i){i===void 0&&(i={});var c=i.isTagged;c===void 0&&(c=!1);var I=this.startNode();this.next(),I.expressions=[];var V=this.parseTemplateElement({isTagged:c});for(I.quasis=[V];!V.tail;)this.type===A.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(A.dollarBraceL),I.expressions.push(this.parseExpression()),this.expect(A.braceR),I.quasis.push(V=this.parseTemplateElement({isTagged:c}));return this.next(),this.finishNode(I,"TemplateLiteral")},P.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===A.name||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===A.star)&&!be.test(this.input.slice(this.lastTokEnd,this.start))},P.parseObj=function(i,c){var I=this.startNode(),V=!0,W={};for(I.properties=[],this.next();!this.eat(A.braceR);){if(V)V=!1;else if(this.expect(A.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(A.braceR))break;var se=this.parseProperty(i,c);i||this.checkPropClash(se,W,c),I.properties.push(se)}return this.finishNode(I,i?"ObjectPattern":"ObjectExpression")},P.parseProperty=function(i,c){var I=this.startNode(),V,W,se,oe;if(this.options.ecmaVersion>=9&&this.eat(A.ellipsis))return i?(I.argument=this.parseIdent(!1),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(I,"RestElement")):(I.argument=this.parseMaybeAssign(!1,c),this.type===A.comma&&c&&c.trailingComma<0&&(c.trailingComma=this.start),this.finishNode(I,"SpreadElement"));this.options.ecmaVersion>=6&&(I.method=!1,I.shorthand=!1,(i||c)&&(se=this.start,oe=this.startLoc),i||(V=this.eat(A.star)));var Se=this.containsEsc;return this.parsePropertyName(I),!i&&!Se&&this.options.ecmaVersion>=8&&!V&&this.isAsyncProp(I)?(W=!0,V=this.options.ecmaVersion>=9&&this.eat(A.star),this.parsePropertyName(I)):W=!1,this.parsePropertyValue(I,i,V,W,se,oe,c,Se),this.finishNode(I,"Property")},P.parseGetterSetter=function(i){i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1);var c=i.kind==="get"?0:1;if(i.value.params.length!==c){var I=i.value.start;i.kind==="get"?this.raiseRecoverable(I,"getter should have no params"):this.raiseRecoverable(I,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")},P.parsePropertyValue=function(i,c,I,V,W,se,oe,Se){(I||V)&&this.type===A.colon&&this.unexpected(),this.eat(A.colon)?(i.value=c?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,oe),i.kind="init"):this.options.ecmaVersion>=6&&this.type===A.parenL?(c&&this.unexpected(),i.kind="init",i.method=!0,i.value=this.parseMethod(I,V)):!c&&!Se&&this.options.ecmaVersion>=5&&!i.computed&&i.key.type==="Identifier"&&(i.key.name==="get"||i.key.name==="set")&&this.type!==A.comma&&this.type!==A.braceR&&this.type!==A.eq?((I||V)&&this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((I||V)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=W),i.kind="init",c?i.value=this.parseMaybeDefault(W,se,this.copyNode(i.key)):this.type===A.eq&&oe?(oe.shorthandAssign<0&&(oe.shorthandAssign=this.start),i.value=this.parseMaybeDefault(W,se,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.shorthand=!0):this.unexpected()},P.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(A.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(A.bracketR),i.key;i.computed=!1}return i.key=this.type===A.num||this.type===A.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},P.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)},P.parseMethod=function(i,c,I){var V=this.startNode(),W=this.yieldPos,se=this.awaitPos,oe=this.awaitIdentPos;return this.initFunction(V),this.options.ecmaVersion>=6&&(V.generator=i),this.options.ecmaVersion>=8&&(V.async=!!c),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(kn(c,V.generator)|Mi|(I?gn:0)),this.expect(A.parenL),V.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(V,!1,!0,!1),this.yieldPos=W,this.awaitPos=se,this.awaitIdentPos=oe,this.finishNode(V,"FunctionExpression")},P.parseArrowExpression=function(i,c,I,V){var W=this.yieldPos,se=this.awaitPos,oe=this.awaitIdentPos;return this.enterScope(kn(I,!1)|Si),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!I),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(c,!0),this.parseFunctionBody(i,!0,!1,V),this.yieldPos=W,this.awaitPos=se,this.awaitIdentPos=oe,this.finishNode(i,"ArrowFunctionExpression")},P.parseFunctionBody=function(i,c,I,V){var W=c&&this.type!==A.braceL,se=this.strict,oe=!1;if(W)i.body=this.parseMaybeAssign(V),i.expression=!0,this.checkParams(i,!1);else{var Se=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!se||Se)&&(oe=this.strictDirective(this.end),oe&&Se&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Te=this.labels;this.labels=[],oe&&(this.strict=!0),this.checkParams(i,!se&&!oe&&!c&&!I&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,nt),i.body=this.parseBlock(!1,void 0,oe&&!se),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=Te}this.exitScope()},P.isSimpleParamList=function(i){for(var c=0,I=i;c<I.length;c+=1){var V=I[c];if(V.type!=="Identifier")return!1}return!0},P.checkParams=function(i,c){for(var I=Object.create(null),V=0,W=i.params;V<W.length;V+=1){var se=W[V];this.checkLValInnerPattern(se,Nt,c?null:I)}},P.parseExprList=function(i,c,I,V){for(var W=[],se=!0;!this.eat(i);){if(se)se=!1;else if(this.expect(A.comma),c&&this.afterTrailingComma(i))break;var oe=void 0;I&&this.type===A.comma?oe=null:this.type===A.ellipsis?(oe=this.parseSpread(V),V&&this.type===A.comma&&V.trailingComma<0&&(V.trailingComma=this.start)):oe=this.parseMaybeAssign(!1,V),W.push(oe)}return W},P.checkUnreserved=function(i){var c=i.start,I=i.end,V=i.name;if(this.inGenerator&&V==="yield"&&this.raiseRecoverable(c,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&V==="await"&&this.raiseRecoverable(c,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&V==="arguments"&&this.raiseRecoverable(c,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(V==="arguments"||V==="await")&&this.raise(c,"Cannot use "+V+" in class static initialization block"),this.keywords.test(V)&&this.raise(c,"Unexpected keyword '"+V+"'"),!(this.options.ecmaVersion<6&&this.input.slice(c,I).indexOf("\\")!==-1)){var W=this.strict?this.reservedWordsStrict:this.reservedWords;W.test(V)&&(!this.inAsync&&V==="await"&&this.raiseRecoverable(c,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(c,"The keyword '"+V+"' is reserved"))}},P.parseIdent=function(i){var c=this.parseIdentNode();return this.next(!!i),this.finishNode(c,"Identifier"),i||(this.checkUnreserved(c),c.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=c.start)),c},P.parseIdentNode=function(){var i=this.startNode();return this.type===A.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=A.name):this.unexpected(),i},P.parsePrivateIdent=function(){var i=this.startNode();return this.type===A.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i},P.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var c=this.startNode();return this.next(),this.type===A.semi||this.canInsertSemicolon()||this.type!==A.star&&!this.type.startsExpr?(c.delegate=!1,c.argument=null):(c.delegate=this.eat(A.star),c.argument=this.parseMaybeAssign(i)),this.finishNode(c,"YieldExpression")},P.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var c=this.startNode();return this.next(),c.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(c,"AwaitExpression")};var R=e.prototype;R.raise=function(i,c){var I=Wi(this.input,i);c+=" ("+I.line+":"+I.column+")";var V=new SyntaxError(c);throw V.pos=i,V.loc=I,V.raisedAt=this.pos,V},R.raiseRecoverable=R.raise,R.curPosition=function(){if(this.options.locations)return new ni(this.curLine,this.pos-this.lineStart)};var B=e.prototype,O=function(c){this.flags=c,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};B.enterScope=function(i){this.scopeStack.push(new O(i))},B.exitScope=function(){this.scopeStack.pop()},B.treatFunctionsAsVarInScope=function(i){return i.flags&ct||!this.inModule&&i.flags&lt},B.declareName=function(i,c,I){var V=!1;if(c===oi){var W=this.currentScope();V=W.lexical.indexOf(i)>-1||W.functions.indexOf(i)>-1||W.var.indexOf(i)>-1,W.lexical.push(i),this.inModule&&W.flags&lt&&delete this.undefinedExports[i]}else if(c===In){var se=this.currentScope();se.lexical.push(i)}else if(c===Ct){var oe=this.currentScope();this.treatFunctionsAsVar?V=oe.lexical.indexOf(i)>-1:V=oe.lexical.indexOf(i)>-1||oe.var.indexOf(i)>-1,oe.functions.push(i)}else for(var Se=this.scopeStack.length-1;Se>=0;--Se){var Te=this.scopeStack[Se];if(Te.lexical.indexOf(i)>-1&&!(Te.flags&pn&&Te.lexical[0]===i)||!this.treatFunctionsAsVarInScope(Te)&&Te.functions.indexOf(i)>-1){V=!0;break}if(Te.var.push(i),this.inModule&&Te.flags&lt&&delete this.undefinedExports[i],Te.flags&Cn)break}V&&this.raiseRecoverable(I,"Identifier '"+i+"' has already been declared")},B.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)},B.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},B.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var c=this.scopeStack[i];if(c.flags&Cn)return c}},B.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var c=this.scopeStack[i];if(c.flags&Cn&&!(c.flags&Si))return c}};var F=function(c,I,V){this.type="",this.start=I,this.end=0,c.options.locations&&(this.loc=new xt(c,V)),c.options.directSourceFile&&(this.sourceFile=c.options.directSourceFile),c.options.ranges&&(this.range=[I,0])},U=e.prototype;U.startNode=function(){return new F(this,this.start,this.startLoc)},U.startNodeAt=function(i,c){return new F(this,i,c)};function G(i,c,I,V){return i.type=c,i.end=I,this.options.locations&&(i.loc.end=V),this.options.ranges&&(i.range[1]=I),i}U.finishNode=function(i,c){return G.call(this,i,c,this.lastTokEnd,this.lastTokEndLoc)},U.finishNodeAt=function(i,c,I,V){return G.call(this,i,c,I,V)},U.copyNode=function(i){var c=new F(this,i.start,this.startLoc);for(var I in i)c[I]=i[I];return c};var Y="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",j=Y+" Extended_Pictographic",X=j,Q=X+" EBase EComp EMod EPres ExtPict",ie=Q,ne=ie,ue={9:Y,10:j,11:X,12:Q,13:ie,14:ne},ye="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",xe={9:"",10:"",11:"",12:"",13:"",14:ye},ke="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ne="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",pe=Ne+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",_e=pe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ie=_e+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Me=Ie+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Le=Me+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",We={9:Ne,10:pe,11:_e,12:Ie,13:Me,14:Le},Ue={};function Ye(i){var c=Ue[i]={binary:qe(ue[i]+" "+ke),binaryOfStrings:qe(xe[i]),nonBinary:{General_Category:qe(ke),Script:qe(We[i])}};c.nonBinary.Script_Extensions=c.nonBinary.Script,c.nonBinary.gc=c.nonBinary.General_Category,c.nonBinary.sc=c.nonBinary.Script,c.nonBinary.scx=c.nonBinary.Script_Extensions}for(var Je=0,Ze=[9,10,11,12,13,14];Je<Ze.length;Je+=1){var Vt=Ze[Je];Ye(Vt)}var Pe=e.prototype,bt=function(c){this.parser=c,this.validFlags="gim"+(c.options.ecmaVersion>=6?"uy":"")+(c.options.ecmaVersion>=9?"s":"")+(c.options.ecmaVersion>=13?"d":"")+(c.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ue[c.options.ecmaVersion>=14?14:c.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};bt.prototype.reset=function(c,I,V){var W=V.indexOf("v")!==-1,se=V.indexOf("u")!==-1;this.start=c|0,this.source=I+"",this.flags=V,W&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=se&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=se&&this.parser.options.ecmaVersion>=9)},bt.prototype.raise=function(c){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+c)},bt.prototype.at=function(c,I){I===void 0&&(I=!1);var V=this.source,W=V.length;if(c>=W)return-1;var se=V.charCodeAt(c);if(!(I||this.switchU)||se<=55295||se>=57344||c+1>=W)return se;var oe=V.charCodeAt(c+1);return oe>=56320&&oe<=57343?(se<<10)+oe-56613888:se},bt.prototype.nextIndex=function(c,I){I===void 0&&(I=!1);var V=this.source,W=V.length;if(c>=W)return W;var se=V.charCodeAt(c),oe;return!(I||this.switchU)||se<=55295||se>=57344||c+1>=W||(oe=V.charCodeAt(c+1))<56320||oe>57343?c+1:c+2},bt.prototype.current=function(c){return c===void 0&&(c=!1),this.at(this.pos,c)},bt.prototype.lookahead=function(c){return c===void 0&&(c=!1),this.at(this.nextIndex(this.pos,c),c)},bt.prototype.advance=function(c){c===void 0&&(c=!1),this.pos=this.nextIndex(this.pos,c)},bt.prototype.eat=function(c,I){return I===void 0&&(I=!1),this.current(I)===c?(this.advance(I),!0):!1},bt.prototype.eatChars=function(c,I){I===void 0&&(I=!1);for(var V=this.pos,W=0,se=c;W<se.length;W+=1){var oe=se[W],Se=this.at(V,I);if(Se===-1||Se!==oe)return!1;V=this.nextIndex(V,I)}return this.pos=V,!0},Pe.validateRegExpFlags=function(i){for(var c=i.validFlags,I=i.flags,V=!1,W=!1,se=0;se<I.length;se++){var oe=I.charAt(se);c.indexOf(oe)===-1&&this.raise(i.start,"Invalid regular expression flag"),I.indexOf(oe,se+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),oe==="u"&&(V=!0),oe==="v"&&(W=!0)}this.options.ecmaVersion>=15&&V&&W&&this.raise(i.start,"Invalid regular expression flag")},Pe.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&i.groupNames.length>0&&(i.switchN=!0,this.regexp_pattern(i))},Pe.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames.length=0,i.backReferenceNames.length=0,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var c=0,I=i.backReferenceNames;c<I.length;c+=1){var V=I[c];i.groupNames.indexOf(V)===-1&&i.raise("Invalid named capture referenced")}},Pe.regexp_disjunction=function(i){for(this.regexp_alternative(i);i.eat(124);)this.regexp_alternative(i);this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")},Pe.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););},Pe.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1},Pe.regexp_eatAssertion=function(i){var c=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=c}if(i.eat(40)&&i.eat(63)){var I=!1;if(this.options.ecmaVersion>=9&&(I=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!I,!0}return i.pos=c,!1},Pe.regexp_eatQuantifier=function(i,c){return c===void 0&&(c=!1),this.regexp_eatQuantifierPrefix(i,c)?(i.eat(63),!0):!1},Pe.regexp_eatQuantifierPrefix=function(i,c){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,c)},Pe.regexp_eatBracedQuantifier=function(i,c){var I=i.pos;if(i.eat(123)){var V=0,W=-1;if(this.regexp_eatDecimalDigits(i)&&(V=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(W=i.lastIntValue),i.eat(125)))return W!==-1&&W<V&&!c&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!c&&i.raise("Incomplete quantifier"),i.pos=I}return!1},Pe.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)},Pe.regexp_eatReverseSolidusAtomEscape=function(i){var c=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=c}return!1},Pe.regexp_eatUncapturingGroup=function(i){var c=i.pos;if(i.eat(40)){if(i.eat(63)&&i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}i.pos=c}return!1},Pe.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1},Pe.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)},Pe.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1},Pe.regexp_eatSyntaxCharacter=function(i){var c=i.current();return kt(c)?(i.lastIntValue=c,i.advance(),!0):!1};function kt(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}Pe.regexp_eatPatternCharacters=function(i){for(var c=i.pos,I=0;(I=i.current())!==-1&&!kt(I);)i.advance();return i.pos!==c},Pe.regexp_eatExtendedPatternCharacter=function(i){var c=i.current();return c!==-1&&c!==36&&!(c>=40&&c<=43)&&c!==46&&c!==63&&c!==91&&c!==94&&c!==124?(i.advance(),!0):!1},Pe.regexp_groupSpecifier=function(i){if(i.eat(63)){if(this.regexp_eatGroupName(i)){i.groupNames.indexOf(i.lastStringValue)!==-1&&i.raise("Duplicate capture group name"),i.groupNames.push(i.lastStringValue);return}i.raise("Invalid group")}},Pe.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1},Pe.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=ft(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=ft(i.lastIntValue);return!0}return!1},Pe.regexp_eatRegExpIdentifierStart=function(i){var c=i.pos,I=this.options.ecmaVersion>=11,V=i.current(I);return i.advance(I),V===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,I)&&(V=i.lastIntValue),gt(V)?(i.lastIntValue=V,!0):(i.pos=c,!1)};function gt(i){return le(i,!0)||i===36||i===95}Pe.regexp_eatRegExpIdentifierPart=function(i){var c=i.pos,I=this.options.ecmaVersion>=11,V=i.current(I);return i.advance(I),V===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,I)&&(V=i.lastIntValue),Mt(V)?(i.lastIntValue=V,!0):(i.pos=c,!1)};function Mt(i){return J(i,!0)||i===36||i===95||i===8204||i===8205}Pe.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i)?!0:(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)},Pe.regexp_eatBackReference=function(i){var c=i.pos;if(this.regexp_eatDecimalEscape(i)){var I=i.lastIntValue;if(i.switchU)return I>i.maxBackReference&&(i.maxBackReference=I),!0;if(I<=i.numCapturingParens)return!0;i.pos=c}return!1},Pe.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1},Pe.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)},Pe.regexp_eatCControlLetter=function(i){var c=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=c}return!1},Pe.regexp_eatZero=function(i){return i.current()===48&&!Ki(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1},Pe.regexp_eatControlEscape=function(i){var c=i.current();return c===116?(i.lastIntValue=9,i.advance(),!0):c===110?(i.lastIntValue=10,i.advance(),!0):c===118?(i.lastIntValue=11,i.advance(),!0):c===102?(i.lastIntValue=12,i.advance(),!0):c===114?(i.lastIntValue=13,i.advance(),!0):!1},Pe.regexp_eatControlLetter=function(i){var c=i.current();return Zt(c)?(i.lastIntValue=c%32,i.advance(),!0):!1};function Zt(i){return i>=65&&i<=90||i>=97&&i<=122}Pe.regexp_eatRegExpUnicodeEscapeSequence=function(i,c){c===void 0&&(c=!1);var I=i.pos,V=c||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var W=i.lastIntValue;if(V&&W>=55296&&W<=56319){var se=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var oe=i.lastIntValue;if(oe>=56320&&oe<=57343)return i.lastIntValue=(W-55296)*1024+(oe-56320)+65536,!0}i.pos=se,i.lastIntValue=W}return!0}if(V&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&Bt(i.lastIntValue))return!0;V&&i.raise("Invalid unicode escape"),i.pos=I}return!1};function Bt(i){return i>=0&&i<=1114111}Pe.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var c=i.current();return c!==99&&(!i.switchN||c!==107)?(i.lastIntValue=c,i.advance(),!0):!1},Pe.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var c=i.current();if(c>=49&&c<=57){do i.lastIntValue=10*i.lastIntValue+(c-48),i.advance();while((c=i.current())>=48&&c<=57);return!0}return!1};var ti=0,Ut=1,It=2;Pe.regexp_eatCharacterClassEscape=function(i){var c=i.current();if(li(c))return i.lastIntValue=-1,i.advance(),Ut;var I=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((I=c===80)||c===112)){i.lastIntValue=-1,i.advance();var V;if(i.eat(123)&&(V=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return I&&V===It&&i.raise("Invalid property name"),V;i.raise("Invalid property name")}return ti};function li(i){return i===100||i===68||i===115||i===83||i===119||i===87}Pe.regexp_eatUnicodePropertyValueExpression=function(i){var c=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var I=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var V=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,I,V),Ut}}if(i.pos=c,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var W=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,W)}return ti},Pe.regexp_validateUnicodePropertyNameAndValue=function(i,c,I){de(i.unicodeProperties.nonBinary,c)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[c].test(I)||i.raise("Invalid property value")},Pe.regexp_validateUnicodePropertyNameOrValue=function(i,c){if(i.unicodeProperties.binary.test(c))return Ut;if(i.switchV&&i.unicodeProperties.binaryOfStrings.test(c))return It;i.raise("Invalid property name")},Pe.regexp_eatUnicodePropertyName=function(i){var c=0;for(i.lastStringValue="";Kt(c=i.current());)i.lastStringValue+=ft(c),i.advance();return i.lastStringValue!==""};function Kt(i){return Zt(i)||i===95}Pe.regexp_eatUnicodePropertyValue=function(i){var c=0;for(i.lastStringValue="";ii(c=i.current());)i.lastStringValue+=ft(c),i.advance();return i.lastStringValue!==""};function ii(i){return Kt(i)||Ki(i)}Pe.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)},Pe.regexp_eatCharacterClass=function(i){if(i.eat(91)){var c=i.eat(94),I=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),c&&I===It&&i.raise("Negated character class may contain strings"),!0}return!1},Pe.regexp_classContents=function(i){return i.current()===93?Ut:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),Ut)},Pe.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var c=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var I=i.lastIntValue;i.switchU&&(c===-1||I===-1)&&i.raise("Invalid character class"),c!==-1&&I!==-1&&c>I&&i.raise("Range out of order in character class")}}},Pe.regexp_eatClassAtom=function(i){var c=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var I=i.current();(I===99||En(I))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=c}var V=i.current();return V!==93?(i.lastIntValue=V,i.advance(),!0):!1},Pe.regexp_eatClassEscape=function(i){var c=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=c}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)},Pe.regexp_classSetExpression=function(i){var c=Ut,I;if(!this.regexp_eatClassSetRange(i))if(I=this.regexp_eatClassSetOperand(i)){I===It&&(c=It);for(var V=i.pos;i.eatChars([38,38]);){if(i.current()!==38&&(I=this.regexp_eatClassSetOperand(i))){I!==It&&(c=Ut);continue}i.raise("Invalid character in character class")}if(V!==i.pos)return c;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(V!==i.pos)return c}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(I=this.regexp_eatClassSetOperand(i),!I)return c;I===It&&(c=It)}},Pe.regexp_eatClassSetRange=function(i){var c=i.pos;if(this.regexp_eatClassSetCharacter(i)){var I=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var V=i.lastIntValue;return I!==-1&&V!==-1&&I>V&&i.raise("Range out of order in character class"),!0}i.pos=c}return!1},Pe.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?Ut:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)},Pe.regexp_eatNestedClass=function(i){var c=i.pos;if(i.eat(91)){var I=i.eat(94),V=this.regexp_classContents(i);if(i.eat(93))return I&&V===It&&i.raise("Negated character class may contain strings"),V;i.pos=c}if(i.eat(92)){var W=this.regexp_eatCharacterClassEscape(i);if(W)return W;i.pos=c}return null},Pe.regexp_eatClassStringDisjunction=function(i){var c=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var I=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return I}else i.raise("Invalid escape");i.pos=c}return null},Pe.regexp_classStringDisjunctionContents=function(i){for(var c=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===It&&(c=It);return c},Pe.regexp_classString=function(i){for(var c=0;this.regexp_eatClassSetCharacter(i);)c++;return c===1?Ut:It},Pe.regexp_eatClassSetCharacter=function(i){var c=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=c,!1);var I=i.current();return I<0||I===i.lookahead()&&bi(I)||hi(I)?!1:(i.advance(),i.lastIntValue=I,!0)};function bi(i){return i===33||i>=35&&i<=38||i>=42&&i<=44||i===46||i>=58&&i<=64||i===94||i===96||i===126}function hi(i){return i===40||i===41||i===45||i===47||i>=91&&i<=93||i>=123&&i<=125}Pe.regexp_eatClassSetReservedPunctuator=function(i){var c=i.current();return _n(c)?(i.lastIntValue=c,i.advance(),!0):!1};function _n(i){return i===33||i===35||i===37||i===38||i===44||i===45||i>=58&&i<=62||i===64||i===96||i===126}Pe.regexp_eatClassControlLetter=function(i){var c=i.current();return Ki(c)||c===95?(i.lastIntValue=c%32,i.advance(),!0):!1},Pe.regexp_eatHexEscapeSequence=function(i){var c=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=c}return!1},Pe.regexp_eatDecimalDigits=function(i){var c=i.pos,I=0;for(i.lastIntValue=0;Ki(I=i.current());)i.lastIntValue=10*i.lastIntValue+(I-48),i.advance();return i.pos!==c};function Ki(i){return i>=48&&i<=57}Pe.regexp_eatHexDigits=function(i){var c=i.pos,I=0;for(i.lastIntValue=0;Pn(I=i.current());)i.lastIntValue=16*i.lastIntValue+An(I),i.advance();return i.pos!==c};function Pn(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function An(i){return i>=65&&i<=70?10+(i-65):i>=97&&i<=102?10+(i-97):i-48}Pe.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var c=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var I=i.lastIntValue;c<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=c*64+I*8+i.lastIntValue:i.lastIntValue=c*8+I}else i.lastIntValue=c;return!0}return!1},Pe.regexp_eatOctalDigit=function(i){var c=i.current();return En(c)?(i.lastIntValue=c-48,i.advance(),!0):(i.lastIntValue=0,!1)};function En(i){return i>=48&&i<=55}Pe.regexp_eatFixedHexDigits=function(i,c){var I=i.pos;i.lastIntValue=0;for(var V=0;V<c;++V){var W=i.current();if(!Pn(W))return i.pos=I,!1;i.lastIntValue=16*i.lastIntValue+An(W),i.advance()}return!0};var Xi=function(c){this.type=c.type,this.value=c.value,this.start=c.start,this.end=c.end,c.options.locations&&(this.loc=new xt(c,c.startLoc,c.endLoc)),c.options.ranges&&(this.range=[c.start,c.end])},rt=e.prototype;rt.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Xi(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},rt.getToken=function(){return this.next(),new Xi(this)},typeof Symbol<"u"&&(rt[Symbol.iterator]=function(){var i=this;return{next:function(){var c=i.getToken();return{done:c.type===A.eof,value:c}}}}),rt.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(A.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())},rt.readToken=function(i){return le(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)},rt.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var c=this.input.charCodeAt(this.pos+1);return c<=56319||c>=57344?i:(i<<10)+c-56613888},rt.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),c=this.pos,I=this.input.indexOf("*/",this.pos+=2);if(I===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=I+2,this.options.locations)for(var V=void 0,W=c;(V=tt(this.input,W,this.pos))>-1;)++this.curLine,W=this.lineStart=V;this.options.onComment&&this.options.onComment(!0,this.input.slice(c+2,I),c,this.pos,i,this.curPosition())},rt.skipLineComment=function(i){for(var c=this.pos,I=this.options.onComment&&this.curPosition(),V=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!je(V);)V=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(c+i,this.pos),c,this.pos,I,this.curPosition())},rt.skipSpace=function(){e:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(i>8&&i<14||i>=5760&&Fe.test(String.fromCharCode(i)))++this.pos;else break e}}},rt.finishToken=function(i,c){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var I=this.type;this.type=i,this.value=c,this.updateContext(I)},rt.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var c=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&c===46?(this.pos+=3,this.finishToken(A.ellipsis)):(++this.pos,this.finishToken(A.dot))},rt.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(A.assign,2):this.finishOp(A.slash,1)},rt.readToken_mult_modulo_exp=function(i){var c=this.input.charCodeAt(this.pos+1),I=1,V=i===42?A.star:A.modulo;return this.options.ecmaVersion>=7&&i===42&&c===42&&(++I,V=A.starstar,c=this.input.charCodeAt(this.pos+2)),c===61?this.finishOp(A.assign,I+1):this.finishOp(V,I)},rt.readToken_pipe_amp=function(i){var c=this.input.charCodeAt(this.pos+1);if(c===i){if(this.options.ecmaVersion>=12){var I=this.input.charCodeAt(this.pos+2);if(I===61)return this.finishOp(A.assign,3)}return this.finishOp(i===124?A.logicalOR:A.logicalAND,2)}return c===61?this.finishOp(A.assign,2):this.finishOp(i===124?A.bitwiseOR:A.bitwiseAND,1)},rt.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(A.assign,2):this.finishOp(A.bitwiseXOR,1)},rt.readToken_plus_min=function(i){var c=this.input.charCodeAt(this.pos+1);return c===i?c===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||be.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(A.incDec,2):c===61?this.finishOp(A.assign,2):this.finishOp(A.plusMin,1)},rt.readToken_lt_gt=function(i){var c=this.input.charCodeAt(this.pos+1),I=1;return c===i?(I=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+I)===61?this.finishOp(A.assign,I+1):this.finishOp(A.bitShift,I)):c===33&&i===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(c===61&&(I=2),this.finishOp(A.relational,I))},rt.readToken_eq_excl=function(i){var c=this.input.charCodeAt(this.pos+1);return c===61?this.finishOp(A.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&c===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(A.arrow)):this.finishOp(i===61?A.eq:A.prefix,1)},rt.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var c=this.input.charCodeAt(this.pos+1);if(c===46){var I=this.input.charCodeAt(this.pos+2);if(I<48||I>57)return this.finishOp(A.questionDot,2)}if(c===63){if(i>=12){var V=this.input.charCodeAt(this.pos+2);if(V===61)return this.finishOp(A.assign,3)}return this.finishOp(A.coalesce,2)}}return this.finishOp(A.question,1)},rt.readToken_numberSign=function(){var i=this.options.ecmaVersion,c=35;if(i>=13&&(++this.pos,c=this.fullCharCodeAtPos(),le(c,!0)||c===92))return this.finishToken(A.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ft(c)+"'")},rt.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(A.parenL);case 41:return++this.pos,this.finishToken(A.parenR);case 59:return++this.pos,this.finishToken(A.semi);case 44:return++this.pos,this.finishToken(A.comma);case 91:return++this.pos,this.finishToken(A.bracketL);case 93:return++this.pos,this.finishToken(A.bracketR);case 123:return++this.pos,this.finishToken(A.braceL);case 125:return++this.pos,this.finishToken(A.braceR);case 58:return++this.pos,this.finishToken(A.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(A.backQuote);case 48:var c=this.input.charCodeAt(this.pos+1);if(c===120||c===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(c===111||c===79)return this.readRadixNumber(8);if(c===98||c===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(A.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ft(i)+"'")},rt.finishOp=function(i,c){var I=this.input.slice(this.pos,this.pos+c);return this.pos+=c,this.finishToken(i,I)},rt.readRegexp=function(){for(var i,c,I=this.pos;;){this.pos>=this.input.length&&this.raise(I,"Unterminated regular expression");var V=this.input.charAt(this.pos);if(be.test(V)&&this.raise(I,"Unterminated regular expression"),i)i=!1;else{if(V==="[")c=!0;else if(V==="]"&&c)c=!1;else if(V==="/"&&!c)break;i=V==="\\"}++this.pos}var W=this.input.slice(I,this.pos);++this.pos;var se=this.pos,oe=this.readWord1();this.containsEsc&&this.unexpected(se);var Se=this.regexpState||(this.regexpState=new bt(this));Se.reset(I,W,oe),this.validateRegExpFlags(Se),this.validateRegExpPattern(Se);var Te=null;try{Te=new RegExp(W,oe)}catch{}return this.finishToken(A.regexp,{pattern:W,flags:oe,value:Te})},rt.readInt=function(i,c,I){for(var V=this.options.ecmaVersion>=12&&c===void 0,W=I&&this.input.charCodeAt(this.pos)===48,se=this.pos,oe=0,Se=0,Te=0,it=c??1/0;Te<it;++Te,++this.pos){var st=this.input.charCodeAt(this.pos),Rt=void 0;if(V&&st===95){W&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Se===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Te===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Se=st;continue}if(st>=97?Rt=st-97+10:st>=65?Rt=st-65+10:st>=48&&st<=57?Rt=st-48:Rt=1/0,Rt>=i)break;Se=st,oe=oe*i+Rt}return V&&Se===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===se||c!=null&&this.pos-se!==c?null:oe};function Tn(i,c){return c?parseInt(i,8):parseFloat(i.replace(/_/g,""))}function Yi(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}rt.readRadixNumber=function(i){var c=this.pos;this.pos+=2;var I=this.readInt(i);return I==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(I=Yi(this.input.slice(c,this.pos)),++this.pos):le(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,I)},rt.readNumber=function(i){var c=this.pos;!i&&this.readInt(10,void 0,!0)===null&&this.raise(c,"Invalid number");var I=this.pos-c>=2&&this.input.charCodeAt(c)===48;I&&this.strict&&this.raise(c,"Invalid number");var V=this.input.charCodeAt(this.pos);if(!I&&!i&&this.options.ecmaVersion>=11&&V===110){var W=Yi(this.input.slice(c,this.pos));return++this.pos,le(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,W)}I&&/[89]/.test(this.input.slice(c,this.pos))&&(I=!1),V===46&&!I&&(++this.pos,this.readInt(10),V=this.input.charCodeAt(this.pos)),(V===69||V===101)&&!I&&(V=this.input.charCodeAt(++this.pos),(V===43||V===45)&&++this.pos,this.readInt(10)===null&&this.raise(c,"Invalid number")),le(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var se=Tn(this.input.slice(c,this.pos),I);return this.finishToken(A.num,se)},rt.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),c;if(i===123){this.options.ecmaVersion<6&&this.unexpected();var I=++this.pos;c=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,c>1114111&&this.invalidStringToken(I,"Code point out of bounds")}else c=this.readHexChar(4);return c},rt.readString=function(i){for(var c="",I=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var V=this.input.charCodeAt(this.pos);if(V===i)break;V===92?(c+=this.input.slice(I,this.pos),c+=this.readEscapedChar(!1),I=this.pos):V===8232||V===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(je(V)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return c+=this.input.slice(I,this.pos++),this.finishToken(A.string,c)};var Qi={};rt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===Qi)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1},rt.invalidStringToken=function(i,c){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Qi;this.raise(i,c)},rt.readTmplToken=function(){for(var i="",c=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var I=this.input.charCodeAt(this.pos);if(I===96||I===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===A.template||this.type===A.invalidTemplate)?I===36?(this.pos+=2,this.finishToken(A.dollarBraceL)):(++this.pos,this.finishToken(A.backQuote)):(i+=this.input.slice(c,this.pos),this.finishToken(A.template,i));if(I===92)i+=this.input.slice(c,this.pos),i+=this.readEscapedChar(!0),c=this.pos;else if(je(I)){switch(i+=this.input.slice(c,this.pos),++this.pos,I){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(I);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),c=this.pos}else++this.pos}},rt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(A.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},rt.readEscapedChar=function(i){var c=this.input.charCodeAt(++this.pos);switch(++this.pos,c){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ft(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var I=this.pos-1;this.invalidStringToken(I,"Invalid escape sequence in template string")}default:if(c>=48&&c<=55){var V=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],W=parseInt(V,8);return W>255&&(V=V.slice(0,-1),W=parseInt(V,8)),this.pos+=V.length-1,c=this.input.charCodeAt(this.pos),(V!=="0"||c===56||c===57)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-V.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(W)}return je(c)?"":String.fromCharCode(c)}},rt.readHexChar=function(i){var c=this.pos,I=this.readInt(16,i);return I===null&&this.invalidStringToken(c,"Bad character escape sequence"),I},rt.readWord1=function(){this.containsEsc=!1;for(var i="",c=!0,I=this.pos,V=this.options.ecmaVersion>=6;this.pos<this.input.length;){var W=this.fullCharCodeAtPos();if(J(W,V))this.pos+=W<=65535?1:2;else if(W===92){this.containsEsc=!0,i+=this.input.slice(I,this.pos);var se=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var oe=this.readCodePoint();(c?le:J)(oe,V)||this.invalidStringToken(se,"Invalid Unicode escape"),i+=ft(oe),I=this.pos}else break;c=!1}return i+this.input.slice(I,this.pos)},rt.readWord=function(){var i=this.readWord1(),c=A.name;return this.keywords.test(i)&&(c=Ve[i]),this.finishToken(c,i)};var Ci="8.11.2";e.acorn={Parser:e,version:Ci,defaultOptions:St,Position:ni,SourceLocation:xt,getLineInfo:Wi,Node:F,TokenType:re,tokTypes:A,keywordTypes:Ve,TokContext:E,tokContexts:M,isIdentifierChar:J,isIdentifierStart:le,Token:Xi,isNewLine:je,lineBreak:be,lineBreakG:Re,nonASCIIwhitespace:Fe};function ki(i,c){return e.parse(i,c)}function ci(i,c,I){return e.parseExpressionAt(i,c,I)}function fi(i,c){return e.tokenizer(i,c)}u.Node=F,u.Parser=e,u.Position=ni,u.SourceLocation=xt,u.TokContext=E,u.Token=Xi,u.TokenType=re,u.defaultOptions=St,u.getLineInfo=Wi,u.isIdentifierChar=J,u.isIdentifierStart=le,u.isNewLine=je,u.keywordTypes=Ve,u.lineBreak=be,u.lineBreakG=Re,u.nonASCIIwhitespace=Fe,u.parse=ki,u.parseExpressionAt=ci,u.tokContexts=M,u.tokTypes=A,u.tokenizer=fi,u.version=Ci})}(Jn,Jn.exports)),Jn.exports}/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(a){(function(r,u){r=r||As;var l=r.window,d=r.document,h=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],n=t.slice,s=Object.create,o=Object.getOwnPropertyDescriptor,f=Object.defineProperty,g=t.forEach||function(w,y){for(var L=0,E=this.length;L<E;L++)w.call(y,this[L],L,this)},p=function(w,y){for(var L in this)this.hasOwnProperty(L)&&w.call(y,this[L],L,this)},_=Object.assign||function(w){for(var y=1,L=arguments.length;y<L;y++){var E=arguments[y];for(var M in E)E.hasOwnProperty(M)&&(w[M]=E[M])}return w},v=function(w,y,L){if(w){var E=o(w,"length");(E&&typeof E.value=="number"?g:p).call(w,y,L=L||w)}return L};function x(w,y,L,E,M){var C={};function P(O,F){F=F||(F=o(y,O))&&(F.get?F:F.value),typeof F=="string"&&F[0]==="#"&&(F=w[F.substring(1)]||F);var U=typeof F=="function",G=F,Y=M||U&&!F.base?F&&F.get?O in w:w[O]:null,j;(!M||!Y)&&(U&&Y&&(F.base=Y),U&&E!==!1&&(j=O.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(C[j[3].toLowerCase()+j[4]]=j[2]),(!G||U||!G.get||typeof G.get!="function"||!k.isPlainObject(G))&&(G={value:G,writable:!0}),(o(w,O)||{configurable:!0}).configurable&&(G.configurable=!0,G.enumerable=L??!j),f(w,O,G))}if(y){for(var b in y)y.hasOwnProperty(b)&&!e.test(b)&&P(b);for(var b in C){var T=C[b],R=w["set"+T],B=w["get"+T]||R&&w["is"+T];B&&(E===!0||B.length===0)&&P(b,{get:B,set:R})}}return w}function k(){for(var w=0,y=arguments.length;w<y;w++){var L=arguments[w];L&&_(this,L)}return this}return x(k,{inject:function(w){if(w){var y=w.statics===!0?w:w.statics,L=w.beans,E=w.preserve;y!==w&&x(this.prototype,w,w.enumerable,L,E),x(this,y,null,L,E)}for(var M=1,C=arguments.length;M<C;M++)this.inject(arguments[M]);return this},extend:function(){for(var w=this,y,L,E=0,M,C=arguments.length;E<C&&!(y&&L);E++)M=arguments[E],y=y||M.initialize,L=L||M.prototype;return y=y||function(){w.apply(this,arguments)},L=y.prototype=L||s(this.prototype),f(L,"constructor",{value:y,writable:!0,configurable:!0}),x(y,this),arguments.length&&this.inject.apply(y,arguments),y.base=w,y}}).inject({enumerable:!1,initialize:k,set:k,inject:function(){for(var w=0,y=arguments.length;w<y;w++){var L=arguments[w];L&&x(this,L,L.enumerable,L.beans,L.preserve)}return this},extend:function(){var w=s(this);return w.inject.apply(w,arguments)},each:function(w,y){return v(this,w,y)},clone:function(){return new this.constructor(this)},statics:{set:_,each:v,create:s,define:f,describe:o,clone:function(w){return _(new w.constructor,w)},isPlainObject:function(w){var y=w!=null&&w.constructor;return y&&(y===Object||y===k||y.name==="Object")},pick:function(w,y){return w!==u?w:y},slice:function(w,y,L){return n.call(w,y,L)}}})};a.exports=h,h.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+h.each(this,function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+": "+(n==="number"?H.instance.number(e):n==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return h.importJSON(e,this)},exportJSON:function(e){return h.exportJSON(this,e)},toJSON:function(){return h.serialize(this)},set:function(e,t){return e&&h.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),n=t.prototype._class;return n&&!h.exports[n]&&(h.exports[n]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var n=e.length;if(n!==t.length)return!1;for(;n--;)if(!h.equals(e[n],t[n]))return!1}else{var s=Object.keys(e),n=s.length;if(n!==Object.keys(t).length)return!1;for(;n--;){var o=s[n];if(!(t.hasOwnProperty(o)&&h.equals(e[o],t[o])))return!1}}return!0}return!1},read:function(e,t,n,s){if(this===h){var o=this.peek(e,t);return e.__index++,o}var f=this.prototype,g=f._readIndex,p=t||g&&e.__index||0,_=e.length,v=e[p];if(s=s||_-p,v instanceof this||n&&n.readNull&&v==null&&s<=1)return g&&(e.__index=p+1),v&&n&&n.clone?v.clone():v;if(v=h.create(f),g&&(v.__read=!0),v=v.initialize.apply(v,p>0||p+s<_?h.slice(e,p,p+s):e)||v,g){e.__index=p+v.__read;var x=v.__filtered;x&&(e.__filtered=x,v.__filtered=u),v.__read=u}return v},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,n,s){for(var o=[],f,g=t||0,p=s?g+s:e.length,_=g;_<p;_++)o.push(Array.isArray(f=e[_])?this.read(f,0,n):this.read(e,_,n,1));return o},readNamed:function(e,t,n,s,o){var f=this.getNamed(e,t),g=f!==u;if(g){var p=e.__filtered;if(!p){var _=this.getSource(e);p=e.__filtered=h.create(_),p.__unfiltered=_}p[t]=u}return this.read(g?[f]:e,n,s,o)},readSupported:function(e,t){var n=this.getSource(e),s=this,o=!1;return n&&Object.keys(n).forEach(function(f){if(f in t){var g=s.readNamed(e,f);g!==u&&(t[f]=g),o=!0}}),o},getSource:function(e){var t=e.__source;if(t===u){var n=e.length===1&&e[0];t=e.__source=n&&h.isPlainObject(n)?n:null}return t},getNamed:function(e,t){var n=this.getSource(e);if(n)return t?n[t]:e.__filtered||n},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,n,s){var o;function f(x){if(!(n&&x in n)&&!(o&&x in o)){var k=t[x];k!==u&&(e[x]=k)}}if(s){for(var g={},p=0,_,v=s.length;p<v;p++)(_=s[p])in t&&(f(_),g[_]=!0);o=g}return Object.keys(t.__unfiltered||t).forEach(f),e},isPlainValue:function(e,t){return h.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,n,s){t=t||{};var o=!s,f;if(o&&(t.formatter=new H(t.precision),s={length:0,definitions:{},references:{},add:function(k,w){var y="#"+k._id,L=this.references[y];if(!L){this.length++;var E=w.call(k),M=k._class;M&&E[0]!==M&&E.unshift(M),this.definitions[y]=E,L=this.references[y]=[y]}return L}}),e&&e._serialize){f=e._serialize(t,s);var g=e._class;g&&!e._compactSerialize&&(o||!n)&&f[0]!==g&&f.unshift(g)}else if(Array.isArray(e)){f=[];for(var p=0,_=e.length;p<_;p++)f[p]=h.serialize(e[p],t,n,s)}else if(h.isPlainObject(e)){f={};for(var v=Object.keys(e),p=0,_=v.length;p<_;p++){var x=v[p];f[x]=h.serialize(e[x],t,n,s)}}else typeof e=="number"?f=t.formatter.number(e,t.precision):f=e;return o&&s.length>0?[["dictionary",s.definitions],f]:f},deserialize:function(e,t,n,s,o){var f=e,g=!n,p=g&&e&&e.length&&e[0][0]==="dictionary";if(n=n||{},Array.isArray(e)){var _=e[0],v=_==="dictionary";if(e.length==1&&/^#/.test(_))return n.dictionary[_];_=h.exports[_],f=[];for(var x=_?1:0,k=e.length;x<k;x++)f.push(h.deserialize(e[x],t,n,v,p));if(_){var w=f;t?f=t(_,w,g||o):f=new _(w)}}else if(h.isPlainObject(e)){f={},s&&(n.dictionary=f);for(var y in e)f[y]=h.deserialize(e[y],t,n)}return p?f[1]:f},exportJSON:function(e,t){var n=h.serialize(e,t);return t&&t.asString==!1?n:JSON.stringify(n)},importJSON:function(e,t){return h.deserialize(typeof e=="string"?JSON.parse(e):e,function(n,s,o){var f=o&&t&&t.constructor===n,g=f?t:h.create(n.prototype);if(s.length===1&&g instanceof A&&(f||!(g instanceof Re))){var p=s[0];h.isPlainObject(p)&&(p.insert=!1,f&&(s=s.concat([A.INSERT])))}return(f?g.set:n).apply(g,s),f&&(t=null),g})},push:function(e,t){var n=t.length;if(n<4096)e.push.apply(e,t);else{var s=e.length;e.length+=n;for(var o=0;o<n;o++)e[s+o]=t[o]}return e},splice:function(e,t,n,s){var o=t&&t.length,f=n===u;n=f?e.length:n,n>e.length&&(n=e.length);for(var g=0;g<o;g++)t[g]._index=n+g;if(f)return h.push(e,t),[];var p=[n,s];t&&h.push(p,t);for(var _=e.splice.apply(e,p),g=0,v=_.length;g<v;g++)_[g]._index=u;for(var g=n+o,v=e.length;g<v;g++)e[g]._index=g;return _},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var m={on:function(e,t){if(typeof e!="string")h.each(e,function(f,g){this.on(g,f)},this);else{var n=this._eventTypes,s=n&&n[e],o=this._callbacks=this._callbacks||{};o=o[e]=o[e]||[],o.indexOf(t)===-1&&(o.push(t),s&&s.install&&o.length===1&&s.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){h.each(e,function(g,p){this.off(p,g)},this);return}var n=this._eventTypes,s=n&&n[e],o=this._callbacks&&this._callbacks[e],f;return o&&(!t||(f=o.indexOf(t))!==-1&&o.length===1?(s&&s.uninstall&&s.uninstall.call(this,e),delete this._callbacks[e]):f!==-1&&o.splice(f,1)),this},once:function(e,t){return this.on(e,function n(){t.apply(this,arguments),this.off(e,n)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var s=h.slice(arguments,1),o=t&&t.target&&!t.currentTarget;n=n.slice(),o&&(t.currentTarget=this);for(var f=0,g=n.length;f<g;f++)if(n[f].apply(this,s)==!1){t&&t.stop&&t.stop();break}return o&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,n=this._callbacks,s=e?"install":"uninstall";if(t){for(var o in n)if(n[o].length>0){var f=t[o],g=f&&f[s];g&&g.call(this,o)}}},statics:{inject:function e(t){var n=t._events;if(n){var s={};h.each(n,function(o,f){var g=typeof o=="string",p=g?o:f,_=h.capitalize(p),v=p.substring(2).toLowerCase();s[v]=g?{}:o,p="_"+p,t["get"+_]=function(){return this[p]},t["set"+_]=function(x){var k=this[p];k&&this.off(v,k),x&&this.on(v,x),this[p]=x}}),t._eventTypes=s}return e.base.apply(this,arguments)}}},S=h.extend({_class:"PaperScope",initialize:function e(){nt=this,this.settings=new h({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var n=Nt.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:oi.nativeModes},Nt.release(n)}if(!this.agent){var s=r.navigator.userAgent.toLowerCase(),o=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(s)||[])[0],f=o==="darwin"?"mac":o,g=t.agent=t.browser={platform:f};f&&(g[f]=!0),s.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(p,_,v,x,k){if(!g.chrome){var w=_==="opera"?x:/^(node|trident)$/.test(_)?k:v;g.version=w,g.versionNumber=parseFloat(w),_={trident:"msie",jsdom:"node"}[_]||_,g.name=_,g[_]=!0}}),g.chrome&&delete g.webkit,g.atom&&delete g.chrome}},version:"0.12.17",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var n=nt.PaperScript.execute(e,this,t);return vt.updateFocus(),n},install:function(e){var t=this;h.each(["project","view","tool"],function(s){h.define(e,s,{configurable:!0,get:function(){return t[s]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return nt=this,this.project=new fe(e),this},createCanvas:function(e,t){return Nt.getCanvas(e,t)},activate:function(){nt=this},clear:function(){for(var e=this.projects,t=this.tools,n=e.length-1;n>=0;n--)e[n].remove();for(var n=t.length-1;n>=0;n--)t[n].remove()},remove:function(){this.clear(),delete S._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(n,s){return n[t](s)||n[t]("data-paper-"+s)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),N=h.extend(m,{initialize:function(e){this._scope=nt,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(h.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),z={findItemBoundsCollisions:function(e,t,n){function s(g){for(var p=new Array(g.length),_=0;_<g.length;_++){var v=g[_].getBounds();p[_]=[v.left,v.top,v.right,v.bottom]}return p}var o=s(e),f=!t||t===e?o:s(t);return this.findBoundsCollisions(o,f,n||0)},findCurveBoundsCollisions:function(e,t,n,s){function o(w){for(var y=Math.min,L=Math.max,E=new Array(w.length),M=0;M<w.length;M++){var C=w[M];E[M]=[y(C[0],C[2],C[4],C[6]),y(C[1],C[3],C[5],C[7]),L(C[0],C[2],C[4],C[6]),L(C[1],C[3],C[5],C[7])]}return E}var f=o(e),g=!t||t===e?f:o(t);if(s){for(var p=this.findBoundsCollisions(f,g,n||0,!1,!0),_=this.findBoundsCollisions(f,g,n||0,!0,!0),v=[],x=0,k=p.length;x<k;x++)v[x]={hor:p[x],ver:_[x]};return v}return this.findBoundsCollisions(f,g,n||0)},findBoundsCollisions:function(e,t,n,s,o){var f=!t||e===t,g=f?e:e.concat(t),p=e.length,_=g.length;function v(xe,ke,Ne){for(var pe=0,_e=xe.length;pe<_e;){var Ie=_e+pe>>>1;g[xe[Ie]][ke]<Ne?pe=Ie+1:_e=Ie}return pe-1}for(var x=s?1:0,k=x+2,w=s?0:1,y=w+2,L=new Array(_),E=0;E<_;E++)L[E]=E;L.sort(function(xe,ke){return g[xe][x]-g[ke][x]});for(var M=[],C=new Array(p),E=0;E<_;E++){var P=L[E],b=g[P],T=f?P:P-p,R=P<p,B=f||!R,O=R?[]:null;if(M.length){var F=v(M,k,b[x]-n)+1;if(M.splice(0,F),f&&o){O=O.concat(M);for(var U=0;U<M.length;U++){var G=M[U];C[G].push(T)}}else for(var Y=b[y],j=b[w],U=0;U<M.length;U++){var G=M[U],X=g[G],Q=G<p,ie=f||G>=p;(o||(R&&ie||B&&Q)&&Y>=X[w]-n&&j<=X[y]+n)&&(R&&ie&&O.push(f?G:G-p),B&&Q&&C[G].push(T))}}if(R&&(e===t&&O.push(P),C[P]=O),M.length){var ne=b[k],ue=v(M,k,ne);M.splice(ue+1,0,P)}else M.push(P)}for(var E=0;E<C.length;E++){var ye=C[E];ye&&ye.sort(function(ke,Ne){return ke-Ne})}return C}},H=h.extend({initialize:function(e){this.precision=h.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});H.instance=new H;var D=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,s=Math.sqrt,o=Math.pow,f=Math.log2||function(k){return Math.log(k)*Math.LOG2E},g=1e-12,p=112e-18;function _(k,w,y){return k<w?w:k>y?y:k}function v(k,w,y){function L(F){var U=F*134217729,G=F-U,Y=G+U,j=F-Y;return[Y,j]}var E=w*w-k*y,M=w*w+k*y;if(n(E)*3<M){var C=L(k),P=L(w),b=L(y),T=w*w,R=P[0]*P[0]-T+2*P[0]*P[1]+P[1]*P[1],B=k*y,O=C[0]*b[0]-B+C[0]*b[1]+C[1]*b[0]+C[1]*b[1];E=T-B+(R-O)}return E}function x(){var k=Math.max.apply(Math,arguments);return k&&(k<1e-8||k>1e8)?o(2,-Math.round(f(k))):0}return{EPSILON:g,MACHINE_EPSILON:p,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(s(2)-1)/3,isZero:function(k){return k>=-g&&k<=g},isMachineZero:function(k){return k>=-p&&k<=p},clamp:_,integrate:function(k,w,y,L){for(var E=e[L-2],M=t[L-2],C=(y-w)*.5,P=C+w,b=0,T=L+1>>1,R=L&1?M[b++]*k(P):0;b<T;){var B=C*E[b];R+=M[b++]*(k(P+B)+k(P-B))}return C*R},findRoot:function(k,w,y,L,E,M,C){for(var P=0;P<M;P++){var b=k(y),T=b/w(y),R=y-T;if(n(T)<C){y=R;break}b>0?(E=y,y=R<=L?(L+E)*.5:R):(L=y,y=R>=E?(L+E)*.5:R)}return _(y,L,E)},solveQuadratic:function(k,w,y,L,E,M){var C,P=1/0;if(n(k)<g){if(n(w)<g)return n(y)<g?-1:0;C=-y/w}else{w*=-.5;var b=v(k,w,y);if(b&&n(b)<p){var T=x(n(k),n(w),n(y));T&&(k*=T,w*=T,y*=T,b=v(k,w,y))}if(b>=-p){var R=b<0?0:s(b),B=w+(w<0?-R:R);B===0?(C=y/k,P=-C):(C=B/k,P=y/B)}}var O=0,F=E==null,U=E-g,G=M+g;return isFinite(C)&&(F||C>U&&C<G)&&(L[O++]=F?C:_(C,E,M)),P!==C&&isFinite(P)&&(F||P>U&&P<G)&&(L[O++]=F?P:_(P,E,M)),O},solveCubic:function(k,w,y,L,E,M,C){var P=x(n(k),n(w),n(y),n(L)),b,T,R,B,O;P&&(k*=P,w*=P,y*=P,L*=P);function F(ue){b=ue;var ye=k*b;T=ye+w,R=T*b+y,B=(ye+T)*b+R,O=R*b+L}if(n(k)<g)k=w,T=y,R=L,b=1/0;else if(n(L)<g)T=w,R=y,b=0;else{F(-(w/k)/3);var U=O/k,G=o(n(U),1/3),Y=U<0?-1:1,j=-B/k,X=j>0?1.324717957244746*Math.max(G,s(j)):G,Q=b-Y*X;if(Q!==b){do F(Q),Q=B===0?b:b-O/B/(1+p);while(Y*Q>Y*b);n(k)*b*b>n(L/b)&&(R=-L/b,T=(R-y)/b)}}var ie=D.solveQuadratic(k,T,R,E,M,C),ne=M==null;return isFinite(b)&&(ie===0||ie>0&&b!==E[0]&&b!==E[1])&&(ne||b>M-g&&b<C+g)&&(E[ie++]=ne?b:_(b,M,C)),ie}}},K={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},q=h.extend({_class:"Point",_readIndex:!0,initialize:function(t,n){var s=typeof t,o=this.__read,f=0;if(s==="number"){var g=typeof n=="number";this._set(t,g?n:t),o&&(f=g?2:1)}else if(s==="undefined"||t===null)this._set(0,0),o&&(f=t===null?1:0);else{var p=s==="string"?t.split(/[\s,]+/)||[]:t;f=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"x"in p?this._set(p.x||0,p.y||0):"width"in p?this._set(p.width||0,p.height||0):"angle"in p?(this._set(p.length||0,0),this.setAngle(p.angle||0)):(this._set(0,0),f=0)}return o&&(this.__read=f),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new q(this.x,this.y)},toString:function(){var e=H.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();D.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=q.read(arguments),t=this.getLength()*e.getLength();if(D.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(n<-1?-1:n>1?1:n)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=q.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=q.read(e),n=t.x-this.x,s=t.y-this.y,o=n*n+s*s,f=h.read(e);return f?o:Math.sqrt(o)},normalize:function(e){e===u&&(e=1);var t=this.getLength(),n=t!==0?e/t:0,s=new q(this.x*n,this.y*n);return n>=0&&(s._angle=this._angle),s},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,s=Math.sin(e),o=Math.cos(e);return n=new q(n.x*o-n.y*s,n.x*s+n.y*o),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=q.read(arguments);return new q(this.x+e.x,this.y+e.y)},subtract:function(){var e=q.read(arguments);return new q(this.x-e.x,this.y-e.y)},multiply:function(){var e=q.read(arguments);return new q(this.x*e.x,this.y*e.y)},divide:function(){var e=q.read(arguments);return new q(this.x/e.x,this.y/e.y)},modulo:function(){var e=q.read(arguments);return new q(this.x%e.x,this.y%e.y)},negate:function(){return new q(-this.x,-this.y)},isInside:function(){return te.read(arguments).contains(this)},isClose:function(){var e=arguments,t=q.read(e),n=h.read(e);return this.getDistance(t)<=n},isCollinear:function(){var e=q.read(arguments);return q.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=q.read(arguments);return q.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=D.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=q.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=q.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=q.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new q(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=q.read(e),n=q.read(e);return new q(Math.min(t.x,n.x),Math.min(t.y,n.y))},max:function(){var e=arguments,t=q.read(e),n=q.read(e);return new q(Math.max(t.x,n.x),Math.max(t.y,n.y))},random:function(){return new q(Math.random(),Math.random())},isCollinear:function(e,t,n,s){return Math.abs(e*s-t*n)<=Math.sqrt((e*e+t*t)*(n*n+s*s))*1e-8},isOrthogonal:function(e,t,n,s){return Math.abs(e*n+t*s)<=Math.sqrt((e*e+t*t)*(n*n+s*s))*1e-8}}},h.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new q(t(this.x),t(this.y))}},{})),le=q.extend({initialize:function(t,n,s,o){this._x=t,this._y=n,this._owner=s,this._setter=o},_set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),J=h.extend({_class:"Size",_readIndex:!0,initialize:function(t,n){var s=typeof t,o=this.__read,f=0;if(s==="number"){var g=typeof n=="number";this._set(t,g?n:t),o&&(f=g?2:1)}else if(s==="undefined"||t===null)this._set(0,0),o&&(f=t===null?1:0);else{var p=s==="string"?t.split(/[\s,]+/)||[]:t;f=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"width"in p?this._set(p.width||0,p.height||0):"x"in p?this._set(p.x||0,p.y||0):(this._set(0,0),f=0)}return o&&(this.__read=f),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new J(this.width,this.height)},toString:function(){var e=H.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=J.read(arguments);return new J(this.width+e.width,this.height+e.height)},subtract:function(){var e=J.read(arguments);return new J(this.width-e.width,this.height-e.height)},multiply:function(){var e=J.read(arguments);return new J(this.width*e.width,this.height*e.height)},divide:function(){var e=J.read(arguments);return new J(this.width/e.width,this.height/e.height)},modulo:function(){var e=J.read(arguments);return new J(this.width%e.width,this.height%e.height)},negate:function(){return new J(-this.width,-this.height)},isZero:function(){var e=D.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new J(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new J(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new J(Math.random(),Math.random())}}},h.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new J(t(this.width),t(this.height))}},{})),re=J.extend({initialize:function(t,n,s,o){this._width=t,this._height=n,this._owner=s,this._setter=o},_set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),te=h.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,n,s,o){var f=arguments,g=typeof t,p;if(g==="number"?(this._set(t,n,s,o),p=4):g==="undefined"||t===null?(this._set(0,0,0,0),p=t===null?1:0):f.length===1&&(Array.isArray(t)?(this._set.apply(this,t),p=1):t.x!==u||t.width!==u?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),p=1):t.from===u&&t.to===u&&(this._set(0,0,0,0),h.readSupported(f,this)&&(p=1))),p===u){var _=q.readNamed(f,"from"),v=h.peek(f),x=_.x,k=_.y,w,y;if(v&&v.x!==u||h.hasNamed(f,"to")){var L=q.readNamed(f,"to");w=L.x-x,y=L.y-k,w<0&&(x=L.x,w=-w),y<0&&(k=L.y,y=-y)}else{var E=J.read(f);w=E.width,y=E.height}this._set(x,k,w,y),p=f.__index}var M=f.__filtered;return M&&(this.__filtered=M),this.__read&&(this.__read=p),this},set:"#initialize",_set:function(e,t,n,s){return this.x=e,this.y=t,this.width=n,this.height=s,this},clone:function(){return new te(this.x,this.y,this.width,this.height)},equals:function(e){var t=h.isPlainValue(e)?te.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=H.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?q:le;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=q.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?J:re;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=J.read(arguments),t=this._sx,n=this._sy,s=e.width,o=e.height;t&&(this.x+=(this.width-s)*t),n&&(this.y+=(this.height-o)*n),this.width=s,this.height=o,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?q:le;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=q.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==u||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(te.read(arguments)):this._containsPoint(q.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=te.read(arguments),t=h.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=te.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),s=Math.min(this.x+this.width,e.x+e.width),o=Math.min(this.y+this.height,e.y+e.height);return new te(t,n,s-t,o-n)},unite:function(){var e=te.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),s=Math.max(this.x+this.width,e.x+e.width),o=Math.max(this.y+this.height,e.y+e.height);return new te(t,n,s-t,o-n)},include:function(){var e=q.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),s=Math.max(this.x+this.width,e.x),o=Math.max(this.y+this.height,e.y);return new te(t,n,s-t,o-n)},expand:function(){var e=J.read(arguments),t=e.width,n=e.height;return new te(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===u?e:t)-this.height)}},h.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var n=e.join(""),s=/^[RL]/.test(n);t>=4&&(e[1]+=s?"Y":"X");var o=e[s?0:1],f=e[s?1:0],g="get"+o,p="get"+f,_="set"+o,v="set"+f,x="get"+n,k="set"+n;this[x]=function(w){var y=w?q:le;return new y(this[g](),this[p](),this,k)},this[k]=function(){var w=q.read(arguments);this[_](w.x),this[v](w.y)}},{beans:!0})),ce=te.extend({initialize:function(t,n,s,o,f,g){this._set(t,n,s,o,!0),this._owner=f,this._setter=g},_set:function(e,t,n,s,o){return this._x=e,this._y=t,this._width=n,this._height=s,o||this._owner[this._setter](this),this}},new function(){var e=te.prototype;return h.each(["x","y","width","height"],function(t){var n=h.capitalize(t),s="_"+t;this["get"+n]=function(){return this[s]},this["set"+n]=function(o){this[s]=o,this._dontNotify||this._owner[this._setter](this)}},h.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var n=this._owner;n._changeSelection&&n._changeSelection(2,t)}}))}),ge=h.extend({_class:"Matrix",initialize:function e(t,n){var s=arguments,o=s.length,f=!0;if(o>=6?this._set.apply(this,s):o===1||o===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,n):Array.isArray(t)?this._set.apply(this,n?t.concat([n]):t):f=!1:o?f=!1:this.reset(),!f)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,n,s,o,f,g){return this._a=e,this._b=t,this._c=n,this._d=s,this._tx=o,this._ty=f,g||this._changed(),this},_serialize:function(e,t){return h.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new ge(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=H.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return n?(n.transform(null,h.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=q.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._c,this._ty+=t*this._b+n*this._d,this._changed(),this},scale:function(){var e=arguments,t=q.read(e),n=q.read(e,0,{readNull:!0});return n&&this.translate(n),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=q.read(arguments,1),n=t.x,s=t.y,o=Math.cos(e),f=Math.sin(e),g=n-n*o+s*f,p=s-n*f-s*o,_=this._a,v=this._b,x=this._c,k=this._d;return this._a=o*_+f*x,this._b=o*v+f*k,this._c=-f*_+o*x,this._d=-f*v+o*k,this._tx+=g*_+p*x,this._ty+=g*v+p*k,this._changed(),this},shear:function(){var e=arguments,t=q.read(e),n=q.read(e,0,{readNull:!0});n&&this.translate(n);var s=this._a,o=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*s,this._d+=t.x*o,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var e=arguments,t=q.read(e),n=q.read(e,0,{readNull:!0}),s=Math.PI/180,o=new q(Math.tan(t.x*s),Math.tan(t.y*s));return this.shear(o,n)},append:function(e,t){if(e){var n=this._a,s=this._b,o=this._c,f=this._d,g=e._a,p=e._c,_=e._b,v=e._d,x=e._tx,k=e._ty;this._a=g*n+_*o,this._c=p*n+v*o,this._b=g*s+_*f,this._d=p*s+v*f,this._tx+=x*n+k*o,this._ty+=x*s+k*f,t||this._changed()}return this},prepend:function(e,t){if(e){var n=this._a,s=this._b,o=this._c,f=this._d,g=this._tx,p=this._ty,_=e._a,v=e._c,x=e._b,k=e._d,w=e._tx,y=e._ty;this._a=_*n+v*s,this._c=_*o+v*f,this._b=x*n+k*s,this._d=x*o+k*f,this._tx=_*g+v*p+w,this._ty=x*g+k*p+y,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,n=this._c,s=this._d,o=this._tx,f=this._ty,g=e*s-t*n,p=null;return g&&!isNaN(g)&&isFinite(o)&&isFinite(f)&&(this._a=s/g,this._b=-t/g,this._c=-n/g,this._d=e/g,this._tx=(n*f-s*o)/g,this._ty=(t*o-e*f)/g,p=this),p},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new ge(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(q.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var s=e.x,o=e.y;return t||(t=new q),t._set(s*this._a+o*this._c+this._tx,s*this._b+o*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var s=0,o=2*n;s<o;s+=2){var f=e[s],g=e[s+1];t[s]=f*this._a+g*this._c+this._tx,t[s+1]=f*this._b+g*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,s=t+e.width,o=n+e.height,f=[t,n,s,n,s,o,t,o];return this._transformCoordinates(f,f,4)},_transformBounds:function(e,t,n){for(var s=this._transformCorners(e),o=s.slice(0,2),f=o.slice(),g=2;g<8;g++){var p=s[g],_=g&1;p<o[_]?o[_]=p:p>f[_]&&(f[_]=p)}return t||(t=new te),t._set(o[0],o[1],f[0]-o[0],f[1]-o[1],n)},inverseTransform:function(){return this._inverseTransform(q.read(arguments))},_inverseTransform:function(e,t,n){var s=this._a,o=this._b,f=this._c,g=this._d,p=this._tx,_=this._ty,v=s*g-o*f,x=null;if(v&&!isNaN(v)&&isFinite(p)&&isFinite(_)){var k=e.x-this._tx,w=e.y-this._ty;t||(t=new q),x=t._set((k*g-w*f)/v,(w*s-k*o)/v,n)}return x},decompose:function(){var e=this._a,t=this._b,n=this._c,s=this._d,o=e*s-t*n,f=Math.sqrt,g=Math.atan2,p=180/Math.PI,_,v,x;if(e!==0||t!==0){var k=f(e*e+t*t);_=Math.acos(e/k)*(t>0?1:-1),v=[k,o/k],x=[g(e*n+t*s,k*k),0]}else if(n!==0||s!==0){var w=f(n*n+s*s);_=Math.asin(n/w)*(s>0?1:-1),v=[o/w,w],x=[0,g(e*n+t*s,w*w)]}else _=0,x=v=[0,0];return{translation:this.getTranslation(),rotation:_*p,scaling:new q(v),skewing:new q(x[0]*p,x[1]*p)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new q(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},h.each(["a","b","c","d","tx","ty"],function(e){var t=h.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(s){this[n]=s,this._changed()}},{})),Ve=h.extend({_class:"Line",initialize:function(t,n,s,o,f){var g=!1;arguments.length>=4?(this._px=t,this._py=n,this._vx=s,this._vy=o,g=f):(this._px=t.x,this._py=t.y,this._vx=n.x,this._vy=n.y,g=s),g||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new q(this._px,this._py)},getVector:function(){return new q(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return Ve.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return Ve.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return Ve.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return q.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return q.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,s,o,f,g,p,_,v){_||(n-=e,s-=t,g-=o,p-=f);var x=n*p-s*g;if(!D.isMachineZero(x)){var k=e-o,w=t-f,y=(g*w-p*k)/x,L=(n*w-s*k)/x,E=1e-12,M=-E,C=1+E;if(v||M<y&&y<C&&M<L&&L<C)return v||(y=y<=0?0:y>=1?1:y),new q(e+y*n,t+y*s)}},getSide:function(e,t,n,s,o,f,g,p){g||(n-=e,s-=t);var _=o-e,v=f-t,x=_*s-v*n;return!p&&D.isMachineZero(x)&&(x=(_*n+_*n)/(n*n+s*s),x>=0&&x<=1&&(x=0)),x<0?-1:x>0?1:0},getSignedDistance:function(e,t,n,s,o,f,g){return g||(n-=e,s-=t),n===0?s>0?o-e:e-o:s===0?n<0?f-t:t-f:((o-e)*s-(f-t)*n)/(s>n?s*Math.sqrt(1+n*n/(s*s)):n*Math.sqrt(1+s*s/(n*n)))},getDistance:function(e,t,n,s,o,f,g){return Math.abs(Ve.getSignedDistance(e,t,n,s,o,f,g))}}}),fe=N.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){N.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ri(null,null,this),this._view=vt.create(this,t||Nt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return h.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var s=this._changes;if(s&&t){var o=this._changesById,f=t._id,g=o[f];g?g.flags|=e:s.push(o[f]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Re({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:Fe,match:function(n){var s=n._definition,o=s._id;return t[o]||(t[o]=!0,e.push(s)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var n in e){var s=e[n],o=s._selection;o&1&&s.isInserted()?t.push(s):o||this._updateSelection(s)}return t},_updateSelection:function(e){var t=e._id,n=this._selectionItems;e._selection?n[t]!==e&&(this._selectionCount++,n[t]=e):n[t]===e&&(this._selectionCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(u,e)},insertLayer:function(e,t){if(t instanceof Re){t._remove(!1,!0),h.splice(this._children,[t],e,0),t._setProject(this,!0);var n=t._name;n&&t.setName(n),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,n){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(u,new Re(A.NO_INSERT),!0)).insertChild(e,t),n&&t.activate&&t.activate(),t},getItems:function(e){return A._getItems(this,e)},getItem:function(e){return A._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return h.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var n=t[e];if(n){for(var s in n){var o=n[s];for(var f in t){var g=t[f];g&&g!=n&&delete g[o._id]}o.remove()}t[e]=null}}},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var s=this._children,o=new h({offset:new q(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new ge],updateMatrix:!0}),f=0,g=s.length;f<g;f++)s[f].draw(e,o);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var p=this._selectionItems,_=this._scope.settings.handleSize,v=this._updateVersion;for(var x in p)p[x]._drawSelection(e,t,_,p,v);e.restore()}}}),A=h.extend(m,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=h.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new ge,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return h.each(e,function(t){this._events[t]={install:function(n){this.getView()._countItemEvent(n,1)},uninstall:function(n){this.getView()._countItemEvent(n,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var n=e&&h.isPlainObject(e),s=n&&e.internal===!0,o=this._matrix=new ge,f=n&&e.project||nt.project,g=nt.settings;return this._id=s?null:K.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&g.applyMatrix,t&&o.translate(t),o._owner=this,this._style=new ri(f._currentStyle,this,f),s||n&&e.insert==!1||!g.insertItems&&!(n&&e.insert==!0)?this._setProject(f):(n&&e.parent||f)._insertItem(u,this,!0),n&&e!==A.NO_INSERT&&e!==A.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(e,t){var n={},s=this;function o(f){for(var g in f){var p=s[g];h.equals(p,g==="leading"?f.fontSize*1.2:f[g])||(n[g]=h.serialize(p,e,g!=="data",t))}}return o(this._serializeFields),this instanceof be||o(this._style._defaults),[this._class,n]},_changed:function(e){var t=this._symbol,n=this._parent||t,s=this._project;e&8&&(this._bounds=this._position=this._decomposed=u),e&16&&(this._globalMatrix=u),n&&e&72&&A._clearBoundsCache(n),e&2&&A._clearBoundsCache(this),s&&s._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var n=t._children,s=t._namedChildren;(s[e]=s[e]||[]).push(this),e in n||(n[e]=this)}this._name=e||u,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},h.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=h.capitalize(e),n="_"+e,s={locked:256,visible:265};this["get"+t]=function(){return this[n]},this["set"+t]=function(o){o!=this[n]&&(this[n]=o,this._changed(s[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,n=e.length;t<n;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,n=0,s=t.length;n<s;n++)t[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var n=0,s=e.length;n<s;n++)if(!e[n].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,s=t.length;n<s;n++)t[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?q:le,n=this._position||(this._position=this._getPositionFromBounds());return new t(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(q.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new le(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=q.read(arguments,0,{clone:!0,readNull:!0}),this._position=u}},h.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(n){return this.getBounds(n,e)}},{beans:!0,getBounds:function(e,t){var n=t||e instanceof ge,s=h.set({},n?t:e,this._boundsOptions);(!s.stroke||this.getStrokeScaling())&&(s.cacheItem=this);var o=this._getCachedBounds(n&&e,s).rect;return arguments.length?o:new ce(o.x,o.y,o.width,o.height,this,"setBounds")},setBounds:function(){var e=te.read(arguments),t=this.getBounds(),n=this._matrix,s=new ge,o=e.getCenter();s.translate(o),(e.width!=t.width||e.height!=t.height)&&(n.isInvertible()||(n.set(n._backup||new ge().translate(n.getTranslation())),t=this.getBounds()),s.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),o=t.getCenter(),s.translate(-o.x,-o.y),this.transform(s)},_getBounds:function(e,t){var n=this._children;return!n||!n.length?new te:(A._updateBoundsCache(this,t.cacheItem),A._getBounds(n,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,n){e=e&&e._orNullIfIdentity();var s=t.internal&&!n,o=t.cacheItem,f=s?null:this._matrix._orNullIfIdentity(),g=o&&(!e||e.equals(f))&&this._getBoundsCacheKey(t,s),p=this._bounds;if(A._updateBoundsCache(this._parent||this._symbol,o),g&&p&&g in p){var _=p[g];return{rect:_.rect.clone(),nonscaling:_.nonscaling}}var v=this._getBounds(e||f,t),x=v.rect||v,k=this._style,w=v.nonscaling||k.hasStroke()&&!k.getStrokeScaling();if(g){p||(this._bounds=p={});var _=p[g]={rect:x.clone(),nonscaling:w,internal:s}}return{rect:x,nonscaling:w}},_getStrokeMatrix:function(e,t){var n=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,s=n?n.getViewMatrix().invert():e;return s&&s._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var n=t._id,s=e._boundsCache=e._boundsCache||{ids:{},list:[]};s.ids[n]||(s.list.push(t),s.ids[n]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=u;for(var n=0,s=t.list,o=s.length;n<o;n++){var f=s[n];f!==e&&(f._bounds=f._position=u,f._boundsCache&&A._clearBoundsCache(f))}}},_getBounds:function(e,t,n){var s=1/0,o=-s,f=s,g=o,p=!1;n=n||{};for(var _=0,v=e.length;_<v;_++){var x=e[_];if(x._visible&&!x.isEmpty(!0)){var k=x._getCachedBounds(t&&t.appended(x._matrix),n,!0),w=k.rect;s=Math.min(w.x,s),f=Math.min(w.y,f),o=Math.max(w.x+w.width,o),g=Math.max(w.y+w.height,g),k.nonscaling&&(p=!0)}}return{rect:isFinite(s)?new te(s,f,o-s,g-f):new te,nonscaling:p}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var n=this._decomposed;this.rotate(e-t),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new le(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=q.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var n=this.getRotation(),s=this._decomposed,o=new ge,f=D.isZero;if(f(e.x)||f(e.y))o.translate(s.translation),n&&o.rotate(n),o.scale(t.x,t.y),this._matrix.set(o);else{var g=this.getPosition(!0);o.translate(g),n&&o.rotate(n),o.scale(t.x/e.x,t.y/e.y),n&&o.rotate(-n),o.translate(g.negate()),this.transform(o)}s&&(s.scaling=t,this._decomposed=s)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var n=this._parent,s=[];n;){if(!n._globalMatrix){t=null;for(var o=0,f=s.length;o<f;o++)s[o]._globalMatrix=null;break}s.push(n),n=n._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&t.prepend(n.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,s=0,o=n&&n.length;s<o;s++)n[s]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var n=this._children,s=0,o=n&&n.length;s<o;s++)n[s]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof Re)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return h.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(A.NO_INSERT),n=this._children,s=h.pick(e?e.insert:u,e===u||e===!0),o=h.pick(e?e.deep:u,!0);n&&t.copyAttributes(this),(!n||o)&&t.copyContent(this),n||t.copyAttributes(this),s&&t.insertAbove(this);var f=this._name,g=this._parent;if(f&&g){for(var n=g._children,p=f,_=1;n[f];)f=p+" "+_++;f!==p&&t.setName(f)}return t},copyContent:function(e){for(var t=e._children,n=0,s=t&&t.length;n<s;n++)this.addChild(t[n].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],s=0,o=n.length;s<o;s++){var f=n[s];e.hasOwnProperty(f)&&(this[f]=e[f])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var g=e._data,p=e._name;this._data=g?h.clone(g):null,p&&this.setName(p)},rasterize:function(e,t){var n,s,o;h.isPlainObject(e)?(n=e.resolution,s=e.insert,o=e.raster):(n=e,s=t),o||(o=new tt(A.NO_INSERT));var f=this.getStrokeBounds(),g=(n||this.getView().getResolution())/72,p=f.getTopLeft().floor(),_=f.getBottomRight().ceil(),v=new J(_.subtract(p)),x=v.multiply(g);if(o.setSize(x,!0),!x.isZero()){var k=o.getContext(!0),w=new ge().scale(g).translate(p.negate());k.save(),w.applyToContext(k),this.draw(k,new h({matrices:[w]})),k.restore()}return o._matrix.set(new ge().translate(p.add(v.divide(2))).scale(1/g)),(s===u||s)&&o.insertAbove(this),o},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(q.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return te.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new qe.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof A?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var s=arguments;return this._hitTest(q.read(s),Ce.getOptions(s))}function t(){var s=arguments,o=q.read(s),f=Ce.getOptions(s),g=[];return this._hitTest(o,new h({all:g},f)),g}function n(s,o,f,g){var p=this._children;if(p)for(var _=p.length-1;_>=0;_--){var v=p[_],x=v!==g&&v._hitTest(s,o,f);if(x&&!o.all)return x}return null}return fe.inject({hitTest:e,hitTestAll:t,_hitTest:n}),{hitTest:e,hitTestAll:t,_hitTestChildren:n}},{_hitTest:function(e,t,n){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var s=this._matrix,o=n?n.appended(s):this.getGlobalMatrix().prepend(this.getView()._matrix),f=Math.max(t.tolerance,1e-12),g=t._tolerancePadding=new J(qe._getStrokePadding(f,s._shiftless().invert()));if(e=s._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(g.multiply(2))._containsPoint(e))return null;var p=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==h.hyphenate(this._class)||t.class&&!(this instanceof t.class)),_=t.match,v=this,x,k;function w(b){return b&&_&&!_(b)&&(b=null),b&&t.all&&t.all.push(b),b}function y(b,T){var R=T?x["get"+T]():v.getPosition();if(e.subtract(R).divide(g).length<=1)return new Ce(b,v,{name:T?h.hyphenate(T):b,point:R})}var L=t.position,E=t.center,M=t.bounds;if(p&&this._parent&&(L||E||M)){if((E||M)&&(x=this.getInternalBounds()),k=L&&y("position")||E&&y("center","Center"),!k&&M)for(var C=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],P=0;P<8&&!k;P++)k=y("bounds",C[P]);k=w(k)}return k||(k=this._hitTestChildren(e,t,o)||p&&w(this._hitTestSelf(e,t,o,this.getStrokeScaling()?null:o._shiftless().invert()))||null),k&&k.point&&(k.point=s.transform(k.point)),k},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new Ce("fill",this)},matches:function(e,t){function n(g,p){for(var _ in g)if(g.hasOwnProperty(_)){var v=g[_],x=p[_];if(h.isPlainObject(v)&&h.isPlainObject(x)){if(!n(v,x))return!1}else if(!h.equals(v,x))return!1}return!0}var s=typeof e;if(s==="object"){for(var o in e)if(e.hasOwnProperty(o)&&!this.matches(o,e[o]))return!1;return!0}else{if(s==="function")return e(this);if(e==="match")return t(this);var f=/^(empty|editable)$/.test(e)?this["is"+h.capitalize(e)]():e==="type"?h.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;f=this._class}if(typeof t=="function")return!!t(f);if(t){if(t.test)return t.test(f);if(h.isPlainObject(t))return n(t,f)}return h.equals(f,t)}},getItems:function(e){return A._getItems(this,e,this._matrix)},getItem:function(e){return A._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,n,s,o,f){if(!o){var g=typeof n=="object"&&n,p=g&&g.overlapping,_=g&&g.inside,v=p||_,w=v&&te.read([v]);o={items:[],recursive:g&&g.recursive!==!1,inside:!!_,overlapping:!!p,rect:w,path:p&&new qe.Rectangle({rectangle:w,insert:!1})},g&&(n=h.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var x=t._children,k=o.items,w=o.rect;s=w&&(s||new ge);for(var y=0,L=x&&x.length;y<L;y++){var E=x[y],M=s&&s.appended(E._matrix),C=!0;if(w){var v=E.getBounds(M);if(!w.intersects(v))continue;w.contains(v)||o.overlapping&&(v.contains(w)||o.path.intersects(E,M))||(C=!1)}if(C&&E.matches(n)&&(k.push(E),f)||(o.recursive!==!1&&e(E,n,M,o,f),f&&k.length>0))break}return k}}},{importJSON:function(e){var t=h.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(u,e)},insertChild:function(e,t){var n=t?this.insertChildren(e,[t]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var n=this._children;if(n&&t&&t.length>0){t=h.slice(t);for(var s={},o=t.length-1;o>=0;o--){var f=t[o],g=f&&f._id;!f||s[g]?t.splice(o,1):(f._remove(!1,!0),s[g]=!0)}h.splice(n,t,e,0);for(var p=this._project,_=p._changes,o=0,v=t.length;o<v;o++){var f=t[o],x=f._name;f._parent=this,f._setProject(p,!0),x&&f.setName(x),_&&f._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var n=e&&e._getOwner(),s=e!==this&&n?this:null;return s&&(s._remove(!1,!0),n._insertItem(e._index+t,s)),s},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(u,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(u,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var n=t[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,s=this._name,o=n[s],f=o?o.indexOf(this):-1;f!==-1&&(t[s]==this&&delete t[s],o.splice(f,1),o.length?t[s]=o[0]:delete n[s])}},_remove:function(e,t){var n=this._getOwner(),s=this._project,o=this._index;return this._style&&this._style._dispose(),n?(this._name&&this._removeNamed(),o!=null&&(s._activeLayer===this&&(s._activeLayer=this.getNextSibling()||this.getPreviousSibling()),h.splice(n._children,null,o,1)),this._installEvents(!1),e&&s._changes&&this._changed(5),t&&n._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=h.pick(t,this._children.length);for(var n=h.splice(this._children,null,e,t-e),s=n.length-1;s>=0;s--)n[s]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,n=t?t.length:0;if(e){for(var s=0;s<n;s++)if(!t[s].isEmpty(e))return!1;return!0}return!n},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(g){var p=[];do p.unshift(g);while(g=g._parent);return p}for(var n=t(this),s=t(e),o=0,f=Math.min(n.length,s.length);o<f;o++)if(n[o]!=s[o])return n[o]._index<s[o]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},h.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var n=arguments,s=(t?h:q).read(n),o=q.read(n,0,{readNull:!0});return this.transform(new ge()[e](s,o||this.getPosition(!0)))}},{translate:function(){var e=new ge;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n){var s=this._matrix,o=e&&!e.isIdentity(),f=n&&this._canApplyMatrix||this._applyMatrix&&(o||!s.isIdentity()||t&&this._children);if(!o&&!f)return this;if(o){!e.isInvertible()&&s.isInvertible()&&(s._backup=s.getValues()),s.prepend(e,!0);var g=this._style,p=g.getFillColor(!0),_=g.getStrokeColor(!0);p&&p.transform(e),_&&_.transform(e)}if(f&&(f=this._transformContent(s,t,n))){var v=this._pivot;v&&s._transformPoint(v,v,!0),s.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var x=this._bounds,k=this._position;(o||f)&&this._changed(25);var w=o&&x&&e.decompose();if(w&&w.skewing.isZero()&&w.rotation%90===0){for(var y in x){var L=x[y];if(L.nonscaling)delete x[y];else if(f||!L.internal){var E=L.rect;e._transformBounds(E,E)}}this._bounds=x;var M=x[this._getBoundsCacheKey(this._boundsOptions||{})];M&&(this._position=this._getPositionFromBounds(M.rect))}else o&&k&&this._pivot&&(this._position=e._transformPoint(k,k));return this},_transformContent:function(e,t,n){var s=this._children;if(s){for(var o=0,f=s.length;o<f;o++)s[o].transform(e,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(q.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(q.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(q.read(arguments))},localToParent:function(){return this._matrix._transformPoint(q.read(arguments))},fitBounds:function(e,t){e=te.read(arguments);var n=this.getBounds(),s=n.height/n.width,o=e.height/e.width,f=(t?s>o:s<o)?e.width/n.width:e.height/n.height,g=new te(new q,new J(n.width*f,n.height*f));g.setCenter(e.getCenter()),this.setBounds(g)}}),{_setStyles:function(e,t,n){var s=this._style,o=this._matrix;if(s.hasFill()&&(e.fillStyle=s.getFillColor().toCanvasStyle(e,o)),s.hasStroke()){e.strokeStyle=s.getStrokeColor().toCanvasStyle(e,o),e.lineWidth=s.getStrokeWidth();var f=s.getStrokeJoin(),g=s.getStrokeCap(),p=s.getMiterLimit();if(f&&(e.lineJoin=f),g&&(e.lineCap=g),p&&(e.miterLimit=p),nt.support.nativeDash){var _=s.getDashArray(),v=s.getDashOffset();_&&_.length&&("setLineDash"in e?(e.setLineDash(_),e.lineDashOffset=v):(e.mozDash=_,e.mozDashOffset=v))}}if(s.hasShadow()){var x=t.pixelRatio||1,k=n._shiftless().prepend(new ge().scale(x,x)),w=k.transform(new q(s.getShadowBlur(),0)),y=k.transform(this.getShadowOffset());e.shadowColor=s.getShadowColor().toCanvasStyle(e),e.shadowBlur=w.getLength(),e.shadowOffsetX=y.x,e.shadowOffsetY=y.y}},draw:function(e,t,n){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var s=t.matrices,o=t.viewMatrix,f=this._matrix,g=s[s.length-1].appended(f);if(g.isInvertible()){o=o?o.appended(g):g,s.push(g),t.updateMatrix&&(this._globalMatrix=g);var p=this._blendMode,_=D.clamp(this._opacity,0,1),v=p==="normal",x=oi.nativeModes[p],k=v&&_===1||t.dontStart||t.clip||(x||v&&_<1)&&this._canComposite(),w=t.pixelRatio||1,y,L,E;if(!k){var M=this.getStrokeBounds(o);if(!M.width||!M.height){s.pop();return}E=t.offset,L=t.offset=M.getTopLeft().floor(),y=e,e=Nt.getContext(M.getSize().ceil().add(1).multiply(w)),w!==1&&e.scale(w,w)}e.save();var C=n?n.appended(f):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,P=!k&&t.clipItem,b=!C||P;if(k?(e.globalAlpha=_,x&&(e.globalCompositeOperation=p)):b&&e.translate(-L.x,-L.y),b&&(k?f:o).applyToContext(e),P&&t.clipItem.draw(e,t.extend({clip:!0})),C){e.setTransform(w,0,0,w,0,0);var T=t.offset;T&&e.translate(-T.x,-T.y)}this._draw(e,t,o,C),e.restore(),s.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),k||(oi.process(p,e,y,_,L.subtract(E).multiply(w)),Nt.release(e),t.offset=E)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof ft)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,s,o){var f=this._selection,g=f&1,p=f&2||g&&this._selectBounds,_=f&4;if(this._drawSelected||(g=!1),(g||p||_)&&this._isUpdated(o)){var v,x=this.getSelectedColor(!0)||(v=this.getLayer())&&v.getSelectedColor(!0),k=t.appended(this.getGlobalMatrix(!0)),w=n/2;if(e.strokeStyle=e.fillStyle=x?x.toCanvasStyle(e):"#009dec",g&&this._drawSelected(e,k,s),_){var y=this.getPosition(!0),L=this._parent,E=L?L.localToGlobal(y):y,M=E.x,C=E.y;e.beginPath(),e.arc(M,C,w,0,Math.PI*2,!0),e.stroke();for(var P=[[0,-1],[1,0],[0,1],[-1,0]],b=w,T=n+1,R=0;R<4;R++){var B=P[R],O=B[0],F=B[1];e.moveTo(M+O*b,C+F*b),e.lineTo(M+O*T,C+F*T),e.stroke()}}if(p){var U=k._transformCorners(this.getInternalBounds());e.beginPath();for(var R=0;R<8;R++)e[R?"lineTo":"moveTo"](U[R],U[++R]);e.closePath(),e.stroke();for(var R=0;R<8;R++)e.fillRect(U[R]-w,U[++R]-w,n,n)}}},_canComposite:function(){return!1}},h.each(["down","drag","up","move"],function(e){this["removeOn"+h.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var n="mouse"+t,s=this._project,o=s._removeSets=s._removeSets||{};o[n]=o[n]||{},o[n][this._id]=this}return this}}),{tween:function(e,t,n){n||(n=t,t=e,e=null,n||(n=t,t=null));var s=n&&n.easing,o=n&&n.start,f=n!=null&&(typeof n=="number"?n:n.duration),g=new kn(this,e,t,f,s,o);function p(_){g._handleFrame(_.time*1e3),g.running||this.off("frame",p)}return f&&this.on("frame",p),g},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),be=A.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=u)},_getClipItem:function(){var e=this._clipItem;if(e===u){e=null;for(var t=this._children,n=0,s=t.length;n<s;n++)if(t[n]._clipMask){e=t[n];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,n){var s=this._getClipItem();return s?s._getCachedBounds(s._matrix.prepended(t),h.set({},n,{stroke:!1})):e.base.call(this,t,n)},_hitTestChildren:function e(t,n,s){var o=this._getClipItem();return(!o||o.contains(t))&&e.base.call(this,t,n,s,o)},_draw:function(e,t){var n=t.clip,s=!n&&this._getClipItem();t=t.extend({clipItem:s,clip:!1}),n?(e.beginPath(),t.dontStart=t.dontFinish=!0):s&&s.draw(e,t.extend({clip:!0}));for(var o=this._children,f=0,g=o.length;f<g;f++){var p=o[f];p!==s&&p.draw(e,t)}}}),Re=be.extend({_class:"Layer",initialize:function(){be.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),je=A.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,n){this._initialize(t,n)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&h.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new re(e.width,e.height,this,"setSize")},setSize:function(){var e=J.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,n=e.width,s=e.height;t==="rectangle"?this._radius.set(J.min(this._radius,e.divide(2).abs())):t==="circle"?(n=s=(n+s)/2,this._radius=n/2):t==="ellipse"&&this._radius._set(n/2,s/2),this._size._set(n,s),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new re(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var n=e*2;this._radius=e,this._size._set(n,n)}else if(e=J.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var n=J.max(this._size,e.multiply(2));this._size.set(n)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new qe[h.capitalize(this._type)]({center:new q,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),nt.settings.applyMatrix&&t.setApplyMatrix(!0),(e===u||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,n,s){var o=this._style,f=o.hasFill(),g=o.hasStroke(),p=t.dontFinish||t.clip,_=!s;if(f||g||p){var v=this._type,x=this._radius,k=v==="circle";if(t.dontStart||e.beginPath(),_&&k)e.arc(0,0,x,0,Math.PI*2,!0);else{var w=k?x:x.width,y=k?x:x.height,L=this._size,E=L.width,M=L.height;if(_&&v==="rectangle"&&w===0&&y===0)e.rect(-E/2,-M/2,E,M);else{var C=E/2,P=M/2,b=1-.5522847498307936,T=w*b,R=y*b,B=[-C,-P+y,-C,-P+R,-C+T,-P,-C+w,-P,C-w,-P,C-T,-P,C,-P+R,C,-P+y,C,P-y,C,P-R,C-T,P,C-w,P,-C+w,P,-C+T,P,-C,P-R,-C,P-y];s&&s.transform(B,B,32),e.moveTo(B[0],B[1]),e.bezierCurveTo(B[2],B[3],B[4],B[5],B[6],B[7]),C!==w&&e.lineTo(B[8],B[9]),e.bezierCurveTo(B[10],B[11],B[12],B[13],B[14],B[15]),P!==y&&e.lineTo(B[16],B[17]),e.bezierCurveTo(B[18],B[19],B[20],B[21],B[22],B[23]),C!==w&&e.lineTo(B[24],B[25]),e.bezierCurveTo(B[26],B[27],B[28],B[29],B[30],B[31])}}e.closePath()}!p&&(f||g)&&(this._setStyles(e,t,n),f&&(e.fill(o.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),g&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new te(this._size).setCenter(0,0),s=this._style,o=t.stroke&&s.hasStroke()&&s.getStrokeWidth();return e&&(n=e._transformBounds(n)),o?n.expand(qe._getStrokePadding(o,this._getStrokeMatrix(e,t))):n}},new function(){function e(n,s,o){var f=n._radius;if(!f.isZero())for(var g=n._size.divide(2),p=1;p<=4;p++){var _=new q(p>1&&p<4?-1:1,p>2?-1:1),v=_.multiply(g),x=v.subtract(_.multiply(f)),k=new te(o?v.add(_.multiply(o)):v,x);if(k.contains(s))return{point:x,quadrant:p}}}function t(n,s,o,f){var g=n.divide(s);return(!f||g.isInQuadrant(f))&&g.subtract(g.normalize()).multiply(s).divide(o).length<=1}return{_contains:function n(s){if(this._type==="rectangle"){var o=e(this,s);return o?s.subtract(o.point).divide(this._radius).getLength()<=1:n.base.call(this,s)}else return s.divide(this.size).getLength()<=.5},_hitTestSelf:function n(s,o,f,g){var p=!1,_=this._style,v=o.stroke&&_.hasStroke(),x=o.fill&&_.hasFill();if(v||x){var k=this._type,w=this._radius,y=v?_.getStrokeWidth()/2:0,L=o._tolerancePadding.add(qe._getStrokePadding(y,!_.getStrokeScaling()&&g));if(k==="rectangle"){var E=L.multiply(2),M=e(this,s,E);if(M)p=t(s.subtract(M.point),w,L,M.quadrant);else{var C=new te(this._size).setCenter(0,0),P=C.expand(E),b=C.expand(E.negate());p=P._containsPoint(s)&&!b._containsPoint(s)}}else p=t(s,w,L)}return p?new Ce(v?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function e(t,n,s,o,f){var g=h.create(je.prototype);return g._type=t,g._size=s,g._radius=o,g._initialize(h.getNamed(f),n),g}return{Circle:function(){var t=arguments,n=q.readNamed(t,"center"),s=h.readNamed(t,"radius");return e("circle",n,new J(s*2),s,t)},Rectangle:function(){var t=arguments,n=te.readNamed(t,"rectangle"),s=J.min(J.readNamed(t,"radius"),n.getSize(!0).divide(2));return e("rectangle",n.getCenter(!0),n.getSize(!0),s,t)},Ellipse:function(){var t=arguments,n=je._readEllipse(t),s=n.radius;return e("ellipse",n.center,s.multiply(2),s,t)},_readEllipse:function(t){var n,s;if(h.hasNamed(t,"radius"))n=q.readNamed(t,"center"),s=J.readNamed(t,"radius");else{var o=te.readNamed(t,"rectangle");n=o.getCenter(!0),s=o.getSize(!0).divide(2)}return{center:n,radius:s}}}}}),tt=A.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,n){if(!this._initialize(t,n!==u&&q.read(arguments))){var s,o=typeof t,f=o==="string"?d.getElementById(t):o==="object"?t:null;if(f&&f!==A.NO_INSERT){if(f.getContext||f.naturalHeight!=null)s=f;else if(f){var g=J.read(arguments);g.isZero()||(s=Nt.getCanvas(g))}}s?this.setImage(s):this.setSource(t)}this._size||(this._size=new J,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this._setImage(t);else if(n){var s=Nt.getCanvas(e._size);s.getContext("2d").drawImage(n,0,0),this._setImage(s)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new re(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var n=J.read(arguments);if(n.equals(this._size))t&&this.clear();else if(n.width>0&&n.height>0){var s=!t&&this.getElement();this._setImage(Nt.getCanvas(n)),s&&this.getContext(!0).drawImage(s,0,0,n.width,n.height)}else this._canvas&&Nt.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new q(0,0).transform(e),n=new q(1,0).transform(e).subtract(t),s=new q(0,1).transform(e).subtract(t);return new J(72/n.getLength(),72/s.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function n(s){var o=t.getView(),f=s&&s.type||"load";o&&t.responds(f)&&(nt=o._scope,t.emit(f,new Si(s)))}this._setImage(e),this._loaded?setTimeout(n,0):e&&ct.add(e,{load:function(s){t._setImage(e),n(s)},error:n})},_setImage:function(e){this._canvas&&Nt.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new J(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=Nt.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch{Nt.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new r.Image,n=this._crossOrigin;n&&(t.crossOrigin=n),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=te.read(arguments),t=Nt.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=te.read(arguments),t=new tt(A.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var t=q.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;if(e?e instanceof Ot?(n=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new te(e):"x"in e&&(t=new te(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var s=32,o=Math.min(t.width,s),f=Math.min(t.height,s),g=tt._sampleContext;g?g.clearRect(0,0,s+1,s+1):g=tt._sampleContext=Nt.getContext(new J(s)),g.save();var p=new ge().scale(o/t.width,f/t.height).translate(-t.x,-t.y);p.applyToContext(g),n&&n.draw(g,new h({clip:!0,matrices:[p]})),this._matrix.applyToContext(g);var _=this.getElement(),v=this._size;_&&g.drawImage(_,-v.width/2,-v.height/2),g.restore();for(var x=g.getImageData(.5,.5,Math.ceil(o),Math.ceil(f)).data,k=[0,0,0],w=0,y=0,L=x.length;y<L;y+=4){var E=x[y+3];w+=E,E/=255,k[0]+=x[y]*E,k[1]+=x[y+1]*E,k[2]+=x[y+2]*E}for(var y=0;y<3;y++)k[y]/=w;return w?St.read(k):null},getPixel:function(){var e=q.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new St("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=q.read(e),n=St.read(e),s=n._convert("rgb"),o=n._alpha,f=this.getContext(!0),g=f.createImageData(1,1),p=g.data;p[0]=s[0]*255,p[1]=s[1]*255,p[2]=s[2]*255,p[3]=o!=null?o*255:255,f.putImageData(g,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=J.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=te.read(arguments);return e.isEmpty()&&(e=new te(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var t=q.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,t){var n=new te(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new Ce("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,n){var s=this.getElement();if(s&&s.width>0&&s.height>0){e.globalAlpha=D.clamp(this._opacity,0,1),this._setStyles(e,t,n);var o=this._smoothing,f=o==="off";lt.setPrefixed(e,f?"imageSmoothingEnabled":"imageSmoothingQuality",f?!1:o),e.drawImage(s,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Fe=A.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,n){this._initialize(t,n!==u&&q.read(arguments,1))||this.setDefinition(t instanceof ze?t:new ze(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),t)},_hitTestSelf:function(e,t,n){var s=t.extend({all:!1}),o=this._definition._item._hitTest(e,s,n);return o&&(o.item=this),o},_draw:function(e,t){this._definition._item.draw(e,t)}}),ze=h.extend({_class:"SymbolDefinition",initialize:function(t,n){this._id=K.get(),this.project=nt.project,t&&this.setItem(t,n)},_serialize:function(e,t){return t.add(this,function(){return h.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&A._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new q),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new Fe(this,e)},clone:function(){return new ze(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),Ce=h.extend({_class:"HitResult",initialize:function(t,n,s){this.type=t,this.item=n,s&&this.inject(s)},statics:{getOptions:function(e){var t=e&&h.read(e);return new h({type:null,tolerance:nt.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),me=h.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,n,s,o,f,g){var p=arguments.length,_,v,x,k;p>0&&(t==null||typeof t=="object"?p===1&&t&&"point"in t?(_=t.point,v=t.handleIn,x=t.handleOut,k=t.selection):(_=t,v=n,x=s,k=o):(_=[t,n],v=s!==u?[s,o]:null,x=f!==u?[f,g]:null)),new Ge(_,this,"_point"),new Ge(v,this,"_handleIn"),new Ge(x,this,"_handleOut"),k&&this.setSelection(k)},_serialize:function(e,t){var n=this._point,s=this._selection,o=s||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return s&&o.push(s),h.serialize(o,e,!0,t)},_changed:function(e){var t=this._path;if(t){var n=t._curves,s=this._index,o;n&&((!e||e===this._point||e===this._handleIn)&&(o=s>0?n[s-1]:t._closed?n[n.length-1]:null)&&o._changed(),(!e||e===this._point||e===this._handleOut)&&(o=n[s])&&o._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(q.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(q.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(q.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,n=this._path;this._selection=e=e||0,n&&e!==t&&(n._updateSelection(this,t,e),n._changed(257))},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==u?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new mt(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,n){var s=e||{},o=s.type,f=s.factor,g=this.getPrevious(),p=this.getNext(),_=(g||this)._point,v=this._point,x=(p||this)._point,k=_.getDistance(v),w=v.getDistance(x);if(!o||o==="catmull-rom"){var y=f===u?.5:f,L=Math.pow(k,y),E=L*L,M=Math.pow(w,y),C=M*M;if(!t&&g){var P=2*C+3*M*L+E,b=3*M*(M+L);this.setHandleIn(b!==0?new q((C*_._x+P*v._x-E*x._x)/b-v._x,(C*_._y+P*v._y-E*x._y)/b-v._y):new q)}if(!n&&p){var P=2*E+3*L*M+C,b=3*L*(L+M);this.setHandleOut(b!==0?new q((E*x._x+P*v._x-C*_._x)/b-v._x,(E*x._y+P*v._y-C*_._y)/b-v._y):new q)}}else if(o==="geometric"){if(g&&p){var T=_.subtract(x),R=f===u?.4:f,B=R*k/(k+w);t||this.setHandleIn(T.multiply(B)),n||this.setHandleOut(T.multiply(B-R))}}else throw new Error("Smoothing method '"+o+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e.clone();e.set(t),t.set(n)},reversed:function(){return new me(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new me(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,n){var s=1-n,o=n,f=e._point,g=t._point,p=e._handleIn,_=t._handleIn,v=t._handleOut,x=e._handleOut;this._point._set(s*f._x+o*g._x,s*f._y+o*g._y,!0),this._handleIn._set(s*p._x+o*_._x,s*p._y+o*_._y,!0),this._handleOut._set(s*x._x+o*v._x,s*x._y+o*v._y,!0),this._changed()},_transformCoordinates:function(e,t,n){var s=this._point,o=!n||!this._handleIn.isZero()?this._handleIn:null,f=!n||!this._handleOut.isZero()?this._handleOut:null,g=s._x,p=s._y,_=2;return t[0]=g,t[1]=p,o&&(t[_++]=o._x+g,t[_++]=o._y+p),f&&(t[_++]=f._x+g,t[_++]=f._y+p),e&&(e._transformCoordinates(t,t,_/2),g=t[0],p=t[1],n?(s._x=g,s._y=p,_=2,o&&(o._x=t[_++]-g,o._y=t[_++]-p),f&&(f._x=t[_++]-g,f._y=t[_++]-p)):(o||(t[_++]=g,t[_++]=p),f||(t[_++]=g,t[_++]=p))),t}}),Ge=q.extend({initialize:function(t,n,s){var o,f,g;if(!t)o=f=0;else if((o=t[0])!==u)f=t[1];else{var p=t;(o=p.x)===u&&(p=q.read(arguments),o=p.x),f=p.y,g=p.selected}this._x=o,this._y=f,this._owner=n,n[s]=this,g&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=D.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),de=h.extend({_class:"Curve",beans:!0,initialize:function(t,n,s,o,f,g,p,_){var v=arguments.length,x,k,w,y,L,E;v===3?(this._path=t,x=n,k=s):v?v===1?"segment1"in t?(x=new me(t.segment1),k=new me(t.segment2)):"point1"in t?(w=t.point1,L=t.handle1,E=t.handle2,y=t.point2):Array.isArray(t)&&(w=[t[0],t[1]],y=[t[6],t[7]],L=[t[2]-t[0],t[3]-t[1]],E=[t[4]-t[6],t[5]-t[7]]):v===2?(x=new me(t),k=new me(n)):v===4?(w=t,L=n,E=s,y=o):v===8&&(w=[t,n],y=[p,_],L=[s-t,o-n],E=[f-p,g-_]):(x=new me,k=new me),this._segment1=x||new me(w,null,L),this._segment2=k||new me(y,E,null)},_serialize:function(e,t){return h.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=u},clone:function(){return new de(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return de.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(q.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(q.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(q.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(q.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return de.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;n<8;n+=2)t.push(new q(e[n],e[n+1]));return t}},{getLength:function(){return this._length==null&&(this._length=de.getLength(this.getValues(),0,1)),this._length},getArea:function(){return de.getArea(this.getValues())},getLine:function(){return new Ve(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new de(de.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return de.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var n=1e-8,s=1-n,o=null;if(e>=n&&e<=s){var f=de.subdivide(this.getValues(),e),g=f[0],p=f[1],_=t||this.hasHandles(),v=this._segment1,x=this._segment2,k=this._path;_&&(v._handleOut._set(g[2]-g[0],g[3]-g[1]),x._handleIn._set(p[4]-p[6],p[5]-p[7]));var w=g[6],y=g[7],L=new me(new q(w,y),_&&new q(g[4]-w,g[5]-y),_&&new q(p[2]-w,p[3]-y));k?(k.insert(v._index+1,L),o=this.getNext()):(this._segment2=L,this._changed(),o=new de(L,x))}return o},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===u?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===u?.5:t?e:this.getTimeAt(e))},reversed:function(){return new de(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,n,s){var o=e._point,f=e._handleOut,g=t._handleIn,p=t._point,_=o.x,v=o.y,x=p.x,k=p.y,w=s?[_,v,_,v,x,k,x,k]:[_,v,_+f._x,v+f._y,x+g._x,k+g._y,x,k];return n&&n._transformCoordinates(w,w,4),w},subdivide:function(e,t){var n=e[0],s=e[1],o=e[2],f=e[3],g=e[4],p=e[5],_=e[6],v=e[7];t===u&&(t=.5);var x=1-t,k=x*n+t*o,w=x*s+t*f,y=x*o+t*g,L=x*f+t*p,E=x*g+t*_,M=x*p+t*v,C=x*k+t*y,P=x*w+t*L,b=x*y+t*E,T=x*L+t*M,R=x*C+t*b,B=x*P+t*T;return[[n,s,k,w,C,P,R,B],[R,B,b,T,E,M,_,v]]},getMonoCurves:function(e,t){var n=[],s=t?0:1,o=e[s+0],f=e[s+2],g=e[s+4],p=e[s+6];if(o>=f==f>=g&&f>=g==g>=p||de.isStraight(e))n.push(e);else{var _=3*(f-g)-o+p,v=2*(o+g)-4*f,x=f-o,k=1e-8,w=1-k,y=[],L=D.solveQuadratic(_,v,x,y,k,w);if(!L)n.push(e);else{y.sort();var E=y[0],M=de.subdivide(e,E);n.push(M[0]),L>1&&(E=(y[1]-E)/(1-E),M=de.subdivide(M[1],E),n.push(M[0])),n.push(M[1])}}return n},solveCubic:function(e,t,n,s,o,f){var g=e[t],p=e[t+2],_=e[t+4],v=e[t+6],x=0;if(!(g<n&&v<n&&p<n&&_<n||g>n&&v>n&&p>n&&_>n)){var k=3*(p-g),w=3*(_-p)-k,y=v-g-k-w;x=D.solveCubic(y,w,k,g-n,s,o,f)}return x},getTimeOf:function(e,t){var n=new q(e[0],e[1]),s=new q(e[6],e[7]),o=1e-12,f=1e-7,g=t.isClose(n,o)?0:t.isClose(s,o)?1:null;if(g===null)for(var p=[t.x,t.y],_=[],v=0;v<2;v++)for(var x=de.solveCubic(e,v,p[v],_,0,1),k=0;k<x;k++){var w=_[k];if(t.isClose(de.getPoint(e,w),f))return w}return t.isClose(n,f)?0:t.isClose(s,f)?1:null},getNearestTime:function(e,t){if(de.isStraight(e)){var n=e[0],s=e[1],o=e[6],f=e[7],g=o-n,p=f-s,_=g*g+p*p;if(_===0)return 0;var v=((t.x-n)*g+(t.y-s)*p)/_;return v<1e-12?0:v>.999999999999?1:de.getTimeOf(e,new q(n+v*g,s+v*p))}var x=100,k=1/0,w=0;function y(M){if(M>=0&&M<=1){var C=t.getDistance(de.getPoint(e,M),!0);if(C<k)return k=C,w=M,!0}}for(var L=0;L<=x;L++)y(L/x);for(var E=1/(x*2);E>1e-8;)!y(w-E)&&!y(w+E)&&(E/=2);return w},getPart:function(e,t,n){var s=t>n;if(s){var o=t;t=n,n=o}return t>0&&(e=de.subdivide(e,t)[1]),n<1&&(e=de.subdivide(e,(n-t)/(1-t))[0]),s?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var n=e[0],s=e[1],o=e[2],f=e[3],g=e[4],p=e[5],_=e[6],v=e[7],x=3*o-2*n-_,k=3*f-2*s-v,w=3*g-2*_-n,y=3*p-2*v-s;return Math.max(x*x,w*w)+Math.max(k*k,y*y)<=16*t*t},getArea:function(e){var t=e[0],n=e[1],s=e[2],o=e[3],f=e[4],g=e[5],p=e[6],_=e[7];return 3*((_-n)*(s+f)-(p-t)*(o+g)+o*(t-f)-s*(n-g)+_*(f+t/3)-p*(g+n/3))/20},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),s=[0,0],o=0;o<2;o++)de._addBounds(e[o],e[o+2],e[o+4],e[o+6],o,0,t,n,s);return new te(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,s,o,f,g,p,_){function v(R,B){var O=R-B,F=R+B;O<g[o]&&(g[o]=O),F>p[o]&&(p[o]=F)}f/=2;var x=g[o]+f,k=p[o]-f;if(e<x||t<x||n<x||s<x||e>k||t>k||n>k||s>k)if(t<e!=t<s&&n<e!=n<s)v(e,0),v(s,0);else{var w=3*(t-n)-e+s,y=2*(e+n)-4*t,L=t-e,E=D.solveQuadratic(w,y,L,_),M=1e-8,C=1-M;v(s,0);for(var P=0;P<E;P++){var b=_[P],T=1-b;M<=b&&b<=C&&v(T*T*T*e+3*T*T*b*t+3*T*b*b*n+b*b*b*s,f)}}}}},h.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=qe[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),h.each({isStraight:function(e,t,n,s){if(t.isZero()&&n.isZero())return!0;var o=s.subtract(e);if(o.isZero())return!1;if(o.isCollinear(t)&&o.isCollinear(n)){var f=new Ve(e,s),g=1e-7;if(f.getDistance(e.add(t))<g&&f.getDistance(s.add(n))<g){var p=o.dot(o),_=o.dot(t)/p,v=o.dot(n)/p;return _>=0&&_<=1&&v<=0&&v>=-1}}return!1},isLinear:function(e,t,n,s){var o=s.subtract(e).divide(3);return t.equals(o)&&n.negate().equals(o)}},function(e,t){this[t]=function(n){var s=this._segment1,o=this._segment2;return e(s._point,s._handleOut,o._handleIn,o._point,n)},this.statics[t]=function(n,s){var o=n[0],f=n[1],g=n[6],p=n[7];return e(new q(o,f),new q(n[2]-o,n[3]-f),new q(n[4]-g,n[5]-p),new q(g,p),s)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new mt(this,e):null},getTimeAt:function(e,t){return de.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=q.read(arguments);return e.isZero()?[]:de.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(q.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return de.getTimeOf(this.getValues(),q.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=q.read(arguments),t=this.getValues(),n=de.getNearestTime(t,e),s=de.getPoint(t,n);return new mt(this,n,s,null,e.getDistance(s))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return h.each(e,function(t){this[t+"At"]=function(n,s){var o=this.getValues();return de[t](o,s?n:de.getTimeAt(o,n))},this[t+"AtTime"]=function(n){return de[t](this.getValues(),n)}},{statics:{_evaluateMethods:e}})},new function(){function e(s){var o=s[0],f=s[1],g=s[2],p=s[3],_=s[4],v=s[5],x=s[6],k=s[7],w=9*(g-_)+3*(x-o),y=6*(o+_)-12*g,L=3*(g-o),E=9*(p-v)+3*(k-f),M=6*(f+v)-12*p,C=3*(p-f);return function(P){var b=(w*P+y)*P+L,T=(E*P+M)*P+C;return Math.sqrt(b*b+T*T)}}function t(s,o){return Math.max(2,Math.min(16,Math.ceil(Math.abs(o-s)*32)))}function n(s,o,f,g){if(o==null||o<0||o>1)return null;var p=s[0],_=s[1],v=s[2],x=s[3],k=s[4],w=s[5],y=s[6],L=s[7],E=D.isZero;E(v-p)&&E(x-_)&&(v=p,x=_),E(k-y)&&E(w-L)&&(k=y,w=L);var M=3*(v-p),C=3*(k-v)-M,P=y-p-M-C,b=3*(x-_),T=3*(w-x)-b,R=L-_-b-T,B,O;if(f===0)B=o===0?p:o===1?y:((P*o+C)*o+M)*o+p,O=o===0?_:o===1?L:((R*o+T)*o+b)*o+_;else{var F=1e-8,U=1-F;if(o<F?(B=M,O=b):o>U?(B=3*(y-k),O=3*(L-w)):(B=(3*P*o+2*C)*o+M,O=(3*R*o+2*T)*o+b),g){B===0&&O===0&&(o<F||o>U)&&(B=k-v,O=w-x);var G=Math.sqrt(B*B+O*O);G&&(B/=G,O/=G)}if(f===3){var k=6*P*o+2*C,w=6*R*o+2*T,Y=Math.pow(B*B+O*O,3/2);B=Y!==0?(B*w-O*k)/Y:0,O=0}}return f===2?new q(O,-B):new q(B,O)}return{statics:{classify:function(s){var o=s[0],f=s[1],g=s[2],p=s[3],_=s[4],v=s[5],x=s[6],k=s[7],w=o*(k-v)+f*(_-x)+x*v-k*_,y=g*(f-k)+p*(x-o)+o*k-f*x,L=_*(p-f)+v*(o-g)+g*f-p*o,E=3*L,M=E-y,C=M-y+w,P=Math.sqrt(C*C+M*M+E*E),b=P!==0?1/P:0,T=D.isZero,R="serpentine";C*=b,M*=b,E*=b;function B(G,Y,j){var X=Y!==u,Q=X&&Y>0&&Y<1,ie=X&&j>0&&j<1;return X&&(!(Q||ie)||G==="loop"&&!(Q&&ie))&&(G="arch",Q=ie=!1),{type:G,roots:Q||ie?Q&&ie?Y<j?[Y,j]:[j,Y]:[Q?Y:j]:null}}if(T(C))return T(M)?B(T(E)?"line":"quadratic"):B(R,E/(3*M));var O=3*M*M-4*C*E;if(T(O))return B("cusp",M/(2*C));var F=O>0?Math.sqrt(O/3):Math.sqrt(-O),U=2*C;return B(O>0?R:"loop",(M+F)/U,(M-F)/U)},getLength:function(s,o,f,g){if(o===u&&(o=0),f===u&&(f=1),de.isStraight(s)){var p=s;f<1&&(p=de.subdivide(p,f)[0],o/=f),o>0&&(p=de.subdivide(p,o)[1]);var _=p[6]-p[0],v=p[7]-p[1];return Math.sqrt(_*_+v*v)}return D.integrate(g||e(s),o,f,t(o,f))},getTimeAt:function(s,o,f){if(f===u&&(f=o<0?1:0),o===0)return f;var g=Math.abs,p=1e-12,_=o>0,v=_?f:0,x=_?1:f,k=e(s),w=de.getLength(s,v,x,k),y=g(o)-w;if(g(y)<p)return _?x:v;if(y>p)return null;var L=o/w,E=0;function M(C){return E+=D.integrate(k,f,C,t(f,C)),f=C,E-o}return D.findRoot(M,k,f+L,v,x,32,1e-12)},getPoint:function(s,o){return n(s,o,0,!1)},getTangent:function(s,o){return n(s,o,1,!0)},getWeightedTangent:function(s,o){return n(s,o,1,!1)},getNormal:function(s,o){return n(s,o,2,!0)},getWeightedNormal:function(s,o){return n(s,o,2,!1)},getCurvature:function(s,o){return n(s,o,3,!1).x},getPeaks:function(s){var o=s[0],f=s[1],g=s[2],p=s[3],_=s[4],v=s[5],x=s[6],k=s[7],w=-o+3*g-3*_+x,y=3*o-6*g+3*_,L=-3*o+3*g,E=-f+3*p-3*v+k,M=3*f-6*p+3*v,C=-3*f+3*p,P=1e-8,b=1-P,T=[];return D.solveCubic(9*(w*w+E*E),9*(w*y+M*E),2*(y*y+M*M)+3*(L*w+C*E),L*y+M*C,T,P,b),T.sort()}}}},new function(){function e(y,L,E,M,C,P,b){var T=!b&&E.getPrevious()===C,R=!b&&E!==C&&E.getNext()===C,B=1e-8,O=1-B;if(M!==null&&M>=(T?B:0)&&M<=(R?O:1)&&P!==null&&P>=(R?B:0)&&P<=(T?O:1)){var F=new mt(E,M,null,b),U=new mt(C,P,null,b);F._intersection=U,U._intersection=F,(!L||L(F))&&mt.insert(y,F,!0)}}function t(y,L,E,M,C,P,b,T,R,B,O,F,U){if(++R>=4096||++T>=40)return R;var G=1e-9,Y=L[0],j=L[1],X=L[6],Q=L[7],ie=Ve.getSignedDistance,ne=ie(Y,j,X,Q,L[2],L[3]),ue=ie(Y,j,X,Q,L[4],L[5]),ye=ne*ue>0?3/4:4/9,xe=ye*Math.min(0,ne,ue),ke=ye*Math.max(0,ne,ue),Ne=ie(Y,j,X,Q,y[0],y[1]),pe=ie(Y,j,X,Q,y[2],y[3]),_e=ie(Y,j,X,Q,y[4],y[5]),Ie=ie(Y,j,X,Q,y[6],y[7]),Me=n(Ne,pe,_e,Ie),Le=Me[0],We=Me[1],Ue,Ye;if(ne===0&&ue===0&&Ne===0&&pe===0&&_e===0&&Ie===0||(Ue=s(Le,We,xe,ke))==null||(Ye=s(Le.reverse(),We.reverse(),xe,ke))==null)return R;var Je=B+(O-B)*Ue,Ze=B+(O-B)*Ye;if(Math.max(U-F,Ze-Je)<G){var Vt=(Je+Ze)/2,Pe=(F+U)/2;e(C,P,b?M:E,b?Pe:Vt,b?E:M,b?Vt:Pe)}else{y=de.getPart(y,Ue,Ye);var bt=U-F;if(Ye-Ue>.8)if(Ze-Je>bt){var kt=de.subdivide(y,.5),Vt=(Je+Ze)/2;R=t(L,kt[0],M,E,C,P,!b,T,R,F,U,Je,Vt),R=t(L,kt[1],M,E,C,P,!b,T,R,F,U,Vt,Ze)}else{var kt=de.subdivide(L,.5),Pe=(F+U)/2;R=t(kt[0],y,M,E,C,P,!b,T,R,F,Pe,Je,Ze),R=t(kt[1],y,M,E,C,P,!b,T,R,Pe,U,Je,Ze)}else bt===0||bt>=G?R=t(L,y,M,E,C,P,!b,T,R,F,U,Je,Ze):R=t(y,L,E,M,C,P,b,T,R,Je,Ze,F,U)}return R}function n(y,L,E,M){var C=[0,y],P=[1/3,L],b=[2/3,E],T=[1,M],R=L-(2*y+M)/3,B=E-(y+2*M)/3,O;if(R*B<0)O=[[C,P,T],[C,b,T]];else{var F=R/B;O=[F>=2?[C,P,T]:F<=.5?[C,b,T]:[C,P,b,T],[C,T]]}return(R||B)<0?O.reverse():O}function s(y,L,E,M){return y[0][1]<E?o(y,!0,E):L[0][1]>M?o(L,!1,M):y[0][0]}function o(y,L,E){for(var M=y[0][0],C=y[0][1],P=1,b=y.length;P<b;P++){var T=y[P][0],R=y[P][1];if(L?R>=E:R<=E)return R===E?T:M+(E-C)*(T-M)/(R-C);M=T,C=R}return null}function f(y,L,E,M,C){var P=D.isZero;if(P(M)&&P(C)){var b=de.getTimeOf(y,new q(L,E));return b===null?[]:[b]}for(var T=Math.atan2(-C,M),R=Math.sin(T),B=Math.cos(T),O=[],F=[],U=0;U<8;U+=2){var G=y[U]-L,Y=y[U+1]-E;O.push(G*B-Y*R,G*R+Y*B)}return de.solveCubic(O,1,0,F,0,1),F}function g(y,L,E,M,C,P,b){for(var T=L[0],R=L[1],B=L[6],O=L[7],F=f(y,T,R,B-T,O-R),U=0,G=F.length;U<G;U++){var Y=F[U],j=de.getPoint(y,Y),X=de.getTimeOf(L,j);X!==null&&e(C,P,b?M:E,b?X:Y,b?E:M,b?Y:X)}}function p(y,L,E,M,C,P){var b=Ve.intersect(y[0],y[1],y[6],y[7],L[0],L[1],L[6],L[7]);b&&e(C,P,E,de.getTimeOf(y,b),M,de.getTimeOf(L,b))}function _(y,L,E,M,C,P){var b=1e-12,T=Math.min,R=Math.max;if(R(y[0],y[2],y[4],y[6])+b>T(L[0],L[2],L[4],L[6])&&T(y[0],y[2],y[4],y[6])-b<R(L[0],L[2],L[4],L[6])&&R(y[1],y[3],y[5],y[7])+b>T(L[1],L[3],L[5],L[7])&&T(y[1],y[3],y[5],y[7])-b<R(L[1],L[3],L[5],L[7])){var B=k(y,L);if(B)for(var O=0;O<2;O++){var F=B[O];e(C,P,E,F[0],M,F[1],!0)}else{var U=de.isStraight(y),G=de.isStraight(L),Y=U&&G,j=U&&!G,X=C.length;if((Y?p:U||G?g:t)(j?L:y,j?y:L,j?M:E,j?E:M,C,P,j,0,0,0,1,0,1),!Y||C.length===X)for(var O=0;O<4;O++){var Q=O>>1,ie=O&1,ne=Q*6,ue=ie*6,ye=new q(y[ne],y[ne+1]),xe=new q(L[ue],L[ue+1]);ye.isClose(xe,b)&&e(C,P,E,Q,M,ie)}}}return C}function v(y,L,E,M){var C=de.classify(y);if(C.type==="loop"){var P=C.roots;e(E,M,L,P[0],L,P[1])}return E}function x(y,L,E,M,C,P){var b=1e-7,T=!L;T&&(L=y);for(var R=y.length,B=L.length,O=new Array(R),F=T?O:new Array(B),U=[],G=0;G<R;G++)O[G]=y[G].getValues(M);if(!T)for(var G=0;G<B;G++)F[G]=L[G].getValues(C);for(var Y=z.findCurveBoundsCollisions(O,F,b),j=0;j<R;j++){var X=y[j],Q=O[j];T&&v(Q,X,U,E);var ie=Y[j];if(ie)for(var ne=0;ne<ie.length;ne++){if(P&&U.length)return U;var ue=ie[ne];if(!T||ue>j){var ye=L[ue],xe=F[ue];_(Q,xe,X,ye,U,E)}}}return U}function k(y,L){function E(Ie){var Me=Ie[6]-Ie[0],Le=Ie[7]-Ie[1];return Me*Me+Le*Le}var M=Math.abs,C=Ve.getDistance,P=1e-8,b=1e-7,T=de.isStraight(y),R=de.isStraight(L),B=T&&R,O=E(y)<E(L),F=O?L:y,U=O?y:L,G=F[0],Y=F[1],j=F[6]-G,X=F[7]-Y;if(C(G,Y,j,X,U[0],U[1],!0)<b&&C(G,Y,j,X,U[6],U[7],!0)<b)!B&&C(G,Y,j,X,F[2],F[3],!0)<b&&C(G,Y,j,X,F[4],F[5],!0)<b&&C(G,Y,j,X,U[2],U[3],!0)<b&&C(G,Y,j,X,U[4],U[5],!0)<b&&(T=R=B=!0);else if(B)return null;if(T^R)return null;for(var Q=[y,L],ie=[],ne=0;ne<4&&ie.length<2;ne++){var ue=ne&1,ye=ue^1,xe=ne>>1,ke=de.getTimeOf(Q[ue],new q(Q[ye][xe?6:0],Q[ye][xe?7:1]));if(ke!=null){var Ne=ue?[xe,ke]:[ke,xe];(!ie.length||M(Ne[0]-ie[0][0])>P&&M(Ne[1]-ie[0][1])>P)&&ie.push(Ne)}if(ne>2&&!ie.length)break}if(ie.length!==2)ie=null;else if(!B){var pe=de.getPart(y,ie[0][0],ie[1][0]),_e=de.getPart(L,ie[0][1],ie[1][1]);(M(_e[2]-pe[2])>b||M(_e[3]-pe[3])>b||M(_e[4]-pe[4])>b||M(_e[5]-pe[5])>b)&&(ie=null)}return ie}function w(y,L){var E=y[0],M=y[1],C=y[2],P=y[3],b=y[4],T=y[5],R=y[6],B=y[7],O=L.normalize(),F=O.x,U=O.y,G=3*R-9*b+9*C-3*E,Y=3*B-9*T+9*P-3*M,j=6*b-12*C+6*E,X=6*T-12*P+6*M,Q=3*C-3*E,ie=3*P-3*M,ne=2*G*U-2*Y*F,ue=[];if(Math.abs(ne)<D.CURVETIME_EPSILON){var ye=G*ie-Y*Q,ne=G*X-Y*j;if(ne!=0){var xe=-ye/ne;xe>=0&&xe<=1&&ue.push(xe)}}else{var ke=(j*j-4*G*Q)*U*U+(-2*j*X+4*Y*Q+4*G*ie)*F*U+(X*X-4*Y*ie)*F*F,Ne=j*U-X*F;if(ke>=0&&ne!=0){var pe=Math.sqrt(ke),_e=-(Ne+pe)/ne,Ie=(-Ne+pe)/ne;_e>=0&&_e<=1&&ue.push(_e),Ie>=0&&Ie<=1&&ue.push(Ie)}}return ue}return{getIntersections:function(y){var L=this.getValues(),E=y&&y!==this&&y.getValues();return E?_(L,E,this,y,[]):v(L,this,[])},statics:{getOverlaps:k,getIntersections:x,getCurveLineIntersections:f,getTimesWithTangent:w}}}),mt=h.extend({_class:"CurveLocation",initialize:function(t,n,s,o,f){if(n>=.99999999){var g=t.getNext();g&&(n=0,t=g)}this._setCurve(t),this._time=n,this._point=s||t.getPointAtTime(n),this._overlap=o,this._distance=f,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),n=this.getTime();n===0?e=t._segment1:n===1?e=t._segment2:n!=null&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function n(s){var o=s&&s.getCurve();if(o&&(t._time=o.getTimeOf(t._point))!=null)return t._setCurve(o),o}return this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),n=this.getIndex();if(t&&n!=null)for(var s=t.getCurves(),o=0;o<n;o++)e+=s[o].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),n=this.getTime();this._curveOffset=e=n!=null&&t&&t.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(t.getLastSegment()),n},equals:function(e,t){var n=this===e;if(!n&&e instanceof mt){var s=this.getCurve(),o=e.getCurve(),f=s._path,g=o._path;if(f===g){var p=Math.abs,_=1e-7,v=p(this.getOffset()-e.getOffset()),x=!t&&this._intersection,k=!t&&e._intersection;n=(v<_||f&&p(f.getLength()-v)<_)&&(!x&&!k||x&&k&&x.equals(k,!0))}}return n},toString:function(){var e=[],t=this.getPoint(),n=H.instance;t&&e.push("point: "+t);var s=this.getIndex();s!=null&&e.push("index: "+s);var o=this.getTime();return o!=null&&e.push("time: "+n.number(o)),this._distance!=null&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),n=e.getTime(),s=1e-8,o=1-s,f=t>=s&&t<=o,g=n>=s&&n<=o;if(f&&g)return!this.isTouching();var p=this.getCurve(),_=p&&t<s?p.getPrevious():p,v=e.getCurve(),x=v&&n<s?v.getPrevious():v;if(t>o&&(p=p.getNext()),n>o&&(v=v.getNext()),!_||!p||!x||!v)return!1;var k=[];function w(F,U){var G=F.getValues(),Y=de.classify(G).roots||de.getPeaks(G),j=Y.length,X=de.getLength(G,U&&j?Y[j-1]:0,!U&&j?Y[0]:1);k.push(j?X:X/32)}function y(F,U,G){return U<G?F>U&&F<G:F>U||F<G}f||(w(_,!0),w(p,!1)),g||(w(x,!0),w(v,!1));var L=this.getPoint(),E=Math.min.apply(Math,k),M=f?p.getTangentAtTime(t):p.getPointAt(E).subtract(L),C=f?M.negate():_.getPointAt(-E).subtract(L),P=g?v.getTangentAtTime(n):v.getPointAt(E).subtract(L),b=g?P.negate():x.getPointAt(-E).subtract(L),T=C.getAngle(),R=M.getAngle(),B=b.getAngle(),O=P.getAngle();return!!(f?y(T,B,O)^y(R,B,O)&&y(T,O,B)^y(R,O,B):y(B,T,R)^y(O,T,R)&&y(B,R,T)^y(O,R,T))},hasOverlap:function(){return!!this._overlap}},h.each(de._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var n=this.getCurve(),s=this.getTime();return s!=null&&n&&n[t](s,!0)}},{preserve:!0}),new function(){function e(t,n,s){var o=t.length,f=0,g=o-1;function p(L,E){for(var M=L+E;M>=-1&&M<=o;M+=E){var C=t[(M%o+o)%o];if(!n.getPoint().isClose(C.getPoint(),1e-7))break;if(n.equals(C))return C}return null}for(;f<=g;){var _=f+g>>>1,v=t[_],x;if(s&&(x=n.equals(v)?v:p(_,-1)||p(_,1)))return n._overlap&&(x._overlap=x._intersection._overlap=!0),x;var k=n.getPath(),w=v.getPath(),y=k!==w?k._id-w._id:n.getIndex()+n.getTime()-(v.getIndex()+v.getTime());y<0?g=_-1:f=_+1}return t.splice(f,0,n),n}return{statics:{insert:e,expand:function(t){for(var n=t.slice(),s=t.length-1;s>=0;s--)e(n,t[s]._intersection,!1);return n}}}}),Ot=A.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,n,s;if(h.isPlainObject(e)?(n=e.segments,t=e.pathData):Array.isArray(e)?n=e:typeof e=="string"&&(t=e),n){var o=n[0];s=o&&Array.isArray(o[0])}else t&&(s=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var f=s?ft:qe;return new f(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),n,s=!1,o,f,g=new q,p=new q;function _(b,T){var R=+n[b];return s&&(R+=g[T]),R}function v(b){return new q(_(b,"x"),_(b+1,"y"))}this.clear();for(var x=0,k=t&&t.length;x<k;x++){var w=t[x],y=w[0],L=y.toLowerCase();n=w.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var E=n&&n.length;switch(s=y===L,o==="z"&&!/[mz]/.test(L)&&this.moveTo(g),L){case"m":case"l":for(var M=L==="m",C=0;C<E;C+=2)this[M?"moveTo":"lineTo"](g=v(C)),M&&(p=g,M=!1);f=g;break;case"h":case"v":var P=L==="h"?"x":"y";g=g.clone();for(var C=0;C<E;C++)g[P]=_(C,P),this.lineTo(g);f=g;break;case"c":for(var C=0;C<E;C+=6)this.cubicCurveTo(v(C),f=v(C+2),g=v(C+4));break;case"s":for(var C=0;C<E;C+=4)this.cubicCurveTo(/[cs]/.test(o)?g.multiply(2).subtract(f):g,f=v(C),g=v(C+2)),o=L;break;case"q":for(var C=0;C<E;C+=4)this.quadraticCurveTo(f=v(C),g=v(C+2));break;case"t":for(var C=0;C<E;C+=2)this.quadraticCurveTo(f=/[qt]/.test(o)?g.multiply(2).subtract(f):g,g=v(C)),o=L;break;case"a":for(var C=0;C<E;C+=7)this.arcTo(g=v(C+5),new J(+n[C],+n[C+1]),+n[C+2],+n[C+4],+n[C+3]);break;case"z":this.closePath(1e-12),g=p;break}o=L}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,n,s){var o=this===e||!e,f=this._matrix._orNullIfIdentity(),g=o?f:(n||e._matrix)._orNullIfIdentity();return o||this.getBounds(f).intersects(e.getBounds(g),1e-12)?de.getIntersections(this.getCurves(),!o&&e.getCurves(),t,f,g,s):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=q.read(arguments),t=this.getCurves(),n=1/0,s=null,o=0,f=t.length;o<f;o++){var g=t[o].getNearestLocation(e);g._distance<n&&(n=g._distance,s=g)}return s},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,n){var s=!this._children,o=s?"_segments":"_children",f=e[o],g=t[o],p=this[o];if(!f||!g||f.length!==g.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var _=p.length,v=g.length;if(_<v)for(var x=s?me:qe,k=_;k<v;k++)this.add(new x);else _>v&&this[s?"removeSegments":"removeChildren"](v,_);for(var k=0;k<v;k++)p[k].interpolate(f[k],g[k],n);s&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var n=this._children||[this],s=e._children?e._children.slice():[e],o=n.length,f=s.length,g=[],p=0;t=!0;for(var _=z.findItemBoundsCollisions(n,s,D.GEOMETRIC_EPSILON),v=o-1;v>=0&&t;v--){var x=n[v];t=!1;var k=_[v];if(k)for(var w=k.length-1;w>=0&&!t;w--)x.compare(s[k[w]])&&(g[k[w]]||(g[k[w]]=!0,p++),t=!0)}t=t&&p===f}return t}}),qe=Ot.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var n=arguments,s=Array.isArray(t)?typeof t[0]=="object"?t:n:t&&t.size===u&&(t.x!==u||t.point!==u)?n:null;s&&s.length>0?this.setSegments(s):(this._curves=u,this._segmentSelection=0,!s&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!s&&t)},_equals:function(e){return this._closed===e._closed&&h.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=u,t&32)this._version++;else if(this._curves)for(var n=0,s=this._curves.length;n<s;n++)this._curves[n]._changed()}else t&64&&(this._bounds=u)},getStyle:function(){var e=this._parent;return(e instanceof ft?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),n=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=u,n){var s=e[n-1];typeof s=="boolean"&&(this.setClosed(s),n--),this._add(me.readList(e,0,{},n))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var s=0;s<n;s++)e[s]=new de(this,t[s],t[s+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new de(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var n=this._segments,s=n.length,o=new H(t),f=new Array(6),g=!0,p,_,v,x,k,w,y,L,E=[];function M(P,b){if(P._transformCoordinates(e,f),p=f[0],_=f[1],g)E.push("M"+o.pair(p,_)),g=!1;else if(k=f[2],w=f[3],k===p&&w===_&&y===v&&L===x){if(!b){var T=p-v,R=_-x;E.push(T===0?"v"+o.number(R):R===0?"h"+o.number(T):"l"+o.pair(T,R))}}else E.push("c"+o.pair(y-v,L-x)+" "+o.pair(k-v,w-x)+" "+o.pair(p-v,_-x));v=p,x=_,y=f[4],L=f[5]}if(!s)return"";for(var C=0;C<s;C++)M(n[C]);return this._closed&&s>0&&(M(n[0],!0),E.push("z")),E.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,n=new Array(6),s=0,o=t.length;s<o;s++)t[s]._transformCoordinates(e,n,!0);return!0},_add:function(e,g){for(var n=this._segments,s=this._curves,o=e.length,f=g==null,g=f?n.length:g,p=0;p<o;p++){var _=e[p];_._path&&(_=e[p]=_.clone()),_._path=this,_._index=g+p,_._selection&&this._updateSelection(_,0,_._selection)}if(f)h.push(n,e);else{n.splice.apply(n,[g,0].concat(e));for(var p=g+o,v=n.length;p<v;p++)n[p]._index=p}if(s){var x=this._countCurves(),k=g>0&&g+o-1===x?g-1:g,w=k,y=Math.min(k+o,x);e._curves&&(s.splice.apply(s,[k,0].concat(e._curves)),w+=e._curves.length);for(var p=w;p<y;p++)s.splice(p,0,new de(this,null,null));this._adjustCurves(k,y)}return this._changed(41),e},_adjustCurves:function(e,t){for(var n=this._segments,s=this._curves,o,f=e;f<t;f++)o=s[f],o._path=this,o._segment1=n[f],o._segment2=n[f+1]||n[0],o._changed();(o=s[this._closed&&!e?n.length-1:e-1])&&(o._segment2=n[e]||n[0],o._changed()),(o=s[t])&&(o._segment1=n[t],o._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(me.readList(t)):this._add([me.read(t)])[0]},insert:function(e,t){var n=arguments;return n.length>2&&typeof t!="number"?this._add(me.readList(n,1),e):this._add([me.read(n,1)],e)[0]},addSegment:function(){return this._add([me.read(arguments)])[0]},insertSegment:function(e){return this._add([me.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(me.readList(e))},insertSegments:function(e,t){return this._add(me.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e=e||0,t=h.pick(t,this._segments.length);var s=this._segments,o=this._curves,f=s.length,g=s.splice(e,t-e),p=g.length;if(!p)return g;for(var _=0;_<p;_++){var v=g[_];v._selection&&this._updateSelection(v,v._selection,0),v._index=v._path=null}for(var _=e,x=s.length;_<x;_++)s[_]._index=_;if(o){for(var k=e>0&&t===f+(this._closed?1:0)?e-1:e,o=o.splice(k,p),_=o.length-1;_>=0;_--)o[_]._path=null;n&&(g._curves=o.slice(1)),this._adjustCurves(k,k)}return this._changed(41),g},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,n=0,s=e.length;n<s;n++)t+=e[n].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,n=this._closed;e=0;for(var s=0,o=t.length;s<o;s++){var f=s+1===o;e+=de.getArea(de.getValues(t[s],t[f?0:s+1],null,f&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,n=t.length,s=e?7:0;this._segmentSelection=s*n;for(var o=0;o<n;o++)t[o]._selection=s},_updateSelection:function(e,t,n){e._selection=n;var s=this._segmentSelection+=n-t;s>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),n;return t&&(n=t.getCurve().divideAt(t.getCurveOffset()))?n._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),n=t&&t.index,s=t&&t.time,o=1e-8,f=1-o;s>f&&(n++,s=0);var g=this.getCurves();if(n>=0&&n<g.length){s>=o&&g[n++].divideAtTime(s);var p=this.removeSegments(n,this._segments.length,!0),_;return this._closed?(this.setClosed(!1),_=this):(_=new qe(A.NO_INSERT),_.insertAbove(this),_.copyAttributes(this)),_._add(p,0),this.addSegment(p[0]),_}return null},split:function(e,t){var n,s=t===u?e:(n=this.getCurves()[e])&&n.getLocationAtTime(t);return s!=null?this.splitAt(s):null},join:function(e,t){var n=t||0;if(e&&e!==this){var s=e._segments,o=this.getLastSegment(),f=e.getLastSegment();if(!f)return this;o&&o._point.isClose(f._point,n)&&e.reverse();var g=e.getFirstSegment();if(o&&o._point.isClose(g._point,n))o.setHandleOut(g._handleOut),this._add(s.slice(1));else{var p=this.getFirstSegment();p&&p._point.isClose(g._point,n)&&e.reverse(),f=e.getLastSegment(),p&&p._point.isClose(f._point,n)?(p.setHandleIn(f._handleIn),this._add(s.slice(0,s.length-1),0)):this._add(s.slice())}e._closed&&this._add([s[0]]),e.remove()}var _=this.getFirstSegment(),v=this.getLastSegment();return _!==v&&_._point.isClose(v._point,n)&&(_.setHandleIn(v._handleIn),v.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,s=n?1e-7:0,o=t.length-1;o>=0;o--){var f=t[o];!f.hasHandles()&&(!f.hasLength(s)||n&&f.isCollinear(f.getNext()))&&f.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var n=this._segments[e],s=n._handleIn;n._handleIn=n._handleOut,n._handleOut=s,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new Yt(this,e||.25,256,!0),n=t.parts,s=n.length,o=[],f=0;f<s;f++)o.push(new me(n[f].curve.slice(0,2)));!this._closed&&s>0&&o.push(new me(n[s-1].curve.slice(6))),this.setSegments(o)},simplify:function(e){var t=new ni(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,n=e||{},s=n.type||"asymmetric",o=this._segments,f=o.length,g=this._closed;function p(Le,We){var Ue=Le&&Le.index;if(Ue!=null){var Ye=Le.path;if(Ye&&Ye!==t)throw new Error(Le._class+" "+Ue+" of "+Ye+" is not part of "+t);We&&Le instanceof de&&Ue++}else Ue=typeof Le=="number"?Le:We;return Math.min(Ue<0&&g?Ue%f:Ue<0?Ue+f:Ue,f-1)}var _=g&&n.from===u&&n.to===u,v=p(n.from,0),x=p(n.to,f-1);if(v>x)if(g)v-=f;else{var k=v;v=x,x=k}if(/^(?:asymmetric|continuous)$/.test(s)){var w=s==="asymmetric",y=Math.min,L=x-v+1,E=L-1,M=_?y(L,4):1,C=M,P=M,b=[];if(g||(C=y(1,v),P=y(1,f-x-1)),E+=C+P,E<=1)return;for(var T=0,R=v-C;T<=E;T++,R++)b[T]=o[(R<0?R+f:R)%f]._point;for(var B=b[0]._x+2*b[1]._x,O=b[0]._y+2*b[1]._y,F=2,U=E-1,G=[B],Y=[O],j=[F],X=[],Q=[],T=1;T<E;T++){var ie=T<U,ne=ie||w?1:2,ue=ie?4:w?2:7,ye=ie?4:w?3:8,xe=ie?2:w?0:1,ke=ne/F;F=j[T]=ue-ke,B=G[T]=ye*b[T]._x+xe*b[T+1]._x-ke*B,O=Y[T]=ye*b[T]._y+xe*b[T+1]._y-ke*O}X[U]=G[U]/j[U],Q[U]=Y[U]/j[U];for(var T=E-2;T>=0;T--)X[T]=(G[T]-X[T+1])/j[T],Q[T]=(Y[T]-Q[T+1])/j[T];X[E]=(3*b[E]._x-X[U])/2,Q[E]=(3*b[E]._y-Q[U])/2;for(var T=C,Ne=E-P,R=v;T<=Ne;T++,R++){var pe=o[R<0?R+f:R],_e=pe._point,Ie=X[T]-_e._x,Me=Q[T]-_e._y;(_||T<Ne)&&pe.setHandleOut(Ie,Me),(_||T>C)&&pe.setHandleIn(-Ie,-Me)}}else for(var T=v;T<=x;T++)o[T<0?T+f:T].smooth(n,!_&&T===v,!_&&T===x)},toShape:function(e){if(!this._closed)return null;var t=this._segments,n,s,o,f;function g(w,y){var L=t[w],E=L.getNext(),M=t[y],C=M.getNext();return L._handleOut.isZero()&&E._handleIn.isZero()&&M._handleOut.isZero()&&C._handleIn.isZero()&&E._point.subtract(L._point).isCollinear(C._point.subtract(M._point))}function p(w){var y=t[w],L=y.getPrevious(),E=y.getNext();return L._handleOut.isZero()&&y._handleIn.isZero()&&y._handleOut.isZero()&&E._handleIn.isZero()&&y._point.subtract(L._point).isOrthogonal(E._point.subtract(y._point))}function _(w){var y=t[w],L=y.getNext(),E=y._handleOut,M=L._handleIn,C=.5522847498307936;if(E.isOrthogonal(M)){var P=y._point,b=L._point,T=new Ve(P,E,!0).intersect(new Ve(b,M,!0),!0);return T&&D.isZero(E.getLength()/T.subtract(P).getLength()-C)&&D.isZero(M.getLength()/T.subtract(b).getLength()-C)}return!1}function v(w,y){return t[w]._point.getDistance(t[y]._point)}if(!this.hasHandles()&&t.length===4&&g(0,2)&&g(1,3)&&p(1)?(n=je.Rectangle,s=new J(v(0,3),v(0,1)),f=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&_(0)&&_(2)&&_(4)&&_(6)&&g(1,5)&&g(3,7)?(n=je.Rectangle,s=new J(v(1,6),v(0,3)),o=s.subtract(new J(v(0,7),v(1,2))).divide(2),f=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&_(0)&&_(1)&&_(2)&&_(3)&&(D.isZero(v(0,2)-v(1,3))?(n=je.Circle,o=v(0,2)/2):(n=je.Ellipse,o=new J(v(2,0)/2,v(3,1)/2)),f=t[1]._point),n){var x=this.getPosition(!0),k=new n({center:x,size:s,radius:o,insert:!1});return k.copyAttributes(this,!0),k._matrix.prepend(this._matrix),k.rotate(f.subtract(x).getAngle()+90),(e===u||e)&&k.insertAbove(this),k}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof ft)return e.base.call(this,t);var n=this.getCurves(),s=t.getCurves(),o=n.length,f=s.length;if(!o||!f)return o==f;for(var g=n[0].getValues(),p=[],_=0,v,x=0,k,w=0;w<f;w++){var M=s[w].getValues();p.push(M);var y=de.getOverlaps(g,M);if(y){v=!w&&y[0][0]>0?f-1:w,k=y[0][1];break}}for(var L=Math.abs,E=1e-8,M=p[v],C;g&&M;){var y=de.getOverlaps(g,M);if(y){var P=y[0][0];if(L(P-x)<E){x=y[1][0],x===1&&(g=++_<o?n[_].getValues():null,x=0);var b=y[0][1];if(L(b-k)<E){if(C||(C=[v,b]),k=y[1][1],k===1&&(++v>=f&&(v=0),M=p[v]||s[v].getValues(),k=0),!g)return C[0]===v&&C[1]===k;continue}}}break}return!1},_hitTestSelf:function(e,t,n,s){var o=this,f=this.getStyle(),g=this._segments,p=g.length,_=this._closed,v=t._tolerancePadding,x=v,k,w,y,L,E,M,C=t.stroke&&f.hasStroke(),P=t.fill&&f.hasFill(),b=t.curves,T=C?f.getStrokeWidth()/2:P&&t.tolerance>0||b?0:null;T!==null&&(T>0?(k=f.getStrokeJoin(),w=f.getStrokeCap(),y=f.getMiterLimit(),x=x.add(qe._getStrokePadding(T,s))):k=w="round");function R(X,Q){return e.subtract(X).divide(Q).length<=1}function B(X,Q,ie){if(!t.selected||Q.isSelected()){var ne=X._point;if(Q!==ne&&(Q=Q.add(ne)),R(Q,x))return new Ce(ie,o,{segment:X,point:Q})}}function O(X,Q){return(Q||t.segments)&&B(X,X._point,"segment")||!Q&&t.handles&&(B(X,X._handleIn,"handle-in")||B(X,X._handleOut,"handle-out"))}function F(X){L.add(X)}function U(X){var Q=_||X._index>0&&X._index<p-1;if((Q?k:w)==="round")return R(X._point,x);if(L=new qe({internal:!0,closed:!0}),Q?X.isSmooth()||qe._addBevelJoin(X,k,T,y,null,s,F,!0):w==="square"&&qe._addSquareCap(X,w,T,null,s,F,!0),!L.isEmpty()){var ie;return L.contains(e)||(ie=L.getNearestLocation(e))&&R(ie.getPoint(),v)}}if(t.ends&&!t.segments&&!_){if(M=O(g[0],!0)||O(g[p-1],!0))return M}else if(t.segments||t.handles){for(var G=0;G<p;G++)if(M=O(g[G]))return M}if(T!==null){if(E=this.getNearestLocation(e),E){var Y=E.getTime();Y===0||Y===1&&p>1?U(E.getSegment())||(E=null):R(E.getPoint(),x)||(E=null)}if(!E&&k==="miter"&&p>1)for(var G=0;G<p;G++){var j=g[G];if(e.getDistance(j._point)<=y*T&&U(j)){E=j.getLocation();break}}}return!E&&P&&this._contains(e)||E&&!C&&!b?new Ce("fill",this):E?new Ce(C?"stroke":"curve",this,{location:E,point:E.getPoint()}):null}},h.each(de._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this.getLocationAt(t);return n&&n[e]()}},{beans:!1,getLocationOf:function(){for(var e=q.read(arguments),t=this.getCurves(),n=0,s=t.length;n<s;n++){var o=t[n].getLocationOf(e);if(o)return o}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),n=0,s=0,o=t.length;s<o;s++){var f=n,g=t[s];if(n+=g.getLength(),n>e)return g.getLocationAt(e-f)}if(t.length>0&&e<=this.getLength())return new mt(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=q.read(arguments);if(e.isZero())return[];for(var t=[],n=0,s=this.getCurves(),o=0,f=s.length;o<f;o++){for(var g=s[o],p=g.getTimesWithTangent(e),_=0,v=p.length;_<v;_++){var x=n+g.getOffsetAtTime(p[_]);t.indexOf(x)<0&&t.push(x)}n+=g.length}return t}}),new function(){function e(n,s,o,f){if(f<=0)return;var g=f/2,p=f-2,_=g-1,v=new Array(6),x,k;function w(P){var b=v[P],T=v[P+1];(x!=b||k!=T)&&(n.beginPath(),n.moveTo(x,k),n.lineTo(b,T),n.stroke(),n.beginPath(),n.arc(b,T,g,0,Math.PI*2,!0),n.fill())}for(var y=0,L=s.length;y<L;y++){var E=s[y],M=E._selection;if(E._transformCoordinates(o,v),x=v[0],k=v[1],M&2&&w(2),M&4&&w(4),n.fillRect(x-g,k-g,f,f),p>0&&!(M&1)){var C=n.fillStyle;n.fillStyle="#ffffff",n.fillRect(x-_,k-_,p,p),n.fillStyle=C}}}function t(n,s,o){var f=s._segments,g=f.length,p=new Array(6),_=!0,v,x,k,w,y,L,E,M;function C(b){if(o)b._transformCoordinates(o,p),v=p[0],x=p[1];else{var T=b._point;v=T._x,x=T._y}if(_)n.moveTo(v,x),_=!1;else{if(o)y=p[2],L=p[3];else{var R=b._handleIn;y=v+R._x,L=x+R._y}y===v&&L===x&&E===k&&M===w?n.lineTo(v,x):n.bezierCurveTo(E,M,y,L,v,x)}if(k=v,w=x,o)E=p[4],M=p[5];else{var R=b._handleOut;E=k+R._x,M=w+R._y}}for(var P=0;P<g;P++)C(f[P]);s._closed&&g>0&&C(f[0])}return{_draw:function(n,s,o,f){var g=s.dontStart,p=s.dontFinish||s.clip,_=this.getStyle(),v=_.hasFill(),x=_.hasStroke(),k=_.getDashArray(),w=!nt.support.nativeDash&&x&&k&&k.length;g||n.beginPath(),(v||x&&!w||p)&&(t(n,this,f),this._closed&&n.closePath());function y(b){return k[(b%w+w)%w]}if(!p&&(v||x)&&(this._setStyles(n,s,o),v&&(n.fill(_.getFillRule()),n.shadowColor="rgba(0,0,0,0)"),x)){if(w){g||n.beginPath();for(var L=new Yt(this,.25,32,!1,f),E=L.length,M=-_.getDashOffset(),C,P=0;M>0;)M-=y(P--)+y(P--);for(;M<E;)C=M+y(P++),(M>0||C>0)&&L.drawPart(n,Math.max(M,0),Math.max(C,0)),M=C+y(P++)}n.stroke()}},_drawSelected:function(n,s){n.beginPath(),t(n,this,s),n.stroke(),e(n,this._segments,s,nt.settings.handleSize)}}},new function(){function e(t){var n=t._segments;if(!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new me(q.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new me(q.read(arguments))])},cubicCurveTo:function(){var t=arguments,n=q.read(t),s=q.read(t),o=q.read(t),f=e(this);f.setHandleOut(n.subtract(f._point)),this._add([new me(o,s.subtract(o))])},quadraticCurveTo:function(){var t=arguments,n=q.read(t),s=q.read(t),o=e(this)._point;this.cubicCurveTo(n.add(o.subtract(n).multiply(1/3)),n.add(s.subtract(n).multiply(1/3)),s)},curveTo:function(){var t=arguments,n=q.read(t),s=q.read(t),o=h.pick(h.read(t),.5),f=1-o,g=e(this)._point,p=n.subtract(g.multiply(f*f)).subtract(s.multiply(o*o)).divide(2*o*f);if(p.isNaN())throw new Error("Cannot put a curve through points with parameter = "+o);this.quadraticCurveTo(p,s)},arcTo:function(){var t=arguments,n=Math.abs,s=Math.sqrt,o=e(this),f=o._point,g=q.read(t),p,_=h.peek(t),v=h.pick(_,!0),x,k,w,y;if(typeof v=="boolean")var L=f.add(g).divide(2),p=L.add(L.subtract(f).rotate(v?-90:90));else if(h.remain(t)<=2)p=g,g=q.read(t);else if(!f.equals(g)){var E=J.read(t),M=D.isZero;if(M(E.width)||M(E.height))return this.lineTo(g);var C=h.read(t),v=!!h.read(t),P=!!h.read(t),L=f.add(g).divide(2),b=f.subtract(L).rotate(-C),T=b.x,R=b.y,B=n(E.width),O=n(E.height),F=B*B,U=O*O,G=T*T,Y=R*R,j=s(G/F+Y/U);if(j>1&&(B*=j,O*=j,F=B*B,U=O*O),j=(F*U-F*Y-U*G)/(F*Y+U*G),n(j)<1e-12&&(j=0),j<0)throw new Error("Cannot create an arc with the given arguments");x=new q(B*R/O,-O*T/B).multiply((P===v?-1:1)*s(j)).rotate(C).add(L),y=new ge().translate(x).rotate(C).scale(B,O),w=y._inverseTransform(f),k=w.getDirectedAngle(y._inverseTransform(g)),!v&&k>0?k-=360:v&&k<0&&(k+=360)}if(p){var X=new Ve(f.add(p).divide(2),p.subtract(f).rotate(90),!0),Q=new Ve(p.add(g).divide(2),g.subtract(p).rotate(90),!0),ie=new Ve(f,g),ne=ie.getSide(p);if(x=X.intersect(Q,!0),!x){if(!ne)return this.lineTo(g);throw new Error("Cannot create an arc with the given arguments")}w=f.subtract(x),k=w.getDirectedAngle(g.subtract(x));var ue=ie.getSide(x,!0);ue===0?k=ne*n(k):ne===ue&&(k+=k<0?360:-360)}if(k){for(var ye=1e-5,xe=n(k),ke=xe>=360?4:Math.ceil((xe-ye)/90),Ne=k/ke,pe=Ne*Math.PI/360,_e=4/3*Math.sin(pe)/(1+Math.cos(pe)),Ie=[],Me=0;Me<=ke;Me++){var b=g,Le=null;if(Me<ke&&(Le=w.rotate(90).multiply(_e),y?(b=y._transformPoint(w),Le=y._transformPoint(w.add(Le)).subtract(b)):b=x.add(w)),!Me)o.setHandleOut(Le);else{var We=w.rotate(-90).multiply(_e);y&&(We=y._transformPoint(w.add(We)).subtract(b)),Ie.push(new me(b,We,Le))}w=w.rotate(Ne)}this._add(Ie)}},lineBy:function(){var t=q.read(arguments),n=e(this)._point;this.lineTo(n.add(t))},curveBy:function(){var t=arguments,n=q.read(t),s=q.read(t),o=h.read(t),f=e(this)._point;this.curveTo(f.add(n),f.add(s),o)},cubicCurveBy:function(){var t=arguments,n=q.read(t),s=q.read(t),o=q.read(t),f=e(this)._point;this.cubicCurveTo(f.add(n),f.add(s),f.add(o))},quadraticCurveBy:function(){var t=arguments,n=q.read(t),s=q.read(t),o=e(this)._point;this.quadraticCurveTo(o.add(n),o.add(s))},arcBy:function(){var t=arguments,n=e(this)._point,s=n.add(q.read(t)),o=h.pick(h.peek(t),!0);typeof o=="boolean"?this.arcTo(s,o):this.arcTo(s,n.add(q.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var n=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return qe[n](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,n,s,o,f){var g=e[0];if(!g)return new te;var p=new Array(6),_=g._transformCoordinates(s,new Array(6)),v=_.slice(0,2),x=v.slice(),k=new Array(2);function w(E){E._transformCoordinates(s,p);for(var M=0;M<2;M++)de._addBounds(_[M],_[M+4],p[M+2],p[M],M,f?f[M]:0,v,x,k);var C=_;_=p,p=C}for(var y=1,L=e.length;y<L;y++)w(e[y]);return t&&w(g),new te(v[0],v[1],x[0]-v[0],x[1]-v[1])},getStrokeBounds:function(e,t,n,s,o){var f=n.getStyle(),g=f.hasStroke(),p=f.getStrokeWidth(),_=g&&n._getStrokeMatrix(s,o),v=g&&qe._getStrokePadding(p,_),x=qe.getBounds(e,t,n,s,o,v);if(!g)return x;var k=p/2,w=f.getStrokeJoin(),y=f.getStrokeCap(),L=f.getMiterLimit(),E=new te(new J(v));function M(B){x=x.include(B)}function C(B){x=x.unite(E.setCenter(B._point.transform(s)))}function P(B,O){O==="round"||B.isSmooth()?C(B):qe._addBevelJoin(B,O,k,L,s,_,M)}function b(B,O){O==="round"?C(B):qe._addSquareCap(B,O,k,s,_,M)}var T=e.length-(t?0:1);if(T>0){for(var R=1;R<T;R++)P(e[R],w);t?P(e[0],w):(b(e[0],y),b(e[e.length-1],y))}return x},_getStrokePadding:function(e,t){if(!t)return[e,e];var n=new q(e,0).transform(t),s=new q(0,e).transform(t),o=n.getAngleInRadians(),f=n.getLength(),g=s.getLength(),p=Math.sin(o),_=Math.cos(o),v=Math.tan(o),x=Math.atan2(g*v,f),k=Math.atan2(g,v*f);return[Math.abs(f*Math.cos(x)*_+g*Math.sin(x)*p),Math.abs(g*Math.sin(k)*_+f*Math.cos(k)*p)]},_addBevelJoin:function(e,t,n,s,o,f,g,p){var _=e.getCurve(),v=_.getPrevious(),x=_.getPoint1().transform(o),k=v.getNormalAtTime(1).multiply(n).transform(f),w=_.getNormalAtTime(0).multiply(n).transform(f),y=k.getDirectedAngle(w);if((y<0||y>=180)&&(k=k.negate(),w=w.negate()),p&&g(x),g(x.add(k)),t==="miter"){var L=new Ve(x.add(k),new q(-k.y,k.x),!0).intersect(new Ve(x.add(w),new q(-w.y,w.x),!0),!0);L&&x.getDistance(L)<=s*n&&g(L)}g(x.add(w))},_addSquareCap:function(e,t,n,s,o,f,g){var p=e._point.transform(s),_=e.getLocation(),v=_.getNormal().multiply(_.getTime()===0?n:-n).transform(o);t==="square"&&(g&&(f(p.subtract(v)),f(p.add(v))),p=p.add(v.rotate(-90))),f(p.add(v)),f(p.subtract(v))},getHandleBounds:function(e,t,n,s,o){var f=n.getStyle(),g=o.stroke&&f.hasStroke(),p,_;if(g){var v=n._getStrokeMatrix(s,o),x=f.getStrokeWidth()/2,k=x;f.getStrokeJoin()==="miter"&&(k=x*f.getMiterLimit()),f.getStrokeCap()==="square"&&(k=Math.max(k,x*Math.SQRT2)),p=qe._getStrokePadding(x,v),_=qe._getStrokePadding(k,v)}for(var w=new Array(6),y=1/0,L=-y,E=y,M=L,C=0,P=e.length;C<P;C++){var b=e[C];b._transformCoordinates(s,w);for(var T=0;T<6;T+=2){var R=T?p:_,B=R?R[0]:0,O=R?R[1]:0,F=w[T],U=w[T+1],G=F-B,Y=F+B,j=U-O,X=U+O;G<y&&(y=G),Y>L&&(L=Y),j<E&&(E=j),X>M&&(M=X)}}return new te(y,E,L-y,M-E)}}});qe.inject({statics:new function(){var e=.5522847498307936,t=[new me([-1,0],[0,e],[0,-e]),new me([0,-1],[-e,0],[e,0]),new me([1,0],[0,-e],[0,e]),new me([0,1],[e,0],[-e,0])];function n(o,f,g){var p=h.getNamed(g),_=new qe(p&&(p.insert==!0?A.INSERT:p.insert==!1?A.NO_INSERT:null));return _._add(o),_._closed=f,_.set(p,A.INSERT)}function s(o,f,g){for(var p=new Array(4),_=0;_<4;_++){var v=t[_];p[_]=new me(v._point.multiply(f).add(o),v._handleIn.multiply(f),v._handleOut.multiply(f))}return n(p,!0,g)}return{Line:function(){var o=arguments;return n([new me(q.readNamed(o,"from")),new me(q.readNamed(o,"to"))],!1,o)},Circle:function(){var o=arguments,f=q.readNamed(o,"center"),g=h.readNamed(o,"radius");return s(f,new J(g),o)},Rectangle:function(){var o=arguments,f=te.readNamed(o,"rectangle"),g=J.readNamed(o,"radius",0,{readNull:!0}),p=f.getBottomLeft(!0),_=f.getTopLeft(!0),v=f.getTopRight(!0),x=f.getBottomRight(!0),k;if(!g||g.isZero())k=[new me(p),new me(_),new me(v),new me(x)];else{g=J.min(g,f.getSize(!0).divide(2));var w=g.width,y=g.height,L=w*e,E=y*e;k=[new me(p.add(w,0),null,[-L,0]),new me(p.subtract(0,y),[0,E]),new me(_.add(0,y),null,[0,-E]),new me(_.add(w,0),[-L,0],null),new me(v.subtract(w,0),null,[L,0]),new me(v.add(0,y),[0,-E],null),new me(x.subtract(0,y),null,[0,E]),new me(x.subtract(w,0),[L,0])]}return n(k,!0,o)},RoundRectangle:"#Rectangle",Ellipse:function(){var o=arguments,f=je._readEllipse(o);return s(f.center,f.radius,o)},Oval:"#Ellipse",Arc:function(){var o=arguments,f=q.readNamed(o,"from"),g=q.readNamed(o,"through"),p=q.readNamed(o,"to"),_=h.getNamed(o),v=new qe(_&&_.insert==!1&&A.NO_INSERT);return v.moveTo(f),v.arcTo(g,p),v.set(_)},RegularPolygon:function(){for(var o=arguments,f=q.readNamed(o,"center"),g=h.readNamed(o,"sides"),p=h.readNamed(o,"radius"),_=360/g,v=g%3===0,x=new q(0,v?-p:p),k=v?-1:.5,w=new Array(g),y=0;y<g;y++)w[y]=new me(f.add(x.rotate((y+k)*_)));return n(w,!0,o)},Star:function(){for(var o=arguments,f=q.readNamed(o,"center"),g=h.readNamed(o,"points")*2,p=h.readNamed(o,"radius1"),_=h.readNamed(o,"radius2"),v=360/g,x=new q(0,-1),k=new Array(g),w=0;w<g;w++)k[w]=new me(f.add(x.rotate(v*w).multiply(w%2?_:p)));return n(k,!0,o)}}}});var ft=Ot.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,n){var s=n,o=s[0];o&&typeof o[0]=="number"&&(s=[s]);for(var f=n.length-1;f>=0;f--){var g=s[f];s===n&&!(g instanceof qe)&&(s=h.slice(s)),Array.isArray(g)?s[f]=new qe({segments:g,insert:!1}):g instanceof ft&&(s.splice.apply(s,[f,1].concat(g.removeChildren())),g.remove())}return e.base.call(this,t,s)},reduce:function e(t){for(var n=this._children,s=n.length-1;s>=0;s--){var o=n[s].reduce(t);o.isEmpty()&&o.remove()}if(!n.length){var o=new qe(A.NO_INSERT);return o.copyAttributes(this),o.insertAbove(this),this.remove(),o}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,n=0,s=t.length;n<s;n++)t[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,s=e.length;n<s;n++)h.push(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,n=0,s=e.length;n<s;n++)t+=e[n].getArea();return t},getLength:function(){for(var e=this._children,t=0,n=0,s=e.length;n<s;n++)t+=e[n].getLength();return t},getPathData:function(e,t){for(var n=this._children,s=[],o=0,f=n.length;o<f;o++){var g=n[o],p=g._matrix;s.push(g.getPathData(e&&!p.isIdentity()?e.appended(p):e,t))}return s.join("")},_hitTestChildren:function e(t,n,s){return e.base.call(this,t,n.class===qe||n.type==="path"?n:h.set({},n,{fill:!1}),s)},_draw:function(e,t,n,s){var o=this._children;if(o.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var f=0,g=o.length;f<g;f++)o[f].draw(e,t,s);if(!t.clip){this._setStyles(e,t,n);var p=this._style;p.hasFill()&&(e.fill(p.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),p.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var s=this._children,o=0,f=s.length;o<f;o++){var g=s[o],p=g._matrix;n[g._id]||g._drawSelected(e,p.isIdentity()?t:t.appended(p))}}},new function(){function e(t,n){var s=t._children;if(n&&!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return h.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var n=e(this,!0);n[t].apply(n,arguments)}},{moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new qe(A.NO_INSERT);n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),s=q.read(arguments);this.moveTo(n?s.add(n._point):s)},closePath:function(t){e(this,!0).closePath(t)}})},h.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var n=this._children,s,o=0,f=n.length;o<f;o++)s=n[o][e](t)||s;return s}},{}));Ot.inject(new function(){var e=Math.min,t=Math.max,n=Math.abs,s={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function o(C){return C._children||[C]}function f(C,P){var b=C.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(P){for(var T=o(b),R=0,B=T.length;R<B;R++){var C=T[R];!C._closed&&!C.isEmpty()&&(C.closePath(1e-12),C.getFirstSegment().setHandleIn(0,0),C.getLastSegment().setHandleOut(0,0))}b=b.resolveCrossings().reorient(b.getFillRule()==="nonzero",!0)}return b}function g(C,P,b,T,R){var B=new ft(A.NO_INSERT);return B.addChildren(C,!0),B=B.reduce({simplify:P}),R&&R.insert==!1||B.insertAbove(T&&b.isSibling(T)&&b.getIndex()<T.getIndex()?T:b),B.copyAttributes(b,!0),B}function p(C){return C.hasOverlap()||C.isCrossing()}function _(C,P,b,T){if(T&&(T.trace==!1||T.stroke)&&/^(subtract|intersect)$/.test(b))return v(C,P,b);var R=f(C,!0),B=P&&C!==P&&f(P,!0),O=s[b];O[b]=!0,B&&(O.subtract||O.exclude)^(B.isClockwise()^R.isClockwise())&&B.reverse();var F=y(mt.expand(R.getIntersections(B,p))),U=o(R),G=B&&o(B),Y=[],j=[],X;function Q(Le){for(var We=0,Ue=Le.length;We<Ue;We++){var Ye=Le[We];h.push(Y,Ye._segments),h.push(j,Ye.getCurves()),Ye._overlapsOnly=!0}}function ie(Le){for(var We=[],Ue=0,Ye=Le&&Le.length;Ue<Ye;Ue++)We.push(j[Le[Ue]]);return We}if(F.length){Q(U),G&&Q(G);for(var ne=new Array(j.length),ue=0,ye=j.length;ue<ye;ue++)ne[ue]=j[ue].getValues();for(var xe=z.findCurveBoundsCollisions(ne,ne,0,!0),ke={},ue=0;ue<j.length;ue++){var Ne=j[ue],pe=Ne._path._id,_e=ke[pe]=ke[pe]||{};_e[Ne.getIndex()]={hor:ie(xe[ue].hor),ver:ie(xe[ue].ver)}}for(var ue=0,ye=F.length;ue<ye;ue++)E(F[ue]._segment,R,B,ke,O);for(var ue=0,ye=Y.length;ue<ye;ue++){var Ie=Y[ue],Me=Ie._intersection;Ie._winding||E(Ie,R,B,ke,O),Me&&Me._overlap||(Ie._path._overlapsOnly=!1)}X=M(Y,O)}else X=w(G?U.concat(G):U.slice(),function(Le){return!!O[Le]});return g(X,!0,C,P,T)}function v(C,P,b){var T=f(C),R=f(P),B=T.getIntersections(R,p),O=b==="subtract",F=b==="divide",U={},G=[];function Y(Q){if(!U[Q._id]&&(F||R.contains(Q.getPointAt(Q.getLength()/2))^O))return G.unshift(Q),U[Q._id]=!0}for(var j=B.length-1;j>=0;j--){var X=B[j].split();X&&(Y(X)&&X.getFirstSegment().setHandleIn(0,0),T.getLastSegment().setHandleOut(0,0))}return Y(T),g(G,!1,C,P)}function x(C,P){for(var b=C;b;){if(b===P)return;b=b._previous}for(;C._next&&C._next!==P;)C=C._next;if(!C._next){for(;P._previous;)P=P._previous;C._next=P,P._previous=C}}function k(C){for(var P=C.length-1;P>=0;P--)C[P].clearHandles()}function w(C,P,b){var T=C&&C.length;if(T){var R=h.each(C,function(xe,ke){this[xe._id]={container:null,winding:xe.isClockwise()?1:-1,index:ke}},{}),B=C.slice().sort(function(xe,ke){return n(ke.getArea())-n(xe.getArea())}),O=B[0],F=z.findItemBoundsCollisions(B,null,D.GEOMETRIC_EPSILON);b==null&&(b=O.isClockwise());for(var U=0;U<T;U++){var G=B[U],Y=R[G._id],j=0,X=F[U];if(X){for(var Q=null,ie=X.length-1;ie>=0;ie--)if(X[ie]<U){Q=Q||G.getInteriorPoint();var ne=B[X[ie]];if(ne.contains(Q)){var ue=R[ne._id];j=ue.winding,Y.winding+=j,Y.container=ue.exclude?ue.container:ne;break}}}if(P(Y.winding)===P(j))Y.exclude=!0,C[Y.index]=null;else{var ye=Y.container;G.setClockwise(ye?!ye.isClockwise():b)}}}return C}function y(C,P,b){var T=P&&[],R=1e-8,B=1-R,O=!1,F=b||[],U=b&&{},G,Y,j;function X(We){return We._path._id+"."+We._segment1._index}for(var Q=(b&&b.length)-1;Q>=0;Q--){var ie=b[Q];ie._path&&(U[X(ie)]=!0)}for(var Q=C.length-1;Q>=0;Q--){var ne=C[Q],ue=ne._time,ye=ue,xe=P&&!P(ne),ie=ne._curve,ke;if(ie&&(ie!==Y?(O=!ie.hasHandles()||U&&U[X(ie)],G=[],j=null,Y=ie):j>=R&&(ue/=j)),xe){G&&G.push(ne);continue}else P&&T.unshift(ne);if(j=ye,ue<R)ke=ie._segment1;else if(ue>B)ke=ie._segment2;else{var Ne=ie.divideAtTime(ue,!0);O&&F.push(ie,Ne),ke=Ne._segment1;for(var pe=G.length-1;pe>=0;pe--){var _e=G[pe];_e._time=(_e._time-ue)/(1-ue)}}ne._setSegment(ke);var Ie=ke._intersection,Me=ne._intersection;if(Ie){x(Ie,Me);for(var Le=Ie;Le;)x(Le._intersection,Ie),Le=Le._next}else ke._intersection=Me}return b||k(F),T||C}function L(C,P,b,T,R){var B=Array.isArray(P)?P:P[b?"hor":"ver"],O=b?1:0,F=O^1,U=[C.x,C.y],G=U[O],Y=U[F],j=1e-9,X=1e-6,Q=G-j,ie=G+j,ne=0,ue=0,ye=0,xe=0,ke=!1,Ne=!1,pe=1,_e=[],Ie,Me;function Le(gt){var Mt=gt[F+0],Zt=gt[F+6];if(!(Y<e(Mt,Zt)||Y>t(Mt,Zt))){var Bt=gt[O+0],ti=gt[O+2],Ut=gt[O+4],It=gt[O+6];if(Mt===Zt){(Bt<ie&&It>Q||It<ie&&Bt>Q)&&(ke=!0);return}var li=Y===Mt?0:Y===Zt||Q>t(Bt,ti,Ut,It)||ie<e(Bt,ti,Ut,It)?1:de.solveCubic(gt,F,Y,_e,0,1)>0?_e[0]:1,Kt=li===0?Bt:li===1?It:de.getPoint(gt,li)[b?"y":"x"],ii=Mt>Zt?1:-1,bi=Ie[F]>Ie[F+6]?1:-1,hi=Ie[O+6];return Y!==Mt?(Kt<Q?ye+=ii:Kt>ie?xe+=ii:ke=!0,Kt>G-X&&Kt<G+X&&(pe/=2)):(ii!==bi?Bt<Q?ye+=ii:Bt>ie&&(xe+=ii):Bt!=hi&&(hi<ie&&Kt>ie?(xe+=ii,ke=!0):hi>Q&&Kt<Q&&(ye+=ii,ke=!0)),pe/=4),Ie=gt,!R&&Kt>Q&&Kt<ie&&de.getTangent(gt,li)[b?"x":"y"]===0&&L(C,P,!b,T,!0)}}function We(gt){var Mt=gt[F+0],Zt=gt[F+2],Bt=gt[F+4],ti=gt[F+6];if(Y<=t(Mt,Zt,Bt,ti)&&Y>=e(Mt,Zt,Bt,ti)){for(var Ut=gt[O+0],It=gt[O+2],li=gt[O+4],Kt=gt[O+6],ii=Q>t(Ut,It,li,Kt)||ie<e(Ut,It,li,Kt)?[gt]:de.getMonoCurves(gt,b),bi,hi=0,_n=ii.length;hi<_n;hi++)if(bi=Le(ii[hi]))return bi}}for(var Ue=0,Ye=B.length;Ue<Ye;Ue++){var Je=B[Ue],Ze=Je._path,Vt=Je.getValues(),Pe;if((!Ue||B[Ue-1]._path!==Ze)&&(Ie=null,Ze._closed||(Me=de.getValues(Ze.getLastCurve().getSegment2(),Je.getSegment1(),null,!T),Me[F]!==Me[F+6]&&(Ie=Me)),!Ie)){Ie=Vt;for(var bt=Ze.getLastCurve();bt&&bt!==Je;){var kt=bt.getValues();if(kt[F]!==kt[F+6]){Ie=kt;break}bt=bt.getPrevious()}}if(Pe=We(Vt))return Pe;if(Ue+1===Ye||B[Ue+1]._path!==Ze){if(Me&&(Pe=We(Me)))return Pe;ke&&!ye&&!xe&&(ye=xe=Ze.isClockwise(T)^b?1:-1),ne+=ye,ue+=xe,ye=xe=0,ke&&(Ne=!0,ke=!1),Me=null}}return ne=n(ne),ue=n(ue),{winding:t(ne,ue),windingL:ne,windingR:ue,quality:pe,onPath:Ne}}function E(C,P,b,T,R){var B=[],O=C,F=0,j;do{var U=C.getCurve();if(U){var G=U.getLength();B.push({segment:C,curve:U,length:G}),F+=G}C=C.getNext()}while(C&&!C._intersection&&C!==O);for(var Y=[.5,.25,.75],j={winding:0,quality:-1},X=.001,Q=1-X,ie=0;ie<Y.length&&j.quality<.5;ie++)for(var G=F*Y[ie],ne=0,ue=B.length;ne<ue;ne++){var ye=B[ne],xe=ye.length;if(G<=xe){var U=ye.curve,ke=U._path,Ne=ke._parent,pe=Ne instanceof ft?Ne:ke,_e=D.clamp(U.getTimeAt(G),X,Q),Ie=U.getPointAtTime(_e),Me=n(U.getTangentAtTime(_e).y)<Math.SQRT1_2,Le=null;if(R.subtract&&b){var We=pe===P?b:P,Ue=We._getWinding(Ie,Me,!0);if(pe===P&&Ue.winding||pe===b&&!Ue.winding){if(Ue.quality<1)continue;Le={winding:0,quality:1}}}Le=Le||L(Ie,T[ke._id][U.getIndex()],Me,!0),Le.quality>j.quality&&(j=Le);break}G-=xe}for(var ne=B.length-1;ne>=0;ne--)B[ne].segment._winding=j}function M(C,P){var b=[],T;function R(Ye){var Je;return!!(Ye&&!Ye._visited&&(!P||P[(Je=Ye._winding||{}).winding]&&!(P.unite&&Je.winding===2&&Je.windingL&&Je.windingR)))}function B(Ye){if(Ye){for(var Je=0,Ze=T.length;Je<Ze;Je++)if(Ye===T[Je])return!0}return!1}function O(Ye){for(var Je=Ye._segments,Ze=0,Vt=Je.length;Ze<Vt;Ze++)Je[Ze]._visited=!0}function F(Ye,Je){var Ze=Ye._intersection,Vt=Ze,Pe=[];Je&&(T=[Ye]);function bt(kt,gt){for(;kt&&kt!==gt;){var Mt=kt._segment,Zt=Mt&&Mt._path;if(Zt){var Bt=Mt.getNext()||Zt.getFirstSegment(),ti=Bt._intersection;Mt!==Ye&&(B(Mt)||B(Bt)||Bt&&R(Mt)&&(R(Bt)||ti&&R(ti._segment)))&&Pe.push(Mt),Je&&T.push(Mt)}kt=kt._next}}if(Ze){for(bt(Ze);Ze&&Ze._previous;)Ze=Ze._previous;bt(Ze,Vt)}return Pe}C.sort(function(Ye,Je){var Ze=Ye._intersection,Vt=Je._intersection,Pe=!!(Ze&&Ze._overlap),bt=!!(Vt&&Vt._overlap),kt=Ye._path,gt=Je._path;return Pe^bt?Pe?1:-1:!Ze^!Vt?Ze?1:-1:kt!==gt?kt._id-gt._id:Ye._index-Je._index});for(var U=0,G=C.length;U<G;U++){var Y=C[U],j=R(Y),X=null,Q=!1,ie=!0,ne=[],ue,ye,xe;if(j&&Y._path._overlapsOnly){var ke=Y._path,Ne=Y._intersection._segment._path;ke.compare(Ne)&&(ke.getArea()&&b.push(ke.clone(!1)),O(ke),O(Ne),j=!1)}for(;j;){var pe=!X,_e=F(Y,pe),Ie=_e.shift(),Q=!pe&&(B(Y)||B(Ie)),Me=!Q&&Ie;if(pe&&(X=new qe(A.NO_INSERT),ue=null),Q){(Y.isFirst()||Y.isLast())&&(ie=Y._path._closed),Y._visited=!0;break}if(Me&&ue&&(ne.push(ue),ue=null),ue||(Me&&_e.push(Y),ue={start:X._segments.length,crossings:_e,visited:ye=[],handleIn:xe}),Me&&(Y=Ie),!R(Y)){X.removeSegments(ue.start);for(var Le=0,We=ye.length;Le<We;Le++)ye[Le]._visited=!1;ye.length=0;do Y=ue&&ue.crossings.shift(),(!Y||!Y._path)&&(Y=null,ue=ne.pop(),ue&&(ye=ue.visited,xe=ue.handleIn));while(ue&&!R(Y));if(!Y)break}var Ue=Y.getNext();X.add(new me(Y._point,xe,Ue&&Y._handleOut)),Y._visited=!0,ye.push(Y),Y=Ue||Y._path.getFirstSegment(),xe=Ue&&Ue._handleIn}Q&&(ie&&(X.getFirstSegment().setHandleIn(xe),X.setClosed(ie)),X.getArea()!==0&&b.push(X))}return b}return{_getWinding:function(C,P,b){return L(C,this.getCurves(),P,b)},unite:function(C,P){return _(this,C,"unite",P)},intersect:function(C,P){return _(this,C,"intersect",P)},subtract:function(C,P){return _(this,C,"subtract",P)},exclude:function(C,P){return _(this,C,"exclude",P)},divide:function(C,P){return P&&(P.trace==!1||P.stroke)?v(this,C,"divide"):g([this.subtract(C,P),this.intersect(C,P)],!0,this,C,P)},resolveCrossings:function(){var C=this._children,P=C||[this];function b(ue,ye){var xe=ue&&ue._intersection;return xe&&xe._overlap&&xe._path===ye}var T=!1,R=!1,B=this.getIntersections(null,function(ue){return ue.hasOverlap()&&(T=!0)||ue.isCrossing()&&(R=!0)}),O=T&&R&&[];if(B=mt.expand(B),T)for(var F=y(B,function(ue){return ue.hasOverlap()},O),U=F.length-1;U>=0;U--){var G=F[U],Y=G._path,j=G._segment,X=j.getPrevious(),Q=j.getNext();b(X,Y)&&b(Q,Y)&&(j.remove(),X._handleOut._set(0,0),Q._handleIn._set(0,0),X!==j&&!X.getCurve().hasLength()&&(Q._handleIn.set(X._handleIn),X.remove()))}R&&(y(B,T&&function(ue){var ye=ue.getCurve(),xe=ue.getSegment(),ke=ue._intersection,Ne=ke._curve,pe=ke._segment;if(ye&&Ne&&ye._path&&Ne._path)return!0;xe&&(xe._intersection=null),pe&&(pe._intersection=null)},O),O&&k(O),P=M(h.each(P,function(ue){h.push(this,ue._segments)},[])));var ie=P.length,ne;return ie>1&&C?(P!==C&&this.setChildren(P),ne=this):ie===1&&!C&&(P[0]!==this&&this.setSegments(P[0].removeSegments()),ne=this),ne||(ne=new ft(A.NO_INSERT),ne.addChildren(P),ne=ne.reduce(),ne.copyAttributes(this),this.replaceWith(ne)),ne},reorient:function(C,P){var b=this._children;return b&&b.length?this.setChildren(w(this.removeChildren(),function(T){return!!(C?T:T&1)},P)):P!==u&&this.setClockwise(P),this},getInteriorPoint:function(){var C=this.getBounds(),P=C.getCenter(!0);if(!this.contains(P)){for(var b=this.getCurves(),T=P.y,R=[],B=[],O=0,F=b.length;O<F;O++){var U=b[O].getValues(),G=U[1],Y=U[3],j=U[5],X=U[7];if(T>=e(G,Y,j,X)&&T<=t(G,Y,j,X))for(var Q=de.getMonoCurves(U),ie=0,ne=Q.length;ie<ne;ie++){var ue=Q[ie],ye=ue[1],xe=ue[7];if(ye!==xe&&(T>=ye&&T<=xe||T>=xe&&T<=ye)){var ke=T===ye?ue[0]:T===xe?ue[6]:de.solveCubic(ue,1,T,B,0,1)===1?de.getPoint(ue,B[0]).x:(ue[0]+ue[6])/2;R.push(ke)}}}R.length>1&&(R.sort(function(Ne,pe){return Ne-pe}),P.x=(R[0]+R[1])/2)}return P}}});var Yt=h.extend({_class:"PathFlattener",initialize:function(e,t,n,s,o){var f=[],g=[],p=0,_=1/(n||32),v=e._segments,x=v[0],k;function w(M,C){var P=de.getValues(M,C,o);f.push(P),y(P,M._index,0,1)}function y(M,C,P,b){if(b-P>_&&!(s&&de.isStraight(M))&&!de.isFlatEnough(M,t||.25)){var T=de.subdivide(M,.5),R=(P+b)/2;y(T[0],C,P,R),y(T[1],C,R,b)}else{var B=M[6]-M[0],O=M[7]-M[1],F=Math.sqrt(B*B+O*O);F>0&&(p+=F,g.push({offset:p,curve:M,index:C,time:b}))}}for(var L=1,E=v.length;L<E;L++)k=v[L],w(x,k),x=k;e._closed&&w(k||x,v[0]),this.curves=f,this.parts=g,this.length=p,this.index=0},_get:function(e){for(var t=this.parts,n=t.length,s,o=this.index;s=o,!(!o||t[--o].offset<e););for(;s<n;s++){var f=t[s];if(f.offset>=e){this.index=s;var g=t[s-1],p=g&&g.index===f.index?g.time:0,_=g?g.offset:0;return{index:f.index,time:p+(f.time-p)*(e-_)/(f.offset-_)}}}return{index:t[n-1].index,time:1}},drawPart:function(e,t,n){for(var s=this._get(t),o=this._get(n),f=s.index,g=o.index;f<=g;f++){var p=de.getPart(this.curves[f],f===s.index?s.time:0,f===o.index?o.time:1);f===s.index&&e.moveTo(p[0],p[1]),e.bezierCurveTo.apply(e,p.slice(2))}}},h.each(de._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this._get(t);return de[e](this.curves[n.index],n.time)}},{})),ni=h.extend({initialize:function(e){for(var t=this.points=[],n=e._segments,s=e._closed,o=0,f,g=n.length;o<g;o++){var p=n[o].point;(!f||!f.equals(p))&&t.push(f=p.clone())}s&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=s},fit:function(e){var t=this.points,n=t.length,s=null;return n>0&&(s=[new me(t[0])],n>1&&(this.fitCubic(s,e,0,n-1,t[1].subtract(t[0]),t[n-2].subtract(t[n-1])),this.closed&&(s.shift(),s.pop()))),s},fitCubic:function(e,t,n,s,o,f){var g=this.points;if(s-n===1){var p=g[n],_=g[s],v=p.getDistance(_)/3;this.addCurve(e,[p,p.add(o.normalize(v)),_.add(f.normalize(v)),_]);return}for(var x=this.chordLengthParameterize(n,s),k=Math.max(t,t*t),w,y=!0,L=0;L<=4;L++){var E=this.generateBezier(n,s,x,o,f),M=this.findMaxError(n,s,E,x);if(M.error<t&&y){this.addCurve(e,E);return}if(w=M.index,M.error>=k)break;y=this.reparameterize(n,s,x,E),k=M.error}var C=g[w-1].subtract(g[w+1]);this.fitCubic(e,t,n,w,o,C),this.fitCubic(e,t,w,s,C.negate(),f)},addCurve:function(e,t){var n=e[e.length-1];n.setHandleOut(t[1].subtract(t[0])),e.push(new me(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,n,s,o){for(var f=1e-12,g=Math.abs,p=this.points,_=p[e],v=p[t],x=[[0,0],[0,0]],k=[0,0],w=0,y=t-e+1;w<y;w++){var L=n[w],E=1-L,M=3*L*E,C=E*E*E,P=M*E,b=M*L,T=L*L*L,R=s.normalize(P),B=o.normalize(b),O=p[e+w].subtract(_.multiply(C+P)).subtract(v.multiply(b+T));x[0][0]+=R.dot(R),x[0][1]+=R.dot(B),x[1][0]=x[0][1],x[1][1]+=B.dot(B),k[0]+=R.dot(O),k[1]+=B.dot(O)}var F=x[0][0]*x[1][1]-x[1][0]*x[0][1],U,G;if(g(F)>f){var Y=x[0][0]*k[1]-x[1][0]*k[0],j=k[0]*x[1][1]-k[1]*x[0][1];U=j/F,G=Y/F}else{var X=x[0][0]+x[0][1],Q=x[1][0]+x[1][1];U=G=g(X)>f?k[0]/X:g(Q)>f?k[1]/Q:0}var ie=v.getDistance(_),ne=f*ie,ue,ye;if(U<ne||G<ne)U=G=ie/3;else{var xe=v.subtract(_);ue=s.normalize(U),ye=o.normalize(G),ue.dot(xe)-ye.dot(xe)>ie*ie&&(U=G=ie/3,ue=ye=null)}return[_,_.add(ue||s.normalize(U)),v.add(ye||o.normalize(G)),v]},reparameterize:function(e,t,n,s){for(var o=e;o<=t;o++)n[o-e]=this.findRoot(s,this.points[o],n[o-e]);for(var o=1,f=n.length;o<f;o++)if(n[o]<=n[o-1])return!1;return!0},findRoot:function(e,t,n){for(var s=[],o=[],f=0;f<=2;f++)s[f]=e[f+1].subtract(e[f]).multiply(3);for(var f=0;f<=1;f++)o[f]=s[f+1].subtract(s[f]).multiply(2);var g=this.evaluate(3,e,n),p=this.evaluate(2,s,n),_=this.evaluate(1,o,n),v=g.subtract(t),x=p.dot(p)+v.dot(_);return D.isMachineZero(x)?n:n-v.dot(p)/x},evaluate:function(e,t,n){for(var s=t.slice(),o=1;o<=e;o++)for(var f=0;f<=e-o;f++)s[f]=s[f].multiply(1-n).add(s[f+1].multiply(n));return s[0]},chordLengthParameterize:function(e,t){for(var n=[0],s=e+1;s<=t;s++)n[s-e]=n[s-e-1]+this.points[s].getDistance(this.points[s-1]);for(var s=1,o=t-e;s<=o;s++)n[s]/=n[o];return n},findMaxError:function(e,t,n,s){for(var o=Math.floor((t-e+1)/2),f=0,g=e+1;g<t;g++){var p=this.evaluate(3,n,s[g-e]),_=p.subtract(this.points[g]),v=_.x*_.x+_.y*_.y;v>=f&&(f=v,o=g)}return{error:f,index:o}}}),xt=A.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var n=t&&h.isPlainObject(t)&&t.x===u&&t.y===u;this._initialize(n&&t,!n&&q.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Wi=xt.extend({_class:"PointText",initialize:function(){xt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new le(e.x,e.y,this,"setPoint")},setPoint:function(){var e=q.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,n){if(this._content){this._setStyles(e,t,n);var s=this._lines,o=this._style,f=o.hasFill(),g=o.hasStroke(),p=o.getLeading(),_=e.shadowColor;e.font=o.getFontStyle(),e.textAlign=o.getJustification();for(var v=0,x=s.length;v<x;v++){e.shadowColor=_;var k=s[v];f&&(e.fillText(k,0,0),e.shadowColor="rgba(0,0,0,0)"),g&&e.strokeText(k,0,0),e.translate(0,p)}}},_getBounds:function(e,t){var n=this._style,s=this._lines,o=s.length,f=n.getJustification(),g=n.getLeading(),p=this.getView().getTextWidth(n.getFontStyle(),s),_=0;f!=="left"&&(_-=p/(f==="center"?2:1));var v=new te(_,o?-.75*g:0,p,o*g);return e?e._transformBounds(v,v):v}}),St=h.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},n={transparent:[0,0,0,0]},s;function o(p){var _=p.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||p.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),v="rgb",x;if(_){var k=_[4]?4:3;x=new Array(k);for(var w=0;w<k;w++){var y=_[w+1];x[w]=parseInt(y.length==1?y+y:y,16)/255}}else if(_=p.match(/^(rgb|hsl)a?\((.*)\)$/)){v=_[1],x=_[2].trim().split(/[,\s]+/g);for(var L=v==="hsl",w=0,E=Math.min(x.length,4);w<E;w++){var M=x[w],y=parseFloat(M);if(L)if(w===0){var C=M.match(/([a-z]*)$/)[1];y*={turn:360,rad:180/Math.PI,grad:.9}[C]||1}else w<3&&(y/=100);else w<3&&(y/=/%$/.test(M)?100:255);x[w]=y}}else{var P=n[p];if(!P)if(l){s||(s=Nt.getContext(1,1,{willReadFrequently:!0}),s.globalCompositeOperation="copy"),s.fillStyle="rgba(0,0,0,0)",s.fillStyle=p,s.fillRect(0,0,1,1);var b=s.getImageData(0,0,1,1).data;P=n[p]=[b[0]/255,b[1]/255,b[2]/255]}else P=[0,0,0];x=P.slice()}return[v,x]}var f=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],g={"rgb-hsb":function(p,_,v){var x=Math.max(p,_,v),k=Math.min(p,_,v),w=x-k,y=w===0?0:(x==p?(_-v)/w+(_<v?6:0):x==_?(v-p)/w+2:(p-_)/w+4)*60;return[y,x===0?0:w/x,x]},"hsb-rgb":function(p,_,v){p=(p/60%6+6)%6;var k=Math.floor(p),x=p-k,k=f[k],w=[v,v*(1-_),v*(1-_*x),v*(1-_*(1-x))];return[w[k[0]],w[k[1]],w[k[2]]]},"rgb-hsl":function(p,_,v){var x=Math.max(p,_,v),k=Math.min(p,_,v),w=x-k,y=w===0,L=y?0:(x==p?(_-v)/w+(_<v?6:0):x==_?(v-p)/w+2:(p-_)/w+4)*60,E=(x+k)/2,M=y?0:E<.5?w/(x+k):w/(2-x-k);return[L,M,E]},"hsl-rgb":function(p,_,v){if(p=(p/360%1+1)%1,_===0)return[v,v,v];for(var x=[p+1/3,p,p-1/3],k=v<.5?v*(1+_):v+_-v*_,w=2*v-k,y=[],L=0;L<3;L++){var E=x[L];E<0&&(E+=1),E>1&&(E-=1),y[L]=6*E<1?w+(k-w)*6*E:2*E<1?k:3*E<2?w+(k-w)*(2/3-E)*6:w}return y},"rgb-gray":function(p,_,v){return[p*.2989+_*.587+v*.114]},"gray-rgb":function(p){return[p,p,p]},"gray-hsb":function(p){return[0,0,p]},"gray-hsl":function(p){return[0,0,p]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return h.each(e,function(p,_){t[_]=[],h.each(p,function(v,x){var k=h.capitalize(v),w=/^(hue|saturation)$/.test(v),y=t[_][x]=_==="gradient"?v==="gradient"?function(L){var E=this._components[0];return L=Be.read(Array.isArray(L)?L:arguments,0,{readNull:!0}),E!==L&&(E&&E._removeOwner(this),L&&L._addOwner(this)),L}:function(){return q.read(arguments,0,{readNull:v==="highlight",clone:!0})}:function(L){return L==null||isNaN(L)?0:+L};this["get"+k]=function(){return this._type===_||w&&/^hs[bl]$/.test(this._type)?this._components[x]:this._convert(_)[x]},this["set"+k]=function(L){this._type!==_&&!(w&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(_),this._properties=e[_],this._type=_),this._components[x]=y.call(this,L),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function p(_){var v=arguments,x=this.__read,k=0,w,y,L,E;Array.isArray(_)&&(v=_,_=v[0]);var M=_!=null&&typeof _;if(M==="string"&&_ in e&&(w=_,_=v[1],Array.isArray(_)?(y=_,L=v[2]):(x&&(k=1),v=h.slice(v,1),M=typeof _)),!y){if(E=M==="number"?v:M==="object"&&_.length!=null?_:null,E){w||(w=E.length>=3?"rgb":"gray");var C=e[w].length;L=E[C],x&&(k+=E===arguments?C+(L!=null?1:0):1),E.length>C&&(E=h.slice(E,0,C))}else if(M==="string"){var P=o(_);w=P[0],y=P[1],y.length===4&&(L=y[3],y.length--)}else if(M==="object")if(_.constructor===p){if(w=_._type,y=_._components.slice(),L=_._alpha,w==="gradient")for(var b=1,T=y.length;b<T;b++){var R=y[b];R&&(y[b]=R.clone())}}else if(_.constructor===Be)w="gradient",E=v;else{w="hue"in _?"lightness"in _?"hsl":"hsb":"gradient"in _||"stops"in _||"radial"in _?"gradient":"gray"in _?"gray":"rgb";var B=e[w],O=t[w];this._components=y=[];for(var b=0,T=B.length;b<T;b++){var F=_[B[b]];F==null&&!b&&w==="gradient"&&"stops"in _&&(F={stops:_.stops,radial:_.radial}),F=O[b].call(this,F),F!=null&&(y[b]=F)}L=_.alpha}x&&w&&(k=1)}if(this._type=w||"rgb",!y){this._components=y=[];for(var O=t[this._type],b=0,T=O.length;b<T;b++){var F=O[b].call(this,E&&E[b]);F!=null&&(y[b]=F)}}return this._components=y,this._properties=e[this._type],this._alpha=L,x&&(this.__read=k),this},set:"#initialize",_serialize:function(p,_){var v=this.getComponents();return h.serialize(/^(gray|rgb)$/.test(this._type)?v:[this._type].concat(v),p,!0,_)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(p){var _;return this._type===p?this._components.slice():(_=g[this._type+"-"+p])?_.apply(this,this._components):g["rgb-"+p].apply(this,g[this._type+"-rgb"].apply(this,this._components))},convert:function(p){return new St(p,this._convert(p),this._alpha)},getType:function(){return this._type},setType:function(p){this._components=this._convert(p),this._properties=e[p],this._type=p},getComponents:function(){var p=this._components.slice();return this._alpha!=null&&p.push(this._alpha),p},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(p){this._alpha=p==null?null:Math.min(Math.max(p,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(p){var _=h.isPlainValue(p,!0)?St.read(arguments):p;return _===this||_&&this._class===_._class&&this._type===_._type&&this.getAlpha()===_.getAlpha()&&h.equals(this._components,_._components)||!1},toString:function(){for(var p=this._properties,_=[],v=this._type==="gradient",x=H.instance,k=0,w=p.length;k<w;k++){var y=this._components[k];y!=null&&_.push(p[k]+": "+(v?y:x.number(y)))}return this._alpha!=null&&_.push("alpha: "+x.number(this._alpha)),"{ "+_.join(", ")+" }"},toCSS:function(p){var _=this._convert("rgb"),v=p||this._alpha==null?1:this._alpha;function x(k){return Math.round((k<0?0:k>1?1:k)*255)}return _=[x(_[0]),x(_[1]),x(_[2])],v<1&&_.push(v<0?0:v),p?"#"+((1<<24)+(_[0]<<16)+(_[1]<<8)+_[2]).toString(16).slice(1):(_.length==4?"rgba(":"rgb(")+_.join(",")+")"},toCanvasStyle:function(p,_){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var v=this._components,x=v[0],k=x._stops,w=v[1],y=v[2],L=v[3],E=_&&_.inverted(),M;if(E&&(w=E._transformPoint(w),y=E._transformPoint(y),L&&(L=E._transformPoint(L))),x._radial){var C=y.getDistance(w);if(L){var P=L.subtract(w);P.getLength()>C&&(L=w.add(P.normalize(C-.1)))}var b=L||w;M=p.createRadialGradient(b.x,b.y,0,w.x,w.y,C)}else M=p.createLinearGradient(w.x,w.y,y.x,y.y);for(var T=0,R=k.length;T<R;T++){var B=k[T],O=B._offset;M.addColorStop(O??T/(R-1),B._color.toCanvasStyle())}return this._canvasStyle=M},transform:function(p){if(this._type==="gradient"){for(var _=this._components,v=1,x=_.length;v<x;v++){var k=_[v];p._transformPoint(k,k,!0)}this._changed()}},statics:{_types:e,random:function(){var p=Math.random;return new St(p(),p(),p())},_setOwner:function(p,_,v){return p&&(p._owner&&_&&p._owner!==_&&(p=p.clone()),!p._owner^!_&&(p._owner=_||null,p._setter=v||null)),p}}})},new function(){var e={add:function(t,n){return t+n},subtract:function(t,n){return t-n},multiply:function(t,n){return t*n},divide:function(t,n){return t/n}};return h.each(e,function(t,n){this[n]=function(s){s=St.read(arguments);for(var o=this._type,f=this._components,g=s._convert(o),p=0,_=f.length;p<_;p++)g[p]=t(f[p],g[p]);return new St(o,g,this._alpha!=null?t(this._alpha,s.getAlpha()):null)}},{})}),Be=h.extend({_class:"Gradient",initialize:function(t,n){this._id=K.get(),t&&h.isPlainObject(t)&&(this.set(t),t=n=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof n=="string"&&n==="radial"||n||!1)},_serialize:function(e,t){return t.add(this,function(){return h.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=u))},clone:function(){for(var e=[],t=0,n=this._stops.length;t<n;t++)e[t]=this._stops[t].clone();return new Be(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var n=0,s=t.length;n<s;n++)t[n]._owner=u;t=this._stops=vi.readList(e,0,{clone:!0});for(var n=0,s=t.length;n<s;n++)t[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,n=e._stops,s=t.length;if(s===n.length){for(var o=0;o<s;o++)if(!t[o].equals(n[o]))return!1;return!0}}return!1}}),vi=h.extend({_class:"GradientStop",initialize:function(t,n){var s=t,o=n;typeof t=="object"&&n===u&&(Array.isArray(t)&&typeof t[0]!="number"?(s=t[0],o=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(s=t.color,o=t.offset||t.rampPoint||0)),this.setColor(s),this.setOffset(o)},clone:function(){return new vi(this._color.clone(),this._offset)},_serialize:function(e,t){var n=this._color,s=this._offset;return h.serialize(s==null?[n]:[n,s],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){St._setOwner(this._color,null),this._color=St._setOwner(St.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),ri=h.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new q,selectedColor:null},t=h.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=h.set({},t,{fillColor:new St}),s={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},o={beans:!0},f={_class:"Style",beans:!0,initialize:function(p,_,v){this._values={},this._owner=_,this._project=_&&_._project||v||nt.project,this._defaults=!_||_ instanceof be?t:_ instanceof xt?n:e,p&&this.set(p)}};return h.each(t,function(g,p){var _=/Color$/.test(p),v=p==="shadowOffset",x=h.capitalize(p),k=s[p],w="set"+x,y="get"+x;f[w]=function(L){var E=this._owner,M=E&&E._children,C=M&&M.length>0&&!(E instanceof ft);if(C)for(var P=0,b=M.length;P<b;P++)M[P]._style[w](L);if((p==="selectedColor"||!C)&&p in this._defaults){var T=this._values[p];T!==L&&(_&&(T&&(St._setOwner(T,null),T._canvasStyle=null),L&&L.constructor===St&&(L=St._setOwner(L,E,C&&w))),this._values[p]=L,E&&E._changed(k||129))}},f[y]=function(L){var E=this._owner,M=E&&E._children,C=M&&M.length>0&&!(E instanceof ft),P;if(C&&!L)for(var b=0,T=M.length;b<T;b++){var R=M[b]._style[y]();if(!b)P=R;else if(!h.equals(P,R))return u}else if(p in this._defaults){var P=this._values[p];if(P===u)P=this._defaults[p],P&&P.clone&&(P=P.clone());else{var B=_?St:v?q:null;B&&!(P&&P.constructor===B)&&(this._values[p]=P=B.read([P],0,{readNull:!0,clone:!0}))}}return P&&_&&(P=St._setOwner(P,E,C&&w)),P},o[y]=function(L){return this._style[y](L)},o[w]=function(L){this._style[w](L)}}),h.each({Font:"FontFamily",WindingRule:"FillRule"},function(g,p){var _="get"+p,v="set"+p;f[_]=o[_]="#get"+g,f[v]=o[v]="#set"+g}),A.inject(o),f},{set:function(e){var t=e instanceof ri,n=t?e._values:e;if(n){for(var s in n)if(s in this._defaults){var o=n[s];this[s]=o&&t&&o.clone?o.clone():o}}},equals:function(e){function t(n,s,o){var f=n._values,g=s._values,p=s._defaults;for(var _ in f){var v=f[_],x=g[_];if(!(o&&_ in g)&&!h.equals(v,x===u?p[_]:x))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),t??n*1.2}}),lt=new function(){function e(t,n,s,o){for(var f=["","webkit","moz","Moz","ms","o"],g=n[0].toUpperCase()+n.substring(1),p=0;p<6;p++){var _=f[p],v=_?_+g:n;if(v in t){if(s)t[v]=o;else return t[v];break}}}return{getStyles:function(t){var n=t&&t.nodeType!==9?t.ownerDocument:t,s=n&&n.defaultView;return s&&s.getComputedStyle(t,"")},getBounds:function(t,n){var s=t.ownerDocument,o=s.body,f=s.documentElement,g;try{g=t.getBoundingClientRect()}catch{g={left:0,top:0,width:0,height:0}}var p=g.left-(f.clientLeft||o.clientLeft||0),_=g.top-(f.clientTop||o.clientTop||0);if(!n){var v=s.defaultView;p+=v.pageXOffset||f.scrollLeft||o.scrollLeft,_+=v.pageYOffset||f.scrollTop||o.scrollTop}return new te(p,_,g.width,g.height)},getViewportBounds:function(t){var n=t.ownerDocument,s=n.defaultView,o=n.documentElement;return new te(0,0,s.innerWidth||o.clientWidth,s.innerHeight||o.clientHeight)},getOffset:function(t,n){return lt.getBounds(t,n).getPoint()},getSize:function(t){return lt.getBounds(t,!0).getSize()},isInvisible:function(t){return lt.getSize(t).equals(new J(0,0))},isInView:function(t){return!lt.isInvisible(t)&&lt.getViewportBounds(t).intersects(lt.getBounds(t,!0))},isInserted:function(t){return d.body.contains(t)},getPrefixed:function(t,n){return t&&e(t,n)},setPrefixed:function(t,n,s){if(typeof n=="object")for(var o in n)e(t,o,!0,n[o]);else e(t,n,!0,s)}}},ct={add:function(e,t){if(e)for(var n in t)for(var s=t[n],o=n.split(/[\s,]+/g),f=0,g=o.length;f<g;f++){var p=o[f],_=e===d&&(p==="touchstart"||p==="touchmove")?{passive:!1}:!1;e.addEventListener(p,s,_)}},remove:function(e,t){if(e)for(var n in t)for(var s=t[n],o=n.split(/[\s,]+/g),f=0,g=o.length;f<g;f++)e.removeEventListener(o[f],s,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new q(t.pageX||t.clientX+d.documentElement.scrollLeft,t.pageY||t.clientY+d.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return ct.getPoint(e).subtract(lt.getOffset(t||ct.getTarget(e)))}};ct.requestAnimationFrame=new function(){var e=lt.getPrefixed(l,"requestAnimationFrame"),t=!1,n=[],s;function o(){var f=n;n=[];for(var g=0,p=f.length;g<p;g++)f[g]();t=e&&n.length,t&&e(o)}return function(f){n.push(f),e?t||(e(o),t=!0):s||(s=setInterval(o,1e3/60))}};var vt=h.extend(m,{_class:"View",initialize:function e(t,n){function s(k){return n[k]||parseInt(n.getAttribute(k),10)}function o(){var k=lt.getSize(n);return k.isNaN()||k.isZero()?new J(s("width"),s("height")):k}var f;if(l&&n){this._id=n.getAttribute("id"),this._id==null&&n.setAttribute("id",this._id="paper-view-"+e._id++),ct.add(n,this._viewEvents);var g="none";if(lt.setPrefixed(n.style,{userDrag:g,userSelect:g,touchCallout:g,contentZooming:g,tapHighlightColor:"rgba(0,0,0,0)"}),S.hasAttribute(n,"resize")){var p=this;ct.add(l,this._windowEvents={resize:function(){p.setViewSize(o())}})}if(f=o(),S.hasAttribute(n,"stats")&&typeof Stats<"u"){this._stats=new Stats;var _=this._stats.domElement,v=_.style,x=lt.getOffset(n);v.position="absolute",v.left=x.x+"px",v.top=x.y+"px",d.body.appendChild(_)}}else f=new J(n),n=null;this._project=t,this._scope=t._scope,this._element=n,this._pixelRatio||(this._pixelRatio=l&&l.devicePixelRatio||1),this._setElementSize(f.width,f.height),this._viewSize=f,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new ge)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!nt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;vt._focused===this&&(vt._focused=null),vt._views.splice(vt._views.indexOf(this),1),delete vt._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),ct.remove(this._element,this._viewEvents),ct.remove(l,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:h.each(A._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;ct.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!lt.getPrefixed(d,"hidden")||S.getAttribute(t,"keepalive")==="true")&&lt.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){nt=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new h({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete n[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit("frame",new h(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=u},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new re(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=J.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==t&&(n.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new te(new q,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return lt.isInView(this._element)},isInserted:function(){return lt.isInserted(this._element)},getPixelSize:function(e){var t=this._element,n;if(t){var s=t.parentNode,o=d.createElement("div");o.style.fontSize=e,s.appendChild(o),n=parseFloat(lt.getStyles(o).fontSize),s.removeChild(o)}else n=parseFloat(n);return n},getTextWidth:function(e,t){return 0}},h.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var n=arguments,s=(t?h:q).read(n),o=q.read(n,0,{readNull:!0});return this.transform(new ge()[e](s,o||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new ge;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=q.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new ge().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new le(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=q.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(q.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(q.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(q.read(arguments))},getEventPoint:function(e){return this.viewToProject(ct.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){d&&typeof t=="string"&&(t=d.getElementById(t));var n=l?dn:vt;return new n(e,t)}}},new function(){if(!l)return;var e,t,n=!1,s=!1;function o(j){var X=ct.getTarget(j);return X.getAttribute&&vt._viewsById[X.getAttribute("id")]}function f(){var j=vt._focused;if(!j||!j.isVisible()){for(var X=0,Q=vt._views.length;X<Q;X++)if((j=vt._views[X]).isVisible()){vt._focused=t=j;break}}}function g(j,X,Q){j._handleMouseEvent("mousemove",X,Q)}var p=l.navigator,_,v,x;p.pointerEnabled||p.msPointerEnabled?(_="pointerdown MSPointerDown",v="pointermove MSPointerMove",x="pointerup pointercancel MSPointerUp MSPointerCancel"):(_="touchstart",v="touchmove",x="touchend touchcancel","ontouchstart"in l&&p.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(_+=" mousedown",v+=" mousemove",x+=" mouseup"));var k={},w={mouseout:function(j){var X=vt._focused,Q=ct.getRelatedTarget(j);if(X&&(!Q||Q.nodeName==="HTML")){var ie=ct.getOffset(j,X._element),ne=ie.x,ue=Math.abs,ye=ue(ne),xe=1<<25,ke=ye-xe;ie.x=ue(ke)<ye?ke*(ne<0?-1:1):ne,g(X,j,X.viewToProject(ie))}},scroll:f};k[_]=function(j){var X=vt._focused=o(j);n||(n=!0,X._handleMouseEvent("mousedown",j))},w[v]=function(j){var X=vt._focused;if(!s){var Q=o(j);Q?X!==Q&&(X&&g(X,j),e||(e=X),X=vt._focused=t=Q):t&&t===X&&(e&&!e.isInserted()&&(e=null),X=vt._focused=e,e=null,f())}X&&g(X,j)},w[_]=function(){s=!0},w[x]=function(j){var X=vt._focused;X&&n&&X._handleMouseEvent("mouseup",j),s=n=!1},ct.add(d,w),ct.add(l,{load:f});var y=!1,L=!1,E={doubleclick:"click",mousedrag:"mousemove"},M=!1,C,P,b,T,R,B,O,F;function U(j,X,Q,ie,ne,ue,ye){var xe=!1,ke;function Ne(pe,_e){if(pe.responds(_e)){if(ke||(ke=new gn(_e,ie,ne,X||pe,ue?ne.subtract(ue):null)),pe.emit(_e,ke)&&(y=!0,ke.prevented&&(L=!0),ke.stopped))return xe=!0}else{var Ie=E[_e];if(Ie)return Ne(pe,Ie)}}for(;j&&j!==ye&&!Ne(j,Q);)j=j._parent;return xe}function G(j,X,Q,ie,ne,ue){return j._project.removeOn(Q),L=y=!1,R&&U(R,null,Q,ie,ne,ue)||X&&X!==R&&!X.isDescendant(R)&&U(X,null,Q==="mousedrag"?"mousemove":Q,ie,ne,ue,R)||U(j,R||X||j,Q,ie,ne,ue)}var Y={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:k,_handleMouseEvent:function(j,X,Q){var ie=this._itemEvents,ne=ie.native[j],ue=j==="mousemove",ye=this._scope.tool,xe=this;function ke(We){return ie.virtual[We]||xe.responds(We)||ye&&ye.responds(We)}ue&&n&&ke("mousedrag")&&(j="mousedrag"),Q||(Q=this.getEventPoint(X));var Ne=this.getBounds().contains(Q),pe=ne&&Ne&&xe._project.hitTest(Q,{tolerance:0,fill:!0,stroke:!0}),_e=pe&&pe.item||null,Ie=!1,Me={};if(Me[j.substr(5)]=!0,ne&&_e!==T&&(T&&U(T,null,"mouseleave",X,Q),_e&&U(_e,null,"mouseenter",X,Q),T=_e),M^Ne&&(U(this,null,Ne?"mouseenter":"mouseleave",X,Q),Ie=!0),(Ne||Me.drag)&&!Q.equals(P)&&(G(this,_e,ue?j:"mousemove",X,Q,P),Ie=!0),M=Ne,Me.down&&Ne||Me.up&&C){if(G(this,_e,j,X,Q,C),Me.down){if(F=_e===B&&Date.now()-O<300,b=B=_e,!L&&_e){for(var Le=_e;Le&&!Le.responds("mousedrag");)Le=Le._parent;Le&&(R=_e)}C=Q}else Me.up&&(!L&&_e===b&&(O=Date.now(),G(this,_e,F?"doubleclick":"click",X,Q,C),F=!1),b=R=null);M=!1,Ie=!0}P=Q,Ie&&ye&&(y=ye._handleMouseEvent(j,X,Q,Me)||y),X.cancelable!==!1&&(y&&!Me.move||Me.down&&ke("mouseup"))&&X.preventDefault()},_handleKeyEvent:function(j,X,Q,ie){var ne=this._scope,ue=ne.tool,ye;function xe(ke){ke.responds(j)&&(nt=ne,ke.emit(j,ye=ye||new pn(j,X,Q,ie)))}this.isVisible()&&(xe(this),ue&&ue.responds(j)&&xe(ue))},_countItemEvent:function(j,X){var Q=this._itemEvents,ie=Q.native,ne=Q.virtual;for(var ue in Y)ie[ue]=(ie[ue]||0)+(Y[ue][j]||0)*X;ne[j]=(ne[j]||0)+X},statics:{updateFocus:f,_resetState:function(){n=s=y=M=!1,e=t=C=P=b=T=R=B=O=F=null}}}}),dn=vt.extend({_class:"CanvasView",initialize:function(t,n){if(!(n instanceof l.HTMLCanvasElement)){var s=J.read(arguments,1);if(s.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+h.slice(arguments,1));n=Nt.getCanvas(s)}var o=this._context=n.getContext("2d");if(o.save(),this._pixelRatio=1,!/^off|false$/.test(S.getAttribute(n,"hidpi"))){var f=l.devicePixelRatio||1,g=lt.getPrefixed(o,"backingStorePixelRatio")||1;this._pixelRatio=f/g}vt.call(this,t,n),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,n){var s=this._pixelRatio;if(e.base.call(this,t*s,n*s),s!==1){var o=this._element,f=this._context;if(!S.hasAttribute(o,"resize")){var g=o.style;g.width=t+"px",g.height=n+"px"}f.restore(),f.save(),f.scale(s,s)}},getContext:function(){return this._context},getPixelSize:function e(t){var n=nt.agent,s;if(n&&n.firefox)s=e.base.call(this,t);else{var o=this._context,f=o.font;o.font=t+" serif",s=parseFloat(o.font),o.font=f}return s},getTextWidth:function(e,t){var n=this._context,s=n.font,o=0;n.font=e;for(var f=0,g=t.length;f<g;f++)o=Math.max(o,n.measureText(t[f]).width);return n.font=s,o},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Si=h.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Mi.modifiers}}),pn=Si.extend({_class:"KeyEvent",initialize:function(t,n,s,o){this.type=t,this.event=n,this.key=s,this.character=o},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Mi=new function(){var e={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},n={},s={},o,f,g=new h({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var v=nt&&nt.agent;return v&&v.mac?this.meta:this.control}}});function p(v){var x=v.key||v.keyIdentifier;return x=/^U\+/.test(x)?String.fromCharCode(parseInt(x.substr(2),16)):/^Arrow[A-Z]/.test(x)?x.substr(5):x==="Unidentified"||x===u?String.fromCharCode(v.keyCode):x,e[x]||(x.length>1?h.hyphenate(x):x.toLowerCase())}function _(v,x,k,w){var y=vt._focused,L;if(n[x]=v,v?s[x]=k:delete s[x],x.length>1&&(L=h.camelize(x))in g){g[L]=v;var E=nt&&nt.agent;if(L==="meta"&&E&&E.mac)if(v)o={};else{for(var M in o)M in s&&_(!1,M,o[M],w);o=null}}else v&&o&&(o[x]=k);y&&y._handleKeyEvent(v?"keydown":"keyup",w,x,k)}return ct.add(d,{keydown:function(v){var x=p(v),k=nt&&nt.agent;x.length>1||k&&k.chrome&&(v.altKey||k.mac&&v.metaKey||!k.mac&&v.ctrlKey)?_(!0,x,t[x]||(x.length>1?"":x),v):f=x},keypress:function(v){if(f){var x=p(v),k=v.charCode,w=k>=32?String.fromCharCode(k):x.length>1?"":x;x!==f&&(x=w.toLowerCase()),_(!0,x,w,v),f=null}},keyup:function(v){var x=p(v);x in s&&_(!1,x,s[x],v)}}),ct.add(l,{blur:function(v){for(var x in s)_(!1,x,s[x],v)}}),{modifiers:g,isDown:function(v){return!!n[v]}}},gn=Si.extend({_class:"MouseEvent",initialize:function(t,n,s,o,f){this.type=t,this.event=n,this.point=s,this.target=o,this.delta=f},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Gi=Si.extend({_class:"ToolEvent",_item:null,initialize:function(t,n,s){this.tool=t,this.type=n,this.event=s},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Cn=N.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){N.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,n,s){nt=this._scope,s.drag&&!this.responds(e)&&(e="mousemove");var o=s.move||s.drag,f=this.responds(e),g=this.minDistance,p=this.maxDistance,_=!1,v=this;function x(w,y){var L=n,E=o?v._point:v._downPoint||L;if(o){if(v._moveCount>=0&&L.equals(E))return!1;if(E&&(w!=null||y!=null)){var M=L.subtract(E),C=M.getLength();if(C<(w||0))return!1;y&&(L=E.add(M.normalize(Math.min(C,y))))}v._moveCount++}return v._point=L,v._lastPoint=E||L,s.down&&(v._moveCount=-1,v._downPoint=L,v._downCount++),!0}function k(){f&&(_=v.emit(e,new Gi(v,e,t))||_)}if(s.down)x(),k();else if(s.up)x(null,p),k();else if(f)for(;x(g,p);)k();return _}}),kn=h.extend(m,{_class:"Tween",statics:{easings:new h({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,n,s,o,f,g){this.object=t;var p=typeof f,_=p==="function";this.type=_?p:p==="string"?f:"linear",this.easing=_?f:e.easings[this.type],this.duration=o,this.running=!1,this._then=null,this._startTime=null;var v=n||s;this._keys=v?Object.keys(v):[],this._parsedKeys=this._parseKeys(this._keys),this._from=v&&this._getState(n),this._to=v&&this._getState(s),g!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),n=this._keys,s=function(x){return typeof x=="function"?x(t,e):x},o=0,f=n&&n.length;o<f;o++){var g=n[o],p=s(this._from[g]),_=s(this._to[g]),v=p&&_&&p.__add&&_.__add?_.__subtract(p).__multiply(t).__add(p):(_-p)*t+p;this._setProperty(this._parsedKeys[g],v)}this.responds("update")&&this.emit("update",new h({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,n=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(n)},_getState:function(e){for(var t=this._keys,n={},s=0,o=t.length;s<o;s++){var f=t[s],g=this._parsedKeys[f],p=this._getProperty(g),_;if(e){var v=this._resolveValue(p,e[f]);this._setProperty(g,v),_=this._getProperty(g),_=_&&_.clone?_.clone():_,this._setProperty(g,p)}else _=p&&p.clone?p.clone():p;n[f]=_}return n},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var n=t[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(e,n[0],t[1]):t}else if(typeof t=="string"){var s=t.match(/^[+\-*/]=(.*)/);if(s){var o=JSON.parse(s[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],o)}}}return t},_calculate:function(e,t,n){return nt.PaperScript.calculateBinary(e,t,n)},_parseKeys:function(e){for(var t={},n=0,s=e.length;n<s;n++){var o=e[n],f=o.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[o]=f.split("/")}return t},_getProperty:function(e,t){for(var n=this.object,s=0,o=e.length-(t||0);s<o&&n;s++)n=n[e[s]];return n},_setProperty:function(e,t){var n=this._getProperty(e,1);n&&(n[e[e.length-1]]=t)}}),Zi={request:function(e){var t=new r.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,h.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var n=t.status;n===0||n===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var n=t.status,s='Could not load "'+e.url+'" (Status: '+n+")";if(e.onError)e.onError(s,n);else throw new Error(s)},t.send(null)}},Nt=h.exports.CanvasProvider={canvases:[],getCanvas:function(e,t,n){if(!l)return null;var s,o=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?s=this.canvases.pop():(s=d.createElement("canvas"),o=!1);var f=s.getContext("2d",n||{});if(!f)throw new Error("Canvas "+s+" is unable to provide a 2D context.");return s.width===e&&s.height===t?o&&f.clearRect(0,0,e+1,t+1):(s.width=e,s.height=t),f.save(),s},getContext:function(e,t,n){var s=this.getCanvas(e,t,n);return s?s.getContext("2d",n||{}):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},oi=new function(){var e=Math.min,t=Math.max,n=Math.abs,s,o,f,g,p,_,v,x,k,w,y;function L(R,B,O){return .2989*R+.587*B+.114*O}function E(R,B,O,G){var U=G-L(R,B,O);k=R+U,w=B+U,y=O+U;var G=L(k,w,y),Y=e(k,w,y),j=t(k,w,y);if(Y<0){var X=G-Y;k=G+(k-G)*G/X,w=G+(w-G)*G/X,y=G+(y-G)*G/X}if(j>255){var Q=255-G,ie=j-G;k=G+(k-G)*Q/ie,w=G+(w-G)*Q/ie,y=G+(y-G)*Q/ie}}function M(R,B,O){return t(R,B,O)-e(R,B,O)}function C(R,B,O,F){var U=[R,B,O],G=t(R,B,O),Y=e(R,B,O),j;Y=Y===R?0:Y===B?1:2,G=G===R?0:G===B?1:2,j=e(Y,G)===0?t(Y,G)===1?2:1:0,U[G]>U[Y]?(U[j]=(U[j]-U[Y])*F/(U[G]-U[Y]),U[G]=F):U[j]=U[G]=0,U[Y]=0,k=U[0],w=U[1],y=U[2]}var P={multiply:function(){k=p*s/255,w=_*o/255,y=v*f/255},screen:function(){k=p+s-p*s/255,w=_+o-_*o/255,y=v+f-v*f/255},overlay:function(){k=p<128?2*p*s/255:255-2*(255-p)*(255-s)/255,w=_<128?2*_*o/255:255-2*(255-_)*(255-o)/255,y=v<128?2*v*f/255:255-2*(255-v)*(255-f)/255},"soft-light":function(){var R=s*p/255;k=R+p*(255-(255-p)*(255-s)/255-R)/255,R=o*_/255,w=R+_*(255-(255-_)*(255-o)/255-R)/255,R=f*v/255,y=R+v*(255-(255-v)*(255-f)/255-R)/255},"hard-light":function(){k=s<128?2*s*p/255:255-2*(255-s)*(255-p)/255,w=o<128?2*o*_/255:255-2*(255-o)*(255-_)/255,y=f<128?2*f*v/255:255-2*(255-f)*(255-v)/255},"color-dodge":function(){k=p===0?0:s===255?255:e(255,255*p/(255-s)),w=_===0?0:o===255?255:e(255,255*_/(255-o)),y=v===0?0:f===255?255:e(255,255*v/(255-f))},"color-burn":function(){k=p===255?255:s===0?0:t(0,255-(255-p)*255/s),w=_===255?255:o===0?0:t(0,255-(255-_)*255/o),y=v===255?255:f===0?0:t(0,255-(255-v)*255/f)},darken:function(){k=p<s?p:s,w=_<o?_:o,y=v<f?v:f},lighten:function(){k=p>s?p:s,w=_>o?_:o,y=v>f?v:f},difference:function(){k=p-s,k<0&&(k=-k),w=_-o,w<0&&(w=-w),y=v-f,y<0&&(y=-y)},exclusion:function(){k=p+s*(255-p-p)/255,w=_+o*(255-_-_)/255,y=v+f*(255-v-v)/255},hue:function(){C(s,o,f,M(p,_,v)),E(k,w,y,L(p,_,v))},saturation:function(){C(p,_,v,M(s,o,f)),E(k,w,y,L(p,_,v))},luminosity:function(){E(p,_,v,L(s,o,f))},color:function(){E(s,o,f,L(p,_,v))},add:function(){k=e(p+s,255),w=e(_+o,255),y=e(v+f,255)},subtract:function(){k=t(p-s,0),w=t(_-o,0),y=t(v-f,0)},average:function(){k=(p+s)/2,w=(_+o)/2,y=(v+f)/2},negation:function(){k=255-n(255-s-p),w=255-n(255-o-_),y=255-n(255-f-v)}},b=this.nativeModes=h.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(R){this[R]=!0},{}),T=Nt.getContext(1,1,{willReadFrequently:!0});T&&(h.each(P,function(R,B){var O=B==="darken",F=!1;T.save();try{T.fillStyle=O?"#300":"#a00",T.fillRect(0,0,1,1),T.globalCompositeOperation=B,T.globalCompositeOperation===B&&(T.fillStyle=O?"#a00":"#300",T.fillRect(0,0,1,1),F=T.getImageData(0,0,1,1).data[0]!==O?170:51)}catch{}T.restore(),b[B]=F}),Nt.release(T)),this.process=function(R,B,O,F,U){var G=B.canvas,Y=R==="normal";if(Y||b[R])O.save(),O.setTransform(1,0,0,1,0,0),O.globalAlpha=F,Y||(O.globalCompositeOperation=R),O.drawImage(G,U.x,U.y),O.restore();else{var j=P[R];if(!j)return;for(var X=O.getImageData(U.x,U.y,G.width,G.height),Q=X.data,ie=B.getImageData(0,0,G.width,G.height).data,ne=0,ue=Q.length;ne<ue;ne+=4){s=ie[ne],p=Q[ne],o=ie[ne+1],_=Q[ne+1],f=ie[ne+2],v=Q[ne+2],g=ie[ne+3],x=Q[ne+3],j();var ye=g*F/255,xe=1-ye;Q[ne]=ye*k+xe*p,Q[ne+1]=ye*w+xe*_,Q[ne+2]=ye*y+xe*v,Q[ne+3]=g*F+xe*x}O.putImageData(X,U.x,U.y)}}},Ct=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",s={href:n,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function o(p,_,v){return g(d.createElementNS(e,p),_,v)}function f(p,_){var v=s[_],x=v?p.getAttributeNS(v,_):p.getAttribute(_);return x==="null"?null:x}function g(p,_,v){for(var x in _){var k=_[x],w=s[x];typeof k=="number"&&v&&(k=v.number(k)),w?p.setAttributeNS(w,x,k):p.setAttribute(x,k)}return p}return{svg:e,xmlns:t,xlink:n,create:o,get:f,set:g}},In=h.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof Ot||e instanceof je||e instanceof xt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var n=h.capitalize(t),s=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:s,fromSVG:s&&h.each(s,function(o,f){this[o]=f},{}),exportFilter:e[3],get:"get"+n,set:"set"+n}},{});new function(){var e;function t(P,b,T){var R=new h,B=P.getTranslation();if(b){var O;P.isInvertible()?(P=P._shiftless(),O=P._inverseTransform(B),B=null):O=new q,R[T?"cx":"x"]=O.x,R[T?"cy":"y"]=O.y}if(!P.isIdentity()){var F=P.decompose();if(F){var U=[],G=F.rotation,Y=F.scaling,j=F.skewing;B&&!B.isZero()&&U.push("translate("+e.point(B)+")"),G&&U.push("rotate("+e.number(G)+")"),(!D.isZero(Y.x-1)||!D.isZero(Y.y-1))&&U.push("scale("+e.point(Y)+")"),j.x&&U.push("skewX("+e.number(j.x)+")"),j.y&&U.push("skewY("+e.number(j.y)+")"),R.transform=U.join(" ")}else R.transform="matrix("+P.getValues().join(",")+")"}return R}function n(P,b){for(var T=t(P._matrix),R=P._children,B=Ct.create("g",T,e),O=0,F=R.length;O<F;O++){var U=R[O],G=M(U,b);if(G)if(U.isClipMask()){var Y=Ct.create("clipPath");Y.appendChild(G),L(U,Y,"clip"),Ct.set(B,{"clip-path":"url(#"+Y.id+")"})}else B.appendChild(G)}return B}function s(P,b){var T=t(P._matrix,!0),R=P.getSize(),B=P.getImage();return T.x-=R.width/2,T.y-=R.height/2,T.width=R.width,T.height=R.height,T.href=b.embedImages==!1&&B&&B.src||P.toDataURL(),Ct.create("image",T,e)}function o(P,b){var T=b.matchShapes;if(T){var R=P.toShape(!1);if(R)return f(R)}var B=P._segments,O=B.length,F,U=t(P._matrix);if(T&&O>=2&&!P.hasHandles())if(O>2){F=P._closed?"polygon":"polyline";for(var G=[],Y=0;Y<O;Y++)G.push(e.point(B[Y]._point));U.points=G.join(" ")}else{F="line";var j=B[0]._point,X=B[1]._point;U.set({x1:j.x,y1:j.y,x2:X.x,y2:X.y})}else F="path",U.d=P.getPathData(null,b.precision);return Ct.create(F,U,e)}function f(P){var b=P._type,T=P._radius,R=t(P._matrix,!0,b!=="rectangle");if(b==="rectangle"){b="rect";var B=P._size,O=B.width,F=B.height;R.x-=O/2,R.y-=F/2,R.width=O,R.height=F,T.isZero()&&(T=null)}return T&&(b==="circle"?R.r=T:(R.rx=T.width,R.ry=T.height)),Ct.create(b,R,e)}function g(P,b){var T=t(P._matrix),R=P.getPathData(null,b.precision);return R&&(T.d=R),Ct.create("path",T,e)}function p(P,b){var T=t(P._matrix,!0),R=P._definition,B=y(R,"symbol"),O=R._item,F=O.getStrokeBounds();return B||(B=Ct.create("symbol",{viewBox:e.rectangle(F)}),B.appendChild(M(O,b)),L(R,B,"symbol")),T.href="#"+B.id,T.x+=F.x,T.y+=F.y,T.width=F.width,T.height=F.height,T.overflow="visible",Ct.create("use",T,e)}function _(P){var b=y(P,"color");if(!b){var T=P.getGradient(),R=T._radial,B=P.getOrigin(),O=P.getDestination(),F;if(R){F={cx:B.x,cy:B.y,r:B.getDistance(O)};var U=P.getHighlight();U&&(F.fx=U.x,F.fy=U.y)}else F={x1:B.x,y1:B.y,x2:O.x,y2:O.y};F.gradientUnits="userSpaceOnUse",b=Ct.create((R?"radial":"linear")+"Gradient",F,e);for(var G=T._stops,Y=0,j=G.length;Y<j;Y++){var X=G[Y],Q=X._color,ie=Q.getAlpha(),ne=X._offset;F={offset:ne??Y/(j-1)},Q&&(F["stop-color"]=Q.toCSS(!0)),ie<1&&(F["stop-opacity"]=ie),b.appendChild(Ct.create("stop",F,e))}L(P,b,"color")}return"url(#"+b.id+")"}function v(P){var b=Ct.create("text",t(P._matrix,!0),e);return b.textContent=P._content,b}var x={Group:n,Layer:n,Raster:s,Path:o,Shape:f,CompoundPath:g,SymbolItem:p,PointText:v};function k(P,b,T){var R={},B=!T&&P.getParent(),O=[];return P._name!=null&&(R.id=P._name),h.each(In,function(F){var U=F.get,G=F.type,Y=P[U]();if(F.exportFilter?F.exportFilter(P,Y):!B||!h.equals(B[U](),Y)){if(G==="color"&&Y!=null){var j=Y.getAlpha();j<1&&(R[F.attribute+"-opacity"]=j)}G==="style"?O.push(F.attribute+": "+Y):R[F.attribute]=Y==null?"none":G==="color"?Y.gradient?_(Y):Y.toCSS(!0):G==="array"?Y.join(","):G==="lookup"?F.toSVG[Y]:Y}}),O.length&&(R.style=O.join(";")),R.opacity===1&&delete R.opacity,P._visible||(R.visibility="hidden"),Ct.set(b,R,e)}var w;function y(P,b){return w||(w={ids:{},svgs:{}}),P&&w.svgs[b+"-"+(P._id||P.__id||(P.__id=K.get("svg")))]}function L(P,b,T){w||y();var R=w.ids[T]=(w.ids[T]||0)+1;b.id=T+"-"+R,w.svgs[T+"-"+(P._id||P.__id)]=b}function E(P,b){var T=P,R=null;if(w){T=P.nodeName.toLowerCase()==="svg"&&P;for(var B in w.svgs)R||(T||(T=Ct.create("svg"),T.appendChild(P)),R=T.insertBefore(Ct.create("defs"),T.firstChild)),R.appendChild(w.svgs[B]);w=null}return b.asString?new r.XMLSerializer().serializeToString(T):T}function M(P,b,T){var R=x[P._class],B=R&&R(P,b);if(B){var O=b.onExport;O&&(B=O(P,B,b)||B);var F=JSON.stringify(P._data);F&&F!=="{}"&&F!=="null"&&B.setAttribute("data-paper-data",F)}return B&&k(P,B,T)}function C(P){return P||(P={}),e=new H(P.precision),P}A.inject({exportSVG:function(P){return P=C(P),E(M(this,P,!0),P)}}),fe.inject({exportSVG:function(P){P=C(P);var b=this._children,T=this.getView(),R=h.pick(P.bounds,"view"),B=P.matrix||R==="view"&&T._matrix,O=B&&ge.read([B]),F=R==="view"?new te([0,0],T.getViewSize()):R==="content"?A._getBounds(b,O,{stroke:!0}).rect:te.read([R],0,{readNull:!0}),U={version:"1.1",xmlns:Ct.svg,"xmlns:xlink":Ct.xlink};F&&(U.width=F.width,U.height=F.height,(F.x||F.x===0||F.y||F.y===0)&&(U.viewBox=e.rectangle(F)));var G=Ct.create("svg",U,e),Y=G;O&&!O.isIdentity()&&(Y=G.appendChild(Ct.create("g",t(O),e)));for(var j=0,X=b.length;j<X;j++)Y.appendChild(M(b[j],P,!0));return E(G,P)}})},new function(){var e={},t;function n(b,T,R,B,O,F){var U=Ct.get(b,T)||F,G=U==null?B?null:R?"":0:R?U:parseFloat(U);return/%\s*$/.test(U)?G/100*(O?1:t[/x|^width/.test(T)?"width":"height"]):G}function s(b,T,R,B,O,F,U){return T=n(b,T||"x",!1,B,O,F),R=n(b,R||"y",!1,B,O,U),B&&(T==null||R==null)?null:new q(T,R)}function o(b,T,R,B,O){return T=n(b,T||"width",!1,B,O),R=n(b,R||"height",!1,B,O),B&&(T==null||R==null)?null:new J(T,R)}function f(b,T,R){return b==="none"?null:T==="number"?parseFloat(b):T==="array"?b?b.split(/[\s,]+/g).map(parseFloat):[]:T==="color"?M(b)||b:T==="lookup"?R[b]:b}function g(b,T,R,B){var O=b.childNodes,F=T==="clippath",U=T==="defs",G=new be,Y=G._project,j=Y._currentStyle,X=[];if(!F&&!U&&(G=E(G,b,B),Y._currentStyle=G._style.clone()),B)for(var Q=b.querySelectorAll("defs"),ie=0,ne=Q.length;ie<ne;ie++)C(Q[ie],R,!1);for(var ie=0,ne=O.length;ie<ne;ie++){var ue=O[ie],ye;ue.nodeType===1&&!/^defs$/i.test(ue.nodeName)&&(ye=C(ue,R,!1))&&!(ye instanceof ze)&&X.push(ye)}return G.addChildren(X),F&&(G=E(G.reduce(),b,B)),Y._currentStyle=j,(F||U)&&(G.remove(),G=null),G}function p(b,T){for(var R=b.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),B=[],O=0,F=R.length;O<F;O+=2)B.push(new q(parseFloat(R[O]),parseFloat(R[O+1])));var U=new qe(B);return T==="polygon"&&U.closePath(),U}function _(b){return Ot.create(b.getAttribute("d"))}function v(b,T){var R=(n(b,"href",!0)||"").substring(1),B=T==="radialgradient",O;if(R)O=e[R].getGradient(),O._radial^B&&(O=O.clone(),O._radial=B);else{for(var F=b.childNodes,U=[],G=0,Y=F.length;G<Y;G++){var j=F[G];j.nodeType===1&&U.push(E(new vi,j))}O=new Be(U,B)}var X,Q,ie,ne=n(b,"gradientUnits",!0)!=="userSpaceOnUse";B?(X=s(b,"cx","cy",!1,ne,"50%","50%"),Q=X.add(n(b,"r",!1,!1,ne,"50%"),0),ie=s(b,"fx","fy",!0,ne)):(X=s(b,"x1","y1",!1,ne,"0%","0%"),Q=s(b,"x2","y2",!1,ne,"100%","0%"));var ue=E(new St(O,X,Q,ie),b);return ue._scaleToBounds=ne,null}var x={"#document":function(b,T,R,B){for(var O=b.childNodes,F=0,U=O.length;F<U;F++){var G=O[F];if(G.nodeType===1)return C(G,R,B)}},g,svg:g,clippath:g,polygon:p,polyline:p,path:_,lineargradient:v,radialgradient:v,image:function(b){var T=new tt(n(b,"href",!0));return T.on("load",function(){var R=o(b);this.setSize(R);var B=s(b).add(R.divide(2));this._matrix.append(new ge().translate(B))}),T},symbol:function(b,T,R,B){return new ze(g(b,T,R,B),!0)},defs:g,use:function(b){var T=(n(b,"href",!0)||"").substring(1),R=e[T],B=s(b);return R?R instanceof ze?R.place(B):R.clone().translate(B):null},circle:function(b){return new je.Circle(s(b,"cx","cy"),n(b,"r"))},ellipse:function(b){return new je.Ellipse({center:s(b,"cx","cy"),radius:o(b,"rx","ry")})},rect:function(b){return new je.Rectangle(new te(s(b),o(b)),o(b,"rx","ry"))},line:function(b){return new qe.Line(s(b,"x1","y1"),s(b,"x2","y2"))},text:function(b){var T=new Wi(s(b).add(s(b,"dx","dy")));return T.setContent(b.textContent.trim()||""),T},switch:g};function k(b,T,R,B){if(b.transform){for(var O=(B.getAttribute(R)||"").split(/\)\s*/g),F=new ge,U=0,G=O.length;U<G;U++){var Y=O[U];if(!Y)break;for(var j=Y.split(/\(\s*/),X=j[0],Q=j[1].split(/[\s,]+/g),ie=0,ne=Q.length;ie<ne;ie++)Q[ie]=parseFloat(Q[ie]);switch(X){case"matrix":F.append(new ge(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]));break;case"rotate":F.rotate(Q[0],Q[1]||0,Q[2]||0);break;case"translate":F.translate(Q[0],Q[1]||0);break;case"scale":F.scale(Q);break;case"skewX":F.skew(Q[0],0);break;case"skewY":F.skew(0,Q[0]);break}}b.transform(F)}}function w(b,T,R){var B=R==="fill-opacity"?"getFillColor":"getStrokeColor",O=b[B]&&b[B]();O&&O.setAlpha(parseFloat(T))}var y=h.set(h.each(In,function(b){this[b.attribute]=function(T,R){if(T[b.set]&&(T[b.set](f(R,b.type,b.fromSVG)),b.type==="color")){var B=T[b.get]();if(B&&B._scaleToBounds){var O=T.getBounds();B.transform(new ge().translate(O.getPoint()).scale(O.getSize()))}}}},{}),{id:function(b,T){e[T]=b,b.setName&&b.setName(T)},"clip-path":function(b,T){var R=M(T);if(R)if(R=R.clone(),R.setClipMask(!0),b instanceof be)b.insertChild(0,R);else return new be(R,b)},gradientTransform:k,transform:k,"fill-opacity":w,"stroke-opacity":w,visibility:function(b,T){b.setVisible&&b.setVisible(T==="visible")},display:function(b,T){b.setVisible&&b.setVisible(T!==null)},"stop-color":function(b,T){b.setColor&&b.setColor(T)},"stop-opacity":function(b,T){b._color&&b._color.setAlpha(parseFloat(T))},offset:function(b,T){if(b.setOffset){var R=T.match(/(.*)%$/);b.setOffset(R?R[1]/100:parseFloat(T))}},viewBox:function(b,T,R,B,O){var F=new te(f(T,"array")),U=o(B,null,null,!0),G,Y;if(b instanceof be){var j=U?U.divide(F.getSize()):1,Y=new ge().scale(j).translate(F.getPoint().negate());G=b}else b instanceof ze&&(U&&F.setSize(U),G=b._item);if(G){if(L(B,"overflow",O)!=="visible"){var X=new je.Rectangle(F);X.setClipMask(!0),G.addChild(X)}Y&&G.transform(Y)}}});function L(b,T,R){var B=b.attributes[T],O=B&&B.value;if(!O&&b.style){var F=h.camelize(T);O=b.style[F],!O&&R.node[F]!==R.parent[F]&&(O=R.node[F])}return O?O==="none"?null:O:u}function E(b,T,R){var B=T.parentNode,O={node:lt.getStyles(T)||{},parent:!R&&!/^defs$/i.test(B.tagName)&&lt.getStyles(B)||{}};return h.each(y,function(F,U){var G=L(T,U,O);b=G!==u&&F(b,G,U,T,O)||b}),b}function M(b){var T=b&&b.match(/\((?:["'#]*)([^"')]+)/),R=T&&T[1],B=R&&e[l?R.replace(l.location.href.split("#")[0]+"#",""):R];return B&&B._scaleToBounds&&(B=B.clone(),B._scaleToBounds=!0),B}function C(b,T,R){var B=b.nodeName.toLowerCase(),O=B!=="#document",F=d.body,U,G,Y;R&&O&&(t=nt.getView().getSize(),t=o(b,null,null,!0)||t,U=Ct.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),G=b.parentNode,Y=b.nextSibling,U.appendChild(b),F.appendChild(U));var j=nt.settings,X=j.applyMatrix,Q=j.insertItems;j.applyMatrix=!1,j.insertItems=!1;var ie=x[B],ne=ie&&ie(b,B,T,R)||null;if(j.insertItems=Q,j.applyMatrix=X,ne){O&&!(ne instanceof be)&&(ne=E(ne,b,R));var ue=T.onImport,ye=O&&b.getAttribute("data-paper-data");ue&&(ne=ue(b,ne,T)||ne),T.expandShapes&&ne instanceof je&&(ne.remove(),ne=ne.toPath()),ye&&(ne._data=JSON.parse(ye))}return U&&(F.removeChild(U),G&&(Y?G.insertBefore(b,Y):G.appendChild(b))),R&&(e={},ne&&h.pick(T.applyMatrix,X)&&ne.matrix.apply(!0,!0)),ne}function P(b,T,R){if(!b)return null;T=typeof T=="function"?{onLoad:T}:T||{};var B=nt,O=null;function F(j){try{var X=typeof j=="object"?j:new r.DOMParser().parseFromString(j.trim(),"image/svg+xml");if(!X.nodeName)throw X=null,new Error("Unsupported SVG source: "+b);nt=B,O=C(X,T,!0),(!T||T.insert!==!1)&&R._insertItem(u,O);var Q=T.onLoad;Q&&Q(O,j)}catch(ie){U(ie)}}function U(j,X){var Q=T.onError;if(Q)Q(j,X);else throw new Error(j)}if(typeof b=="string"&&!/^[\s\S]*</.test(b)){var G=d.getElementById(b);G?F(G):Zi.request({url:b,async:!0,onLoad:F,onError:U})}else if(typeof File<"u"&&b instanceof File){var Y=new FileReader;return Y.onload=function(){F(Y.result)},Y.onerror=function(){U(Y.error)},Y.readAsText(b)}else F(b);return O}A.inject({importSVG:function(b,T){return P(b,T,this)}}),fe.inject({importSVG:function(b,T){return this.activate(),P(b,T,this)}})},h.exports.PaperScript=(function(){var e=this,t=e.acorn;if(!t&&typeof hl<"u")try{t=dl()}catch{}if(!t){var n,s;t=n=s={},function(E,M){if(typeof n=="object"&&typeof s=="object")return M(n);if(typeof u=="function"&&u.amd)return u(["exports"],M);M(E.acorn||(E.acorn={}))}(this,function(E){E.version="0.5.0";var M,C,P,b;E.parse=function(Z,$){return C=String(Z),P=C.length,R($),Yr(),vu(M.program)};var T=E.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function R(Z){M=Z||{};for(var $ in T)Object.prototype.hasOwnProperty.call(M,$)||(M[$]=T[$]);b=M.sourceFile||null}var B=E.getLineInfo=function(Z,$){for(var he=1,ve=0;;){vn.lastIndex=ve;var Ke=vn.exec(Z);if(Ke&&Ke.index<$)++he,ve=Ke.index+Ke[0].length;else break}return{line:he,column:$-ve}};E.tokenize=function(Z,$){C=String(Z),P=C.length,R($),Yr();var he={};function ve(Ke){return ye=U,en(Ke),he.start=F,he.end=U,he.startLoc=G,he.endLoc=Y,he.type=j,he.value=X,he}return ve.jumpTo=function(Ke,Qe){if(O=Ke,M.locations){ie=1,ne=vn.lastIndex=0;for(var $e;($e=vn.exec(C))&&$e.index<Ke;)++ie,ne=$e.index+$e[0].length}Q=Qe,bn()},ve};var O,F,U,G,Y,j,X,Q,ie,ne,ue,ye,xe,ke,Ne,pe;function _e(Z,$){var he=B(C,Z);$+=" ("+he.line+":"+he.column+")";var ve=new SyntaxError($);throw ve.pos=Z,ve.loc=he,ve.raisedAt=O,ve}var Ie=[],Me={type:"num"},Le={type:"regexp"},We={type:"string"},Ue={type:"name"},Ye={type:"eof"},Je={keyword:"break"},Ze={keyword:"case",beforeExpr:!0},Vt={keyword:"catch"},Pe={keyword:"continue"},bt={keyword:"debugger"},kt={keyword:"default"},gt={keyword:"do",isLoop:!0},Mt={keyword:"else",beforeExpr:!0},Zt={keyword:"finally"},Bt={keyword:"for",isLoop:!0},ti={keyword:"function"},Ut={keyword:"if"},It={keyword:"return",beforeExpr:!0},li={keyword:"switch"},Kt={keyword:"throw",beforeExpr:!0},ii={keyword:"try"},bi={keyword:"var"},hi={keyword:"while",isLoop:!0},_n={keyword:"with"},Ki={keyword:"new",beforeExpr:!0},Pn={keyword:"this"},An={keyword:"null",atomValue:null},En={keyword:"true",atomValue:!0},Xi={keyword:"false",atomValue:!1},rt={keyword:"in",binop:7,beforeExpr:!0},Tn={break:Je,case:Ze,catch:Vt,continue:Pe,debugger:bt,default:kt,do:gt,else:Mt,finally:Zt,for:Bt,function:ti,if:Ut,return:It,switch:li,throw:Kt,try:ii,var:bi,while:hi,with:_n,null:An,true:En,false:Xi,new:Ki,in:rt,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Pn,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Yi={type:"[",beforeExpr:!0},Qi={type:"]"},Ci={type:"{",beforeExpr:!0},ki={type:"}"},ci={type:"(",beforeExpr:!0},fi={type:")"},i={type:",",beforeExpr:!0},c={type:";",beforeExpr:!0},I={type:":",beforeExpr:!0},V={type:"."},W={type:"?",beforeExpr:!0},se={binop:10,beforeExpr:!0},oe={isAssign:!0,beforeExpr:!0},Se={isAssign:!0,beforeExpr:!0},Te={postfix:!0,prefix:!0,isUpdate:!0},it={prefix:!0,beforeExpr:!0},st={binop:1,beforeExpr:!0},Rt={binop:2,beforeExpr:!0},Ii={binop:3,beforeExpr:!0},Ji={binop:4,beforeExpr:!0},Li={binop:5,beforeExpr:!0},mn={binop:6,beforeExpr:!0},Oi={binop:7,beforeExpr:!0},Ri={binop:8,beforeExpr:!0},Ja={binop:9,prefix:!0,beforeExpr:!0},$a={binop:10,beforeExpr:!0};E.tokTypes={bracketL:Yi,bracketR:Qi,braceL:Ci,braceR:ki,parenL:ci,parenR:fi,comma:i,semi:c,colon:I,dot:V,question:W,slash:se,eq:oe,name:Ue,eof:Ye,num:Me,regexp:Le,string:We};for(var Wr in Tn)E.tokTypes["_"+Wr]=Tn[Wr];function Nn(Z){Z=Z.split(" ");var $="",he=[];e:for(var ve=0;ve<Z.length;++ve){for(var Ke=0;Ke<he.length;++Ke)if(he[Ke][0].length==Z[ve].length){he[Ke].push(Z[ve]);continue e}he.push([Z[ve]])}function Qe(_t){if(_t.length==1)return $+="return str === "+JSON.stringify(_t[0])+";";$+="switch(str){";for(var _i=0;_i<_t.length;++_i)$+="case "+JSON.stringify(_t[_i])+":";$+="return true}return false;"}if(he.length>3){he.sort(function(_t,_i){return _i.length-_t.length}),$+="switch(str.length){";for(var ve=0;ve<he.length;++ve){var $e=he[ve];$+="case "+$e[0].length+":",Qe($e)}$+="}"}else Qe(Z);return new Function("str",$)}var eu=Nn("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),tu=Nn("class enum extends super const export import"),Gr=Nn("implements interface let package private protected public static yield"),Hn=Nn("eval arguments"),iu=Nn("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),nu=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Zr="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",ru="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",Kr=new RegExp("["+Zr+"]"),su=new RegExp("["+Zr+ru+"]"),Un=/[\n\r\u2028\u2029]/,vn=/\r\n|[\n\r\u2028\u2029]/g,jn=E.isIdentifierStart=function(Z){return Z<65?Z===36:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&Kr.test(String.fromCharCode(Z))},Xr=E.isIdentifierChar=function(Z){return Z<48?Z===36:Z<58?!0:Z<65?!1:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&su.test(String.fromCharCode(Z))};function $i(){this.line=ie,this.column=O-ne}function Yr(){ie=1,O=ne=0,Q=!0,bn()}function jt(Z,$){U=O,M.locations&&(Y=new $i),j=Z,bn(),X=$,Q=Z.beforeExpr}function au(){var Z=M.onComment&&M.locations&&new $i,$=O,he=C.indexOf("*/",O+=2);if(he===-1&&_e(O-2,"Unterminated comment"),O=he+2,M.locations){vn.lastIndex=$;for(var ve;(ve=vn.exec(C))&&ve.index<O;)++ie,ne=ve.index+ve[0].length}M.onComment&&M.onComment(!0,C.slice($+2,he),$,O,Z,M.locations&&new $i)}function gr(){for(var Z=O,$=M.onComment&&M.locations&&new $i,he=C.charCodeAt(O+=2);O<P&&he!==10&&he!==13&&he!==8232&&he!==8233;)++O,he=C.charCodeAt(O);M.onComment&&M.onComment(!1,C.slice(Z+2,O),Z,O,$,M.locations&&new $i)}function bn(){for(;O<P;){var Z=C.charCodeAt(O);if(Z===32)++O;else if(Z===13){++O;var $=C.charCodeAt(O);$===10&&++O,M.locations&&(++ie,ne=O)}else if(Z===10||Z===8232||Z===8233)++O,M.locations&&(++ie,ne=O);else if(Z>8&&Z<14)++O;else if(Z===47){var $=C.charCodeAt(O+1);if($===42)au();else if($===47)gr();else break}else if(Z===160)++O;else if(Z>=5760&&nu.test(String.fromCharCode(Z)))++O;else break}}function uu(){var Z=C.charCodeAt(O+1);return Z>=48&&Z<=57?Jr(!0):(++O,jt(V))}function ou(){var Z=C.charCodeAt(O+1);return Q?(++O,Qr()):Z===61?Wt(Se,2):Wt(se,1)}function lu(){var Z=C.charCodeAt(O+1);return Z===61?Wt(Se,2):Wt($a,1)}function hu(Z){var $=C.charCodeAt(O+1);return $===Z?Wt(Z===124?st:Rt,2):$===61?Wt(Se,2):Wt(Z===124?Ii:Li,1)}function fu(){var Z=C.charCodeAt(O+1);return Z===61?Wt(Se,2):Wt(Ji,1)}function cu(Z){var $=C.charCodeAt(O+1);return $===Z?$==45&&C.charCodeAt(O+2)==62&&Un.test(C.slice(ye,O))?(O+=3,gr(),bn(),en()):Wt(Te,2):$===61?Wt(Se,2):Wt(Ja,1)}function du(Z){var $=C.charCodeAt(O+1),he=1;return $===Z?(he=Z===62&&C.charCodeAt(O+2)===62?3:2,C.charCodeAt(O+he)===61?Wt(Se,he+1):Wt(Ri,he)):$==33&&Z==60&&C.charCodeAt(O+2)==45&&C.charCodeAt(O+3)==45?(O+=4,gr(),bn(),en()):($===61&&(he=C.charCodeAt(O+2)===61?3:2),Wt(Oi,he))}function pu(Z){var $=C.charCodeAt(O+1);return $===61?Wt(mn,C.charCodeAt(O+2)===61?3:2):Wt(Z===61?oe:it,1)}function gu(Z){switch(Z){case 46:return uu();case 40:return++O,jt(ci);case 41:return++O,jt(fi);case 59:return++O,jt(c);case 44:return++O,jt(i);case 91:return++O,jt(Yi);case 93:return++O,jt(Qi);case 123:return++O,jt(Ci);case 125:return++O,jt(ki);case 58:return++O,jt(I);case 63:return++O,jt(W);case 48:var $=C.charCodeAt(O+1);if($===120||$===88)return _u();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Jr(!1);case 34:case 39:return mu(Z);case 47:return ou();case 37:case 42:return lu();case 124:case 38:return hu(Z);case 94:return fu();case 43:case 45:return cu(Z);case 60:case 62:return du(Z);case 61:case 33:return pu(Z);case 126:return Wt(it,1)}return!1}function en(Z){if(Z?O=F+1:F=O,M.locations&&(G=new $i),Z)return Qr();if(O>=P)return jt(Ye);var $=C.charCodeAt(O);if(jn($)||$===92)return es();var he=gu($);if(he===!1){var ve=String.fromCharCode($);if(ve==="\\"||Kr.test(ve))return es();_e(O,"Unexpected character '"+ve+"'")}return he}function Wt(Z,$){var he=C.slice(O,O+$);O+=$,jt(Z,he)}function Qr(){for(var Ke="",Z,$,he=O;;){O>=P&&_e(he,"Unterminated regular expression");var ve=C.charAt(O);if(Un.test(ve)&&_e(he,"Unterminated regular expression"),Z)Z=!1;else{if(ve==="[")$=!0;else if(ve==="]"&&$)$=!1;else if(ve==="/"&&!$)break;Z=ve==="\\"}++O}var Ke=C.slice(he,O);++O;var Qe=$r();Qe&&!/^[gmsiy]*$/.test(Qe)&&_e(he,"Invalid regexp flag");try{var $e=new RegExp(Ke,Qe)}catch(_t){_t instanceof SyntaxError&&_e(he,_t.message),_e(_t)}return jt(Le,$e)}function Mn(Z,$){for(var he=O,ve=0,Ke=0,Qe=$??1/0;Ke<Qe;++Ke){var $e=C.charCodeAt(O),_t;if($e>=97?_t=$e-97+10:$e>=65?_t=$e-65+10:$e>=48&&$e<=57?_t=$e-48:_t=1/0,_t>=Z)break;++O,ve=ve*Z+_t}return O===he||$!=null&&O-he!==$?null:ve}function _u(){O+=2;var Z=Mn(16);return Z==null&&_e(F+2,"Expected hexadecimal number"),jn(C.charCodeAt(O))&&_e(O,"Identifier directly after number"),jt(Me,Z)}function Jr(Z){var $=O,he=!1,ve=C.charCodeAt(O)===48;!Z&&Mn(10)===null&&_e($,"Invalid number"),C.charCodeAt(O)===46&&(++O,Mn(10),he=!0);var Ke=C.charCodeAt(O);(Ke===69||Ke===101)&&(Ke=C.charCodeAt(++O),(Ke===43||Ke===45)&&++O,Mn(10)===null&&_e($,"Invalid number"),he=!0),jn(C.charCodeAt(O))&&_e(O,"Identifier directly after number");var Qe=C.slice($,O),$e;return he?$e=parseFloat(Qe):!ve||Qe.length===1?$e=parseInt(Qe,10):/[89]/.test(Qe)||pe?_e($,"Invalid number"):$e=parseInt(Qe,8),jt(Me,$e)}function mu(Z){O++;for(var $="";;){O>=P&&_e(F,"Unterminated string constant");var he=C.charCodeAt(O);if(he===Z)return++O,jt(We,$);if(he===92){he=C.charCodeAt(++O);var ve=/^[0-7]+/.exec(C.slice(O,O+3));for(ve&&(ve=ve[0]);ve&&parseInt(ve,8)>255;)ve=ve.slice(0,-1);if(ve==="0"&&(ve=null),++O,ve)pe&&_e(O-2,"Octal literal in strict mode"),$+=String.fromCharCode(parseInt(ve,8)),O+=ve.length-1;else switch(he){case 110:$+=`
`;break;case 114:$+="\r";break;case 120:$+=String.fromCharCode(Wn(2));break;case 117:$+=String.fromCharCode(Wn(4));break;case 85:$+=String.fromCharCode(Wn(8));break;case 116:$+="	";break;case 98:$+="\b";break;case 118:$+="\v";break;case 102:$+="\f";break;case 48:$+="\0";break;case 13:C.charCodeAt(O)===10&&++O;case 10:M.locations&&(ne=O,++ie);break;default:$+=String.fromCharCode(he);break}}else(he===13||he===10||he===8232||he===8233)&&_e(F,"Unterminated string constant"),$+=String.fromCharCode(he),++O}}function Wn(Z){var $=Mn(16,Z);return $===null&&_e(F,"Bad character escape sequence"),$}var yn;function $r(){yn=!1;for(var Z,$=!0,he=O;;){var ve=C.charCodeAt(O);if(Xr(ve))yn&&(Z+=C.charAt(O)),++O;else if(ve===92){yn||(Z=C.slice(he,O)),yn=!0,C.charCodeAt(++O)!=117&&_e(O,"Expecting Unicode escape sequence \\uXXXX"),++O;var Ke=Wn(4),Qe=String.fromCharCode(Ke);Qe||_e(O-1,"Invalid Unicode escape"),($?jn(Ke):Xr(Ke))||_e(O-4,"Invalid Unicode escape"),Z+=Qe}else break;$=!1}return yn?Z:C.slice(he,O)}function es(){var Z=$r(),$=Ue;return!yn&&iu(Z)&&($=Tn[Z]),jt($,Z)}function dt(){ue=F,ye=U,xe=Y,en()}function _r(Z){if(pe=Z,O=F,M.locations)for(;O<ne;)ne=C.lastIndexOf(`
`,ne-2)+1,--ie;bn(),en()}function ts(){this.type=null,this.start=F,this.end=null}function is(){this.start=G,this.end=null,b!==null&&(this.source=b)}function Xt(){var Z=new ts;return M.locations&&(Z.loc=new is),M.directSourceFile&&(Z.sourceFile=M.directSourceFile),M.ranges&&(Z.range=[F,0]),Z}function zi(Z){var $=new ts;return $.start=Z.start,M.locations&&($.loc=new is,$.loc.start=Z.loc.start),M.ranges&&($.range=[Z.range[0],0]),$}function at(Z,$){return Z.type=$,Z.end=ye,M.locations&&(Z.loc.end=xe),M.ranges&&(Z.range[1]=ye),Z}function mr(Z){return M.ecmaVersion>=5&&Z.type==="ExpressionStatement"&&Z.expression.type==="Literal"&&Z.expression.value==="use strict"}function Lt(Z){if(j===Z)return dt(),!0}function Gn(){return!M.strictSemicolons&&(j===Ye||j===ki||Un.test(C.slice(ye,F)))}function tn(){!Lt(c)&&!Gn()&&Pi()}function Dt(Z){j===Z?dt():Pi()}function Pi(){_e(F,"Unexpected token")}function Zn(Z){Z.type!=="Identifier"&&Z.type!=="MemberExpression"&&_e(Z.start,"Assigning to rvalue"),pe&&Z.type==="Identifier"&&Hn(Z.name)&&_e(Z.start,"Assigning to "+Z.name+" in strict mode")}function vu(Z){ue=ye=O,M.locations&&(xe=new $i),ke=pe=null,Ne=[],en();var $=Z||Xt(),he=!0;for(Z||($.body=[]);j!==Ye;){var ve=gi();$.body.push(ve),he&&mr(ve)&&_r(!0),he=!1}return at($,"Program")}var vr={kind:"loop"},bu={kind:"switch"};function gi(){(j===se||j===Se&&X=="/=")&&en(!0);var Z=j,$=Xt();switch(Z){case Je:case Pe:dt();var he=Z===Je;Lt(c)||Gn()?$.label=null:j!==Ue?Pi():($.label=Vi(),tn());for(var ve=0;ve<Ne.length;++ve){var Ke=Ne[ve];if(($.label==null||Ke.name===$.label.name)&&(Ke.kind!=null&&(he||Ke.kind==="loop")||$.label&&he))break}return ve===Ne.length&&_e($.start,"Unsyntactic "+Z.keyword),at($,he?"BreakStatement":"ContinueStatement");case bt:return dt(),tn(),at($,"DebuggerStatement");case gt:return dt(),Ne.push(vr),$.body=gi(),Ne.pop(),Dt(hi),$.test=Ln(),tn(),at($,"DoWhileStatement");case Bt:if(dt(),Ne.push(vr),Dt(ci),j===c)return br($,null);if(j===bi){var Qe=Xt();return dt(),rs(Qe,!0),at(Qe,"VariableDeclaration"),Qe.declarations.length===1&&Lt(rt)?ns($,Qe):br($,Qe)}var Qe=Qt(!1,!0);return Lt(rt)?(Zn(Qe),ns($,Qe)):br($,Qe);case ti:return dt(),Cr($,!0);case Ut:return dt(),$.test=Ln(),$.consequent=gi(),$.alternate=Lt(Mt)?gi():null,at($,"IfStatement");case It:return!ke&&!M.allowReturnOutsideFunction&&_e(F,"'return' outside of function"),dt(),Lt(c)||Gn()?$.argument=null:($.argument=Qt(),tn()),at($,"ReturnStatement");case li:dt(),$.discriminant=Ln(),$.cases=[],Dt(Ci),Ne.push(bu);for(var $e,_t;j!=ki;)if(j===Ze||j===kt){var _i=j===Ze;$e&&at($e,"SwitchCase"),$.cases.push($e=Xt()),$e.consequent=[],dt(),_i?$e.test=Qt():(_t&&_e(ue,"Multiple default clauses"),_t=!0,$e.test=null),Dt(I)}else $e||Pi(),$e.consequent.push(gi());return $e&&at($e,"SwitchCase"),dt(),Ne.pop(),at($,"SwitchStatement");case Kt:return dt(),Un.test(C.slice(ye,F))&&_e(ye,"Illegal newline after throw"),$.argument=Qt(),tn(),at($,"ThrowStatement");case ii:if(dt(),$.block=On(),$.handler=null,j===Vt){var nn=Xt();dt(),Dt(ci),nn.param=Vi(),pe&&Hn(nn.param.name)&&_e(nn.param.start,"Binding "+nn.param.name+" in strict mode"),Dt(fi),nn.guard=null,nn.body=On(),$.handler=at(nn,"CatchClause")}return $.guardedHandlers=Ie,$.finalizer=Lt(Zt)?On():null,!$.handler&&!$.finalizer&&_e($.start,"Missing catch or finally clause"),at($,"TryStatement");case bi:return dt(),rs($),tn(),at($,"VariableDeclaration");case hi:return dt(),$.test=Ln(),Ne.push(vr),$.body=gi(),Ne.pop(),at($,"WhileStatement");case _n:return pe&&_e(F,"'with' in strict mode"),dt(),$.object=Ln(),$.body=gi(),at($,"WithStatement");case Ci:return On();case c:return dt(),at($,"EmptyStatement");default:var Ir=X,Kn=Qt();if(Z===Ue&&Kn.type==="Identifier"&&Lt(I)){for(var ve=0;ve<Ne.length;++ve)Ne[ve].name===Ir&&_e(Kn.start,"Label '"+Ir+"' is already declared");var ku=j.isLoop?"loop":j===li?"switch":null;return Ne.push({name:Ir,kind:ku}),$.body=gi(),Ne.pop(),$.label=Kn,at($,"LabeledStatement")}else return $.expression=Kn,tn(),at($,"ExpressionStatement")}}function Ln(){Dt(ci);var Z=Qt();return Dt(fi),Z}function On(Z){var $=Xt(),he=!0,ve=!1,Ke;for($.body=[],Dt(Ci);!Lt(ki);){var Qe=gi();$.body.push(Qe),he&&Z&&mr(Qe)&&(Ke=ve,_r(ve=!0)),he=!1}return ve&&!Ke&&_r(!1),at($,"BlockStatement")}function br(Z,$){return Z.init=$,Dt(c),Z.test=j===c?null:Qt(),Dt(c),Z.update=j===fi?null:Qt(),Dt(fi),Z.body=gi(),Ne.pop(),at(Z,"ForStatement")}function ns(Z,$){return Z.left=$,Z.right=Qt(),Dt(fi),Z.body=gi(),Ne.pop(),at(Z,"ForInStatement")}function rs(Z,$){for(Z.declarations=[],Z.kind="var";;){var he=Xt();if(he.id=Vi(),pe&&Hn(he.id.name)&&_e(he.id.start,"Binding "+he.id.name+" in strict mode"),he.init=Lt(oe)?Qt(!0,$):null,Z.declarations.push(at(he,"VariableDeclarator")),!Lt(i))break}return Z}function Qt(Z,$){var he=yr($);if(!Z&&j===i){var ve=zi(he);for(ve.expressions=[he];Lt(i);)ve.expressions.push(yr($));return at(ve,"SequenceExpression")}return he}function yr(Z){var $=yu(Z);if(j.isAssign){var he=zi($);return he.operator=X,he.left=$,dt(),he.right=yr(Z),Zn($),at(he,"AssignmentExpression")}return $}function yu(Z){var $=wu(Z);if(Lt(W)){var he=zi($);return he.test=$,he.consequent=Qt(!0),Dt(I),he.alternate=Qt(!0,Z),at(he,"ConditionalExpression")}return $}function wu(Z){return wr(xr(),-1,Z)}function wr(Z,$,he){var ve=j.binop;if(ve!=null&&(!he||j!==rt)&&ve>$){var Ke=zi(Z);Ke.left=Z,Ke.operator=X;var Qe=j;dt(),Ke.right=wr(xr(),ve,he);var $e=at(Ke,Qe===st||Qe===Rt?"LogicalExpression":"BinaryExpression");return wr($e,$,he)}return Z}function xr(){if(j.prefix){var Z=Xt(),$=j.isUpdate;return Z.operator=X,Z.prefix=!0,Q=!0,dt(),Z.argument=xr(),$?Zn(Z.argument):pe&&Z.operator==="delete"&&Z.argument.type==="Identifier"&&_e(Z.start,"Deleting local variable in strict mode"),at(Z,$?"UpdateExpression":"UnaryExpression")}for(var he=xu();j.postfix&&!Gn();){var Z=zi(he);Z.operator=X,Z.prefix=!1,Z.argument=he,Zn(he),dt(),he=at(Z,"UpdateExpression")}return he}function xu(){return Rn(Sr())}function Rn(Z,$){if(Lt(V)){var he=zi(Z);return he.object=Z,he.property=Vi(!0),he.computed=!1,Rn(at(he,"MemberExpression"),$)}else if(Lt(Yi)){var he=zi(Z);return he.object=Z,he.property=Qt(),he.computed=!0,Dt(Qi),Rn(at(he,"MemberExpression"),$)}else if(!$&&Lt(ci)){var he=zi(Z);return he.callee=Z,he.arguments=kr(fi,!1),Rn(at(he,"CallExpression"),$)}else return Z}function Sr(){switch(j){case Pn:var ve=Xt();return dt(),at(ve,"ThisExpression");case Ue:return Vi();case Me:case We:case Le:var ve=Xt();return ve.value=X,ve.raw=C.slice(F,U),dt(),at(ve,"Literal");case An:case En:case Xi:var ve=Xt();return ve.value=j.atomValue,ve.raw=j.keyword,dt(),at(ve,"Literal");case ci:var Z=G,$=F;dt();var he=Qt();return he.start=$,he.end=U,M.locations&&(he.loc.start=Z,he.loc.end=Y),M.ranges&&(he.range=[$,U]),Dt(fi),he;case Yi:var ve=Xt();return dt(),ve.elements=kr(Qi,!0,!0),at(ve,"ArrayExpression");case Ci:return Cu();case ti:var ve=Xt();return dt(),Cr(ve,!1);case Ki:return Su();default:Pi()}}function Su(){var Z=Xt();return dt(),Z.callee=Rn(Sr(),!0),Lt(ci)?Z.arguments=kr(fi,!1):Z.arguments=Ie,at(Z,"NewExpression")}function Cu(){var Z=Xt(),$=!0,he=!1;for(Z.properties=[],dt();!Lt(ki);){if($)$=!1;else if(Dt(i),M.allowTrailingCommas&&Lt(ki))break;var ve={key:ss()},Ke=!1,Qe;if(Lt(I)?(ve.value=Qt(!0),Qe=ve.kind="init"):M.ecmaVersion>=5&&ve.key.type==="Identifier"&&(ve.key.name==="get"||ve.key.name==="set")?(Ke=he=!0,Qe=ve.kind=ve.key.name,ve.key=ss(),j!==ci&&Pi(),ve.value=Cr(Xt(),!1)):Pi(),ve.key.type==="Identifier"&&(pe||he))for(var $e=0;$e<Z.properties.length;++$e){var _t=Z.properties[$e];if(_t.key.name===ve.key.name){var _i=Qe==_t.kind||Ke&&_t.kind==="init"||Qe==="init"&&(_t.kind==="get"||_t.kind==="set");_i&&!pe&&Qe==="init"&&_t.kind==="init"&&(_i=!1),_i&&_e(ve.key.start,"Redefinition of property")}}Z.properties.push(ve)}return at(Z,"ObjectExpression")}function ss(){return j===Me||j===We?Sr():Vi(!0)}function Cr(Z,$){j===Ue?Z.id=Vi():$?Pi():Z.id=null,Z.params=[];var he=!0;for(Dt(ci);!Lt(fi);)he?he=!1:Dt(i),Z.params.push(Vi());var ve=ke,Ke=Ne;if(ke=!0,Ne=[],Z.body=On(!0),ke=ve,Ne=Ke,pe||Z.body.body.length&&mr(Z.body.body[0]))for(var Qe=Z.id?-1:0;Qe<Z.params.length;++Qe){var $e=Qe<0?Z.id:Z.params[Qe];if((Gr($e.name)||Hn($e.name))&&_e($e.start,"Defining '"+$e.name+"' in strict mode"),Qe>=0)for(var _t=0;_t<Qe;++_t)$e.name===Z.params[_t].name&&_e($e.start,"Argument name clash in strict mode")}return at(Z,$?"FunctionDeclaration":"FunctionExpression")}function kr(Z,$,he){for(var ve=[],Ke=!0;!Lt(Z);){if(Ke)Ke=!1;else if(Dt(i),$&&M.allowTrailingCommas&&Lt(Z))break;he&&j===i?ve.push(null):ve.push(Qt(!0))}return ve}function Vi(Z){var $=Xt();return Z&&M.forbidReserved=="everywhere"&&(Z=!1),j===Ue?(!Z&&(M.forbidReserved&&(M.ecmaVersion===3?eu:tu)(X)||pe&&Gr(X))&&C.slice(F,U).indexOf("\\")==-1&&_e(F,"The keyword '"+X+"' is reserved"),$.name=X):Z&&j.keyword?$.name=j.keyword:Pi(),Q=!1,dt(),at($,"Identifier")}}),t.version||(t=null)}function o(E,M){return(e.acorn||t).parse(E,M)}var f={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},g={"-":"__negate","+":"__self"},p=h.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(E){this["__"+E]="#"+E},{__self:function(){return this}});q.inject(p),J.inject(p),St.inject(p);function _(E,M,C){var P=f[M];if(E&&E[P]){var b=E[P](C);return M==="!="?!b:b}switch(M){case"+":return E+C;case"-":return E-C;case"*":return E*C;case"/":return E/C;case"%":return E%C;case"==":return E==C;case"!=":return E!=C}}function v(E,M){var C=g[E];if(M&&M[C])return M[C]();switch(E){case"+":return+M;case"-":return-M}}function x(E,M){if(!E)return"";M=M||{};var C=[];function P(pe){for(var _e=0,Ie=C.length;_e<Ie;_e++){var Me=C[_e];if(Me[0]>=pe)break;pe+=Me[1]}return pe}function b(pe){return E.substring(P(pe.range[0]),P(pe.range[1]))}function T(pe,_e){return E.substring(P(pe.range[1]),P(_e.range[0]))}function R(pe,_e){for(var Ie=P(pe.range[0]),Me=P(pe.range[1]),Le=0,We=C.length-1;We>=0;We--)if(Ie>C[We][0]){Le=We+1;break}C.splice(Le,0,[Ie,_e.length-Me+Ie]),E=E.substring(0,Ie)+_e+E.substring(Me)}function B(pe,_e){switch(pe.type){case"UnaryExpression":if(pe.operator in g&&pe.argument.type!=="Literal"){var Ie=b(pe.argument);R(pe,'$__("'+pe.operator+'", '+Ie+")")}break;case"BinaryExpression":if(pe.operator in f&&pe.left.type!=="Literal"){var Me=b(pe.left),Le=b(pe.right),We=T(pe.left,pe.right),Ue=pe.operator;R(pe,"__$__("+Me+","+We.replace(new RegExp("\\"+Ue),'"'+Ue+'"')+", "+Le+")")}break;case"UpdateExpression":case"AssignmentExpression":var Ye=_e&&_e.type;if(!(Ye==="ForStatement"||Ye==="BinaryExpression"&&/^[=!<>]/.test(_e.operator)||Ye==="MemberExpression"&&_e.computed)){if(pe.type==="UpdateExpression"){var Ie=b(pe.argument),Je="__$__("+Ie+', "'+pe.operator[0]+'", 1)',Ze=Ie+" = "+Je;pe.prefix?Ze="("+Ze+")":(Ye==="AssignmentExpression"||Ye==="VariableDeclarator"||Ye==="BinaryExpression")&&(b(_e.left||_e.id)===Ie&&(Ze=Je),Ze=Ie+"; "+Ze),R(pe,Ze)}else if(/^.=$/.test(pe.operator)&&pe.left.type!=="Literal"){var Me=b(pe.left),Le=b(pe.right),Je=Me+" = __$__("+Me+', "'+pe.operator[0]+'", '+Le+")";R(pe,/^\(.*\)$/.test(b(pe))?"("+Je+")":Je)}}break}}function O(pe){switch(pe.type){case"ExportDefaultDeclaration":R({range:[pe.start,pe.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var _e=pe.declaration,Ie=pe.specifiers;if(_e){var Me=_e.declarations;Me&&(Me.forEach(function(We){R(We,"module.exports."+b(We))}),R({range:[pe.start,_e.start+_e.kind.length]},""))}else if(Ie){var Le=Ie.map(function(We){var Ue=b(We);return"module.exports."+Ue+" = "+Ue+"; "}).join("");Le&&R(pe,Le)}break}}function F(pe,_e,Ie){if(pe){for(var Me in pe)if(Me!=="range"&&Me!=="loc"){var Le=pe[Me];if(Array.isArray(Le))for(var We=0,Ue=Le.length;We<Ue;We++)F(Le[We],pe,Ie);else Le&&typeof Le=="object"&&F(Le,pe,Ie)}Ie.operatorOverloading!==!1&&B(pe,_e),Ie.moduleExports!==!1&&O(pe)}}function U(pe){var _e="",Ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(pe=(Math.abs(pe)<<1)+(pe<0?1:0);pe||!_e;){var Me=pe&31;pe>>=5,pe&&(Me|=32),_e+=Ie[Me]}return _e}var G=M.url||"",Y=M.sourceMaps,j=M.paperFeatures||{},X=M.source||E,Q=M.offset||0,ie=nt.agent,ne=ie.versionNumber,ue=!1,ye=/\r\n|\n|\r/mg,xe;if(Y&&(ie.chrome&&ne>=30||ie.webkit&&ne>=537.76||ie.firefox&&ne>=23||ie.node)){if(ie.node)Q-=2;else if(l&&G&&!l.location.href.indexOf(G)){var ke=d.getElementsByTagName("html")[0].innerHTML;Q=ke.substr(0,ke.indexOf(E)+1).match(ye).length+1}ue=Q>0&&!(ie.chrome&&ne>=36||ie.safari&&ne>=600||ie.firefox&&ne>=40||ie.node);var Ne=["AA"+U(ue?0:Q)+"A"];Ne.length=(E.match(ye)||[]).length+1+(ue?Q:0),xe={version:3,file:G,names:[],mappings:Ne.join(";AACA"),sourceRoot:"",sources:[G],sourcesContent:[X]}}return(j.operatorOverloading!==!1||j.moduleExports!==!1)&&F(o(E,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,j),xe&&(ue&&(E=new Array(Q+1).join(`
`)+E),/^(inline|both)$/.test(Y)&&(E+=`
//# sourceMappingURL=data:application/json;base64,`+r.btoa(unescape(encodeURIComponent(JSON.stringify(xe))))),E+=`
//# sourceURL=`+(G||"paperscript")),{url:G,source:X,code:E,map:xe}}function k(E,M,C){nt=M;var P=M.getView(),b=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(E)&&!/\bnew\s+Tool\b/.test(E)?new Cn:null,T=b?b._events:[],R=["onFrame","onResize"].concat(T),B=[],O=[],F,U=typeof E=="object"?E:x(E,C);E=U.code;function G(ne,ue){for(var ye in ne)(ue||!/^_/.test(ye))&&new RegExp("([\\b\\s\\W]|^)"+ye.replace(/\$/g,"\\$")+"\\b").test(E)&&(B.push(ye),O.push(ne[ye]))}G({__$__:_,$__:v,paper:M,tool:b},!0),G(M),E="var module = { exports: {} }; "+E;var Q=h.each(R,function(ne){new RegExp("\\s+"+ne+"\\b").test(E)&&(B.push(ne),this.push("module.exports."+ne+" = "+ne+";"))},[]).join(`
`);Q&&(E+=`
`+Q),E+=`
return module.exports;`;var Y=nt.agent;if(d&&(Y.chrome||Y.firefox&&Y.versionNumber<40)){var j=d.createElement("script"),X=d.head||d.getElementsByTagName("head")[0];Y.firefox&&(E=`
`+E),j.appendChild(d.createTextNode("document.__paperscript__ = function("+B+") {"+E+`
}`)),X.appendChild(j),F=d.__paperscript__,delete d.__paperscript__,X.removeChild(j)}else F=Function(B,E);var Q=F&&F.apply(M,O),ie=Q||{};return h.each(T,function(ne){var ue=ie[ne];ue&&(b[ne]=ue)}),P&&(ie.onResize&&P.setOnResize(ie.onResize),P.emit("resize",{size:P.size,delta:new q}),ie.onFrame&&P.setOnFrame(ie.onFrame),P.requestUpdate()),Q}function w(E){if(/^text\/(?:x-|)paperscript$/.test(E.type)&&S.getAttribute(E,"ignore")!=="true"){var M=S.getAttribute(E,"canvas"),C=d.getElementById(M),P=E.src||E.getAttribute("data-src"),b=S.hasAttribute(E,"async"),T="data-paper-scope";if(!C)throw new Error('Unable to find canvas with id "'+M+'"');var R=S.get(C.getAttribute(T))||new S().setup(C);return C.setAttribute(T,R._id),P?Zi.request({url:P,async:b,mimeType:"text/plain",onLoad:function(B){k(B,R,P)}}):k(E.innerHTML,R,E.baseURI),E.setAttribute("data-paper-ignore","true"),R}}function y(){h.each(d&&d.getElementsByTagName("script"),w)}function L(E){return E?w(E):y()}return l&&(d.readyState==="complete"?setTimeout(y):ct.add(l,{load:y})),{compile:x,execute:k,load:L,parse:o,calculateBinary:_,calculateUnary:v}}).call(this);var nt=new(S.inject(h.exports,{Base:h,Numerical:D,Key:Mi,DomEvent:ct,DomElement:lt,document:d,window:l,Symbol:ze,PlacedSymbol:Fe}));return nt.agent.node&&As(nt),typeof u=="function"&&u.amd?u("paper",nt):a&&(a.exports=nt),nt}).call(Ea,typeof self=="object"?self:null)})(Ga);var pl=Ga.exports;const Bi=Bu(pl),Dr=7,Za=13,gl=1,Ka=10,Xa=0,_l=2,Ts=" ";function Fr(a){return fn(".0%")(a)}function qr(a,r){return[a*Math.sin(r),a*Math.cos(r)]}function ir(a,r,u){u=Math.min(u,a);function l(h){return Math.acos(h/a)}function d(h){return-1/2*a**2*(h-Math.sin(h)*Math.cos(h))}return d(l(u))-d(l(r))}function $n({layerRadius:a,cutY:r,cutX:u,nextCutX:l}){const d=Math.sqrt(a**2-r**2),h=Math.min(d,l);return ir(a,u,h)-(h-u)*r}function ml({slope:a,yIntercept:r,radius:u}){const l=r**2*a**2-(a**2+1)*(r**2-u**2);return{discriminant:l,doesIntersect:l>0}}function er({slope:a,yIntercept:r,x1:u,x2:l}){return 1/2*a*(l**2-u**2)+r*(l-u)}function Ns(a,r,u){return a>r&&a-r>3e-14&&a<u&&u-a>3e-14}function vl(a){return a.map(({pieceColumn:r})=>r.map(({pieceArea:u,subPieces:l})=>l.length?l:u)).flat(2)}function bl(a){return a.map(({pieces:r})=>r.map(({area:u,subPieces:l})=>l.length?l:u)).flat(2)}var Fn,Hr;class Ms{constructor({radius:r,numLayers:u,numCuts:l,cutType:d,cutTargetDepthPercentage:h,numHorizontalCuts:m}){as(this,Fn);this.radius=r,this.numLayers=u,this.numCuts=l,this.cutType=d,this.cutTargetDepthPercentage=h,this.numHorizontalCuts=m}get rScale(){return qi().domain([0,this.numLayers]).range([0,this.radius])}get layerRadii(){return Array.from({length:this.numLayers}).map((r,u)=>this.rScale(u+1))}get layerThickness(){return this.rScale(1)}get layerArcs(){return this.layerRadii.map(r=>u=>Math.sqrt(r**2-u**2))}get cutNumbers(){return Array.from({length:this.numCuts}).map((r,u)=>u)}get cutWidthScale(){return qi().domain([0,this.numCuts]).range([0,this.radius])}get cutThickness(){return this.cutWidthScale(1)}get cutAngleScale(){return qi().domain([0,this.numCuts]).range([Math.PI/2,0])}get cutTargetDepth(){return this.radius*this.cutTargetDepthPercentage}get horizontalCutNumbers(){return Array.from({length:this.numHorizontalCuts}).map((r,u)=>u).reverse()}get horizontalCutScale(){return qi().domain([0,this.numHorizontalCuts]).range([1/(this.numHorizontalCuts+1),1])}get storageKey(){return[`${this.numLayers}l`,`${this.numCuts}c`,this.cutType==="radial"?"r":"v",...this.cutType==="radial"?[`${Fr(this.cutTargetDepthPercentage)}d`]:[],`${this.numHorizontalCuts}h`].join(":")}get verticalAreas(){const r=this.cutNumbers,u=this.cutWidthScale,l=this.radius,d=this.layerRadii,h=this.horizontalCutNumbers,m=this.horizontalCutScale,S=r.map(N=>({cutX:u(N),pieceColumn:[]}));return r.forEach(N=>{const{cutX:z,pieceColumn:H}=S[N];d.forEach((D,K)=>{const q=K===0,le=d[K-1];if(D>z){const J=u(N+1),re=ir(D,z,J),te=H.length?re-H.at(-1).verticalCutArea:re,ce=[q?0:Math.sqrt(le**2-J**2)||0,Math.sqrt(D**2-z**2)];let ge=[];h.forEach(Ve=>{const fe=m(Ve)*l;if(Ns(fe,ce[0],ce[1])){let A=$n({layerRadius:D,cutY:fe,cutX:z,nextCutX:J});const be=Math.sqrt(le**2-z**2);if(fe<be&&(A-=$n({layerRadius:le,cutY:fe,cutX:z,nextCutX:J})),ge.length){const Re=ge[0];ge=[Re,A-Re,te-A]}else ge=[A,te-A]}}),H.push({layerRadius:D,verticalCutArea:re,pieceArea:te,yRange:ce,subPieces:ge})}})}),S}get radialAreas(){const r=this.layerRadii,u=this.cutAngleScale,l=this.radius,d=this.cutNumbers,h=this.cutTargetDepth,m=this.horizontalCutNumbers,S=this.horizontalCutScale;function N(D){return K=>D*K-h}function z(D){const K=u(D);return(h+l*Math.sin(K))/(l*Math.cos(K))}const H=r.map(D=>{const K=[];return d.forEach(q=>{const le=z(q),J=N(le),{discriminant:re,doesIntersect:te}=ml({slope:le,yIntercept:-h,radius:D});if(te){const ce=(h*le+Math.sqrt(re))/(le**2+1);ce>0&&J(ce)>0&&K.push({xOfLeftCutIntersection:ce,leftCutLineSlope:le,cutNum:q})}}),{layerRadius:D,pieces:K}});return H.forEach(({pieces:D,layerRadius:K},q,le)=>{const J=q===0,re=le[q-1];D.forEach((te,ce,ge)=>{var de,mt,Ot;const Ve=ce===0,fe=ce===ge.length-1,{leftCutLineSlope:A,xOfLeftCutIntersection:be}=te,Re=[void 0,void 0],je=[void 0,void 0],tt=ge[ce+1];function Fe(qe){var ni,xt;const ft=(ni=re==null?void 0:re.pieces[qe])==null?void 0:ni.xOfLeftCutIntersection,Yt=h/((xt=ge[qe])==null?void 0:xt.leftCutLineSlope);return ft??Yt}Re[0]=be,Re[1]=fe?K:tt.xOfLeftCutIntersection,Ve||(Re[0]=Fe(ce)),te.xRange=Re,je[0]=fe||J?0:Math.sqrt(re.layerRadius**2-((de=re.pieces[ce+1])==null?void 0:de.xOfLeftCutIntersection)**2)||0,je[1]=Math.sqrt(K**2-be**2),te.yRange=je;let ze=ir(K,be,Re[1]);if(Ve||(ze+=er({slope:A,yIntercept:-h,x1:Re[0],x2:be})),!fe){const qe=Fe(ce+1);ze-=er({slope:tt.leftCutLineSlope,yIntercept:-h,x1:qe,x2:Re[1]})}const Ce=(mt=re==null?void 0:re.pieces[ce])==null?void 0:mt.xRange[1];!J&&Ce>Re[0]&&(ze-=ir(re.layerRadius,(Ot=re.pieces[ce])==null?void 0:Ot.xOfLeftCutIntersection,Ce)),te.area=ze;let Ge=[];m.forEach(qe=>{const ft=S(qe)*l;if(Ns(ft,je[0],je[1])){let Yt=$n({layerRadius:K,cutY:ft,cutX:be,nextCutX:Re[1]});if(!Ve){const xt=Math.max((ft+h)/A,Re[0]);Yt+=er({slope:A,yIntercept:-h,x1:xt,x2:be})-(be-xt)*ft}if(!J&&ft<Math.sqrt(re.layerRadius**2-Re[0]**2)){const xt=Math.sqrt(re.layerRadius**2-ft**2);Yt-=$n({layerRadius:re.layerRadius,cutY:ft,cutX:Re[0],nextCutX:xt})}if(!fe&&ft<Math.sqrt(K**2-Re[1]**2)){const xt=(ft+h)/tt.leftCutLineSlope;Yt-=er({slope:tt.leftCutLineSlope,yIntercept:-h,x1:xt,x2:Re[1]})-(Re[1]-xt)*ft}if(Ge.length){const xt=Ge[0];Ge=[xt,Yt-xt,ze-Yt]}else Ge=[Yt,ze-Yt]}}),te.subPieces=Ge})}),H}get meanArea(){return oo(Pr(this,Fn,Hr))}get standardDeviation(){return io(Pr(this,Fn,Hr))/this.meanArea*100}get standardDeviationString(){return+fn(".1f")(this.standardDeviation)}}Fn=new WeakSet,Hr=function(){return this.cutType==="vertical"?vl(this.verticalAreas):bl(this.radialAreas)};function yl(a){let r,u,l;return{c(){r=ai("line"),this.h()},l(d){r=ui(d,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),De(r).forEach(ae),this.h()},h(){ee(r,"x1",u=-a[0]/2),ee(r,"y1",a[2]),ee(r,"x2",l=a[0]/2),ee(r,"y2",a[2]),ee(r,"class","svelte-p4w993"),pt(r,"half-width",a[1])},m(d,h){Oe(d,r,h)},p(d,[h]){h&1&&u!==(u=-d[0]/2)&&ee(r,"x1",u),h&1&&l!==(l=d[0]/2)&&ee(r,"x2",l),h&2&&pt(r,"half-width",d[1])},i:et,o:et,d(d){d&&ae(r)}}}function wl(a,r,u){let{width:l}=r,{height:d}=r,{isBottom:h=!1}=r,{isHalfWidth:m=!1}=r,S=h?d:0;return a.$$set=N=>{"width"in N&&u(0,l=N.width),"height"in N&&u(3,d=N.height),"isBottom"in N&&u(4,h=N.isBottom),"isHalfWidth"in N&&u(1,m=N.isHalfWidth)},[l,m,S,d,h]}class xl extends qt{constructor(r){super(),Ht(this,r,wl,yl,Ft,{width:0,height:3,isBottom:4,isHalfWidth:1})}}function Ls(a,r,u){const l=a.slice();return l[4]=r[u],l}function Os(a){let r,u;return{c(){r=ai("circle"),this.h()},l(l){r=ui(l,"circle",{cx:!0,cy:!0,r:!0,"clip-path":!0,class:!0}),De(r).forEach(ae),this.h()},h(){ee(r,"cx","0"),ee(r,"cy",a[0]),ee(r,"r",u=a[4]),ee(r,"clip-path","url(#layer-mask)"),ee(r,"class","svelte-4enqpx")},m(l,d){Oe(l,r,d)},p(l,d){d&1&&ee(r,"cy",l[0]),d&2&&u!==(u=l[4])&&ee(r,"r",u)},d(l){l&&ae(r)}}}function Sl(a){let r,u=ht(a[1]),l=[];for(let d=0;d<u.length;d+=1)l[d]=Os(Ls(a,u,d));return{c(){r=ai("g");for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l(d){r=ui(d,"g",{class:!0});var h=De(r);for(let m=0;m<l.length;m+=1)l[m].l(h);h.forEach(ae),this.h()},h(){ee(r,"class","onion")},m(d,h){Oe(d,r,h);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(r,null)},p(d,[h]){if(h&3){u=ht(d[1]);let m;for(m=0;m<u.length;m+=1){const S=Ls(d,u,m);l[m]?l[m].p(S,h):(l[m]=Os(S),l[m].c(),l[m].m(r,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=u.length}},i:et,o:et,d(d){d&&ae(r),Gt(l,d)}}}function Cl(a,r,u){let l,d,{height:h}=r;const m=si("onionStore");return Jt(a,m,S=>u(3,d=S)),a.$$set=S=>{"height"in S&&u(0,h=S.height)},a.$$.update=()=>{a.$$.dirty&8&&u(1,{layerRadii:l}=d,l)},[h,l,m,d]}class kl extends qt{constructor(r){super(),Ht(this,r,Cl,Sl,Ft,{height:0})}}function Rs(a,r,u){const l=a.slice();l[13]=r[u];const d=l[3](l[13])*l[10];l[14]=d;const h=l[2](l[14]);return l[15]=h,l}function zs(a,r,u){const l=a.slice();return l[13]=r[u],l}function Il(a){const r=a.slice(),u=r[6](r[13]+1);r[21]=u;const l=qr(r[10],r[21]);return r[22]=l[0],r[23]=l[1],r}function Pl(a){const r=a.slice(),u=r[7](r[13]);return r[20]=u,r}function Vs(a){let r,u,l,d;return{c(){r=ai("line"),this.h()},l(h){r=ui(h,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),De(r).forEach(ae),this.h()},h(){ee(r,"x1",u=a[22]*2),ee(r,"y1",l=a[2](a[23]*2+a[5])),ee(r,"x2","0"),ee(r,"y2",d=a[2](-a[5])),ee(r,"class","svelte-1j3y5u1")},m(h,m){Oe(h,r,m)},p(h,m){m&1600&&u!==(u=h[22]*2)&&ee(r,"x1",u),m&1636&&l!==(l=h[2](h[23]*2+h[5]))&&ee(r,"y1",l),m&36&&d!==(d=h[2](-h[5]))&&ee(r,"y2",d)},d(h){h&&ae(r)}}}function Bs(a){let r,u,l;return{c(){r=ai("line"),this.h()},l(d){r=ui(d,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),De(r).forEach(ae),this.h()},h(){ee(r,"x1",u=a[20]),ee(r,"y1","0"),ee(r,"x2",l=a[20]),ee(r,"y2",a[1]),ee(r,"class","svelte-1j3y5u1")},m(d,h){Oe(d,r,h)},p(d,h){h&640&&u!==(u=d[20])&&ee(r,"x1",u),h&640&&l!==(l=d[20])&&ee(r,"x2",l),h&2&&ee(r,"y2",d[1])},d(d){d&&ae(r)}}}function Ds(a){let r;function u(m,S){if(m[8]==="vertical")return Bs;if(m[8]==="radial")return Vs}function l(m,S){if(S===Bs)return Pl(m);if(S===Vs)return Il(m)}let d=u(a),h=d&&d(l(a,d));return{c(){h&&h.c(),r=zt()},l(m){h&&h.l(m),r=zt()},m(m,S){h&&h.m(m,S),Oe(m,r,S)},p(m,S){d===(d=u(m))&&h?h.p(l(m,d),S):(h&&h.d(1),h=d&&d(l(m,d)),h&&(h.c(),h.m(r.parentNode,r)))},d(m){m&&ae(r),h&&h.d(m)}}}function Fs(a){let r,u,l,d;return{c(){r=ai("line"),this.h()},l(h){r=ui(h,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),De(r).forEach(ae),this.h()},h(){ee(r,"x1","0"),ee(r,"y1",u=a[15]),ee(r,"x2",l=a[0]/2),ee(r,"y2",d=a[15]),ee(r,"class","svelte-1j3y5u1")},m(h,m){Oe(h,r,m)},p(h,m){m&1052&&u!==(u=h[15])&&ee(r,"y1",u),m&1&&l!==(l=h[0]/2)&&ee(r,"x2",l),m&1052&&d!==(d=h[15])&&ee(r,"y2",d)},d(h){h&&ae(r)}}}function Al(a){let r,u,l=ht(a[9]),d=[];for(let S=0;S<l.length;S+=1)d[S]=Ds(zs(a,l,S));let h=ht(a[4]),m=[];for(let S=0;S<h.length;S+=1)m[S]=Fs(Rs(a,h,S));return{c(){r=ai("g");for(let S=0;S<d.length;S+=1)d[S].c();u=zt();for(let S=0;S<m.length;S+=1)m[S].c();this.h()},l(S){r=ui(S,"g",{class:!0});var N=De(r);for(let z=0;z<d.length;z+=1)d[z].l(N);u=zt();for(let z=0;z<m.length;z+=1)m[z].l(N);N.forEach(ae),this.h()},h(){ee(r,"class","cuts")},m(S,N){Oe(S,r,N);for(let z=0;z<d.length;z+=1)d[z]&&d[z].m(r,null);we(r,u);for(let z=0;z<m.length;z+=1)m[z]&&m[z].m(r,null)},p(S,[N]){if(N&2022){l=ht(S[9]);let z;for(z=0;z<l.length;z+=1){const H=zs(S,l,z);d[z]?d[z].p(H,N):(d[z]=Ds(H),d[z].c(),d[z].m(r,u))}for(;z<d.length;z+=1)d[z].d(1);d.length=l.length}if(N&1053){h=ht(S[4]);let z;for(z=0;z<h.length;z+=1){const H=Rs(S,h,z);m[z]?m[z].p(H,N):(m[z]=Fs(H),m[z].c(),m[z].m(r,null))}for(;z<m.length;z+=1)m[z].d(1);m.length=h.length}},i:et,o:et,d(S){S&&ae(r),Gt(d,S),Gt(m,S)}}}function El(a,r,u){let l,d,h,m,S,N,z,H,D,{width:K}=r,{height:q}=r,{yScale:le}=r;const J=si("onionStore");return Jt(a,J,re=>u(12,D=re)),a.$$set=re=>{"width"in re&&u(0,K=re.width),"height"in re&&u(1,q=re.height),"yScale"in re&&u(2,le=re.yScale)},a.$$.update=()=>{a.$$.dirty&4096&&u(10,{radius:l,cutNumbers:d,cutType:h,cutWidthScale:m,cutAngleScale:S,cutTargetDepth:N,horizontalCutNumbers:z,horizontalCutScale:H}=D,l,(u(9,d),u(12,D)),(u(8,h),u(12,D)),(u(7,m),u(12,D)),(u(6,S),u(12,D)),(u(5,N),u(12,D)),(u(4,z),u(12,D)),(u(3,H),u(12,D)))},[K,q,le,H,z,N,S,m,h,d,l,J,D]}class Tl extends qt{constructor(r){super(),Ht(this,r,El,Al,Ft,{width:0,height:1,yScale:2})}}function qs(a,r,u){const l=a.slice();return l[29]=r[u],l}function Nl(a){let r,u,l;return{c(){r=ai("path"),this.h()},l(d){r=ui(d,"path",{d:!0,style:!0,class:!0}),De(r).forEach(ae),this.h()},h(){ee(r,"d",u=a[5].pathData),ee(r,"style",l=a[13]?`stroke: ${a[14](Math.abs(a[0]-a[10])/a[9])}; transform: translate(${a[7]/2-a[5].position.x}px, ${a[6]/2-a[5].position.y}px)`:void 0),ee(r,"class","svelte-zi0wy9"),pt(r,"highlight",a[2]),pt(r,"primary",a[2]&&a[3]),pt(r,"secondary",a[2]&&a[4]),pt(r,"thin",!a[13]&&a[4]&&a[12]==="radial"&&a[11]===0)},m(d,h){Oe(d,r,h)},p(d,h){h[0]&32&&u!==(u=d[5].pathData)&&ee(r,"d",u),h[0]&26337&&l!==(l=d[13]?`stroke: ${d[14](Math.abs(d[0]-d[10])/d[9])}; transform: translate(${d[7]/2-d[5].position.x}px, ${d[6]/2-d[5].position.y}px)`:void 0)&&ee(r,"style",l),h[0]&4&&pt(r,"highlight",d[2]),h[0]&12&&pt(r,"primary",d[2]&&d[3]),h[0]&20&&pt(r,"secondary",d[2]&&d[4]),h[0]&14352&&pt(r,"thin",!d[13]&&d[4]&&d[12]==="radial"&&d[11]===0)},d(d){d&&ae(r)}}}function Ml(a){let r,u=ht(a[8]),l=[];for(let d=0;d<u.length;d+=1)l[d]=Hs(qs(a,u,d));return{c(){for(let d=0;d<l.length;d+=1)l[d].c();r=zt()},l(d){for(let h=0;h<l.length;h+=1)l[h].l(d);r=zt()},m(d,h){for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(d,h);Oe(d,r,h)},p(d,h){if(h[0]&256){u=ht(d[8]);let m;for(m=0;m<u.length;m+=1){const S=qs(d,u,m);l[m]?l[m].p(S,h):(l[m]=Hs(S),l[m].c(),l[m].m(r.parentNode,r))}for(;m<l.length;m+=1)l[m].d(1);l.length=u.length}},d(d){d&&ae(r),Gt(l,d)}}}function Hs(a){let r,u;return{c(){r=ai("path"),this.h()},l(l){r=ui(l,"path",{d:!0,class:!0}),De(r).forEach(ae),this.h()},h(){ee(r,"d",u=a[29].pathData),ee(r,"class","subpiece svelte-zi0wy9")},m(l,d){Oe(l,r,d)},p(l,d){d[0]&256&&u!==(u=l[29].pathData)&&ee(r,"d",u)},d(l){l&&ae(r)}}}function Ll(a){let r,u,l;function d(S,N){return S[1].length?Ml:Nl}let h=d(a),m=h(a);return{c(){r=ai("svg"),m.c(),this.h()},l(S){r=ui(S,"svg",{viewBox:!0,width:!0});var N=De(r);m.l(N),N.forEach(ae),this.h()},h(){ee(r,"viewBox",u=a[13]?`${-Di} ${-Di} ${a[7]+2*Di} ${a[6]+2*Di}`:void 0),ee(r,"width",l=a[13]?a[7]:void 0)},m(S,N){Oe(S,r,N),m.m(r,null)},p(S,N){h===(h=d(S))&&m?m.p(S,N):(m.d(1),m=h(S),m&&(m.c(),m.m(r,null))),N[0]&8384&&u!==(u=S[13]?`${-Di} ${-Di} ${S[7]+2*Di} ${S[6]+2*Di}`:void 0)&&ee(r,"viewBox",u),N[0]&8320&&l!==(l=S[13]?S[7]:void 0)&&ee(r,"width",l)},i:et,o:et,d(S){S&&ae(r),m.d()}}}const Di=1;function Ol(a,r,u){let l,d,h,m,S,N,z,H,D,K,q,le,J,re,te,ce,{area:ge}=r,{layerNum:Ve}=r,{cutNum:fe}=r,{subPieces:A}=r,{highlight:be=!1}=r,{primary:Re=!1}=r,{secondary:je=!1}=r;const tt=si("onionStore");Jt(a,tt,de=>u(28,re=de));const Fe=si("layerPathStore");Jt(a,Fe,de=>u(27,J=de));const ze=si("cutPathStore");Jt(a,ze,de=>u(26,le=de));const Ce=si("horizontalCutPathStore");Jt(a,Ce,de=>u(25,q=de));const me=si("explodeStore");Jt(a,me,de=>u(13,te=de));const Ge=si("colorScaleStore");return Jt(a,Ge,de=>u(14,ce=de)),a.$$set=de=>{"area"in de&&u(0,ge=de.area),"layerNum"in de&&u(21,Ve=de.layerNum),"cutNum"in de&&u(22,fe=de.cutNum),"subPieces"in de&&u(1,A=de.subPieces),"highlight"in de&&u(2,be=de.highlight),"primary"in de&&u(3,Re=de.primary),"secondary"in de&&u(4,je=de.secondary)},a.$$.update=()=>{a.$$.dirty[0]&268435456&&u(12,{cutType:l,cutTargetDepthPercentage:d,meanArea:h,standardDeviation:m}=re,l,(u(11,d),u(28,re)),(u(10,h),u(28,re)),(u(9,m),u(28,re))),a.$$.dirty[0]&136314880&&u(24,S=J[Ve]),a.$$.dirty[0]&71303168&&u(23,N=le[fe]),a.$$.dirty[0]&25165824&&u(5,z=S.intersect(N)),a.$$.dirty[0]&33554464&&u(8,H=q.map(de=>z.intersect(de))),a.$$.dirty[0]&32&&u(7,{width:D,height:K}=z.strokeBounds,D,(u(6,K),u(5,z),u(24,S),u(23,N),u(27,J),u(21,Ve),u(26,le),u(22,fe)))},[ge,A,be,Re,je,z,K,D,H,m,h,d,l,te,ce,tt,Fe,ze,Ce,me,Ge,Ve,fe,N,S,q,le,J,re]}class Ya extends qt{constructor(r){super(),Ht(this,r,Ol,Ll,Ft,{area:0,layerNum:21,cutNum:22,subPieces:1,highlight:2,primary:3,secondary:4},null,[-1,-1])}}function Us(a,r,u){const l=a.slice();l[42]=r[u].xOfLeftCutIntersection,l[43]=r[u].xRange,l[44]=r[u].area,l[29]=r[u].yRange,l[30]=r[u].subPieces,l[32]=r[u].cutNum,l[27]=r[u].layerRadius,l[45]=r[u].layerNum,l[46]=r[u].numPieces,l[47]=r[u].isInnermostLayer,l[48]=r[u].isOutermostLayer,l[49]=r[u].pieceNum;const d=l[42];l[50]=d;const h=l[6][l[45]];l[37]=h;const m=l[37](l[50]);l[38]=m;const S=l[0](l[38]);l[51]=S;const N=l[7]!==0&&l[49]===l[46]-1;return l[35]=N,l}function js(a,r,u){const l=a.slice();l[27]=r[u].layerRadius,l[28]=r[u].pieceArea,l[29]=r[u].yRange,l[30]=r[u].subPieces,l[31]=r[u].cutX,l[32]=r[u].cutNum,l[33]=r[u].layerNumInColumn;const d=l[32]===0;l[34]=d;const h=l[33]===0;l[35]=h;const m=l[6].filter(function(...D){return a[22](l[31],...D)});l[36]=m;const S=l[36][l[33]]??l[36][0];l[37]=S;const N=l[37](l[31]);l[38]=N;const z=l[0](l[38]);return l[39]=z,l}function Rl(a){let r,u,l=ht(a[2]),d=[];for(let m=0;m<l.length;m+=1)d[m]=Ws(Us(a,l,m));const h=m=>Xe(d[m],1,1,()=>{d[m]=null});return{c(){for(let m=0;m<d.length;m+=1)d[m].c();r=zt()},l(m){for(let S=0;S<d.length;S+=1)d[S].l(m);r=zt()},m(m,S){for(let N=0;N<d.length;N+=1)d[N]&&d[N].m(m,S);Oe(m,r,S),u=!0},p(m,S){if(S[0]&134){l=ht(m[2]);let N;for(N=0;N<l.length;N+=1){const z=Us(m,l,N);d[N]?(d[N].p(z,S),He(d[N],1)):(d[N]=Ws(z),d[N].c(),He(d[N],1),d[N].m(r.parentNode,r))}for(di(),N=l.length;N<d.length;N+=1)h(N);pi()}},i(m){if(!u){for(let S=0;S<l.length;S+=1)He(d[S]);u=!0}},o(m){d=d.filter(Boolean);for(let S=0;S<d.length;S+=1)Xe(d[S]);u=!1},d(m){m&&ae(r),Gt(d,m)}}}function zl(a){let r,u,l=ht(a[3]),d=[];for(let m=0;m<l.length;m+=1)d[m]=Gs(js(a,l,m));const h=m=>Xe(d[m],1,1,()=>{d[m]=null});return{c(){for(let m=0;m<d.length;m+=1)d[m].c();r=zt()},l(m){for(let S=0;S<d.length;S+=1)d[S].l(m);r=zt()},m(m,S){for(let N=0;N<d.length;N+=1)d[N]&&d[N].m(m,S);Oe(m,r,S),u=!0},p(m,S){if(S[0]&42){l=ht(m[3]);let N;for(N=0;N<l.length;N+=1){const z=js(m,l,N);d[N]?(d[N].p(z,S),He(d[N],1)):(d[N]=Gs(z),d[N].c(),He(d[N],1),d[N].m(r.parentNode,r))}for(di(),N=l.length;N<d.length;N+=1)h(N);pi()}},i(m){if(!u){for(let S=0;S<l.length;S+=1)He(d[S]);u=!0}},o(m){d=d.filter(Boolean);for(let S=0;S<d.length;S+=1)Xe(d[S]);u=!1},d(m){m&&ae(r),Gt(d,m)}}}function Ws(a){let r,u,l;return r=new Ya({props:{area:a[44],layerNum:a[45],cutNum:a[32],subPieces:a[30],highlight:a[1],primary:a[7]===0&&a[48]||a[35],secondary:a[7]===0&&a[47]}}),{c(){Pt(r.$$.fragment),u=ut()},l(d){At(r.$$.fragment,d),u=ot(d)},m(d,h){Et(r,d,h),Oe(d,u,h),l=!0},p(d,h){const m={};h[0]&4&&(m.area=d[44]),h[0]&4&&(m.layerNum=d[45]),h[0]&4&&(m.cutNum=d[32]),h[0]&4&&(m.subPieces=d[30]),h[0]&2&&(m.highlight=d[1]),h[0]&132&&(m.primary=d[7]===0&&d[48]||d[35]),h[0]&132&&(m.secondary=d[7]===0&&d[47]),r.$set(m)},i(d){l||(He(r.$$.fragment,d),l=!0)},o(d){Xe(r.$$.fragment,d),l=!1},d(d){d&&ae(u),Tt(r,d)}}}function Gs(a){let r,u;function l(...d){return a[21](a[31],...d)}return r=new Ya({props:{area:a[28],layerNum:a[33]+a[5].findLastIndex(l)+1,cutNum:a[32],subPieces:a[30],highlight:a[1],primary:a[34],secondary:a[35]}}),{c(){Pt(r.$$.fragment)},l(d){At(r.$$.fragment,d)},m(d,h){Et(r,d,h),u=!0},p(d,h){a=d;const m={};h[0]&8&&(m.area=a[28]),h[0]&40&&(m.layerNum=a[33]+a[5].findLastIndex(l)+1),h[0]&8&&(m.cutNum=a[32]),h[0]&8&&(m.subPieces=a[30]),h[0]&2&&(m.highlight=a[1]),h[0]&8&&(m.primary=a[34]),h[0]&8&&(m.secondary=a[35]),r.$set(m)},i(d){u||(He(r.$$.fragment,d),u=!0)},o(d){Xe(r.$$.fragment,d),u=!1},d(d){Tt(r,d)}}}function Vl(a){let r,u,l,d;const h=[zl,Rl],m=[];function S(N,z){return N[4]==="vertical"?0:N[4]==="radial"?1:-1}return~(r=S(a))&&(u=m[r]=h[r](a)),{c(){u&&u.c(),l=zt()},l(N){u&&u.l(N),l=zt()},m(N,z){~r&&m[r].m(N,z),Oe(N,l,z),d=!0},p(N,z){let H=r;r=S(N),r===H?~r&&m[r].p(N,z):(u&&(di(),Xe(m[H],1,1,()=>{m[H]=null}),pi()),~r?(u=m[r],u?u.p(N,z):(u=m[r]=h[r](N),u.c()),He(u,1),u.m(l.parentNode,l)):u=null)},i(N){d||(He(u),d=!0)},o(N){Xe(u),d=!1},d(N){N&&ae(l),~r&&m[r].d(N)}}}function Bl(a,r,u){let l,d,h,m,S,N,z,H,D,K,q,le,J,re,te,ce,ge,Ve,fe,{yScale:A}=r,{highlightExtremes:be}=r;const Re=si("onionStore");Jt(a,Re,Ce=>u(20,fe=Ce));const je=an();Jt(a,je,Ce=>u(25,Ve=Ce)),Ai("explodeXScaleStore",je);const tt=an();Jt(a,tt,Ce=>u(24,ge=Ce)),Ai("colorScaleStore",tt);const Fe=(Ce,me)=>me<=Ce,ze=(Ce,me,Ge)=>S[Ge]>Ce;return a.$$set=Ce=>{"yScale"in Ce&&u(0,A=Ce.yScale),"highlightExtremes"in Ce&&u(1,be=Ce.highlightExtremes)},a.$$.update=()=>{a.$$.dirty[0]&1048576&&u(17,{radius:l,cutTargetDepthPercentage:d,cutType:h,layerArcs:m,layerRadii:S,numHorizontalCuts:N,verticalAreas:z,radialAreas:H,meanArea:D,standardDeviation:K}=fe,l,(u(7,d),u(20,fe)),(u(4,h),u(20,fe)),(u(6,m),u(20,fe)),(u(5,S),u(20,fe)),(u(19,z),u(20,fe)),(u(18,H),u(20,fe)),(u(14,D),u(20,fe)),(u(13,K),u(20,fe))),a.$$.dirty[0]&524288&&u(3,q=z.map(({cutX:Ce,pieceColumn:me},Ge)=>me.map((de,mt)=>({...de,cutX:Ce,cutNum:Ge,layerNumInColumn:mt}))).flat(2).sort((Ce,me)=>me.pieceArea-Ce.pieceArea)),a.$$.dirty[0]&262144&&u(2,le=H.map(({layerRadius:Ce,pieces:me},Ge)=>me.map((de,mt)=>({...de,layerRadius:Ce,layerNum:Ge,numPieces:me.length,isInnermostLayer:Ge===0,isOutermostLayer:Ge===H.length-1,pieceNum:mt}))).flat(2).sort((Ce,me)=>me.area-Ce.area)),a.$$.dirty[0]&28&&u(16,J=h==="vertical"?q.at(-1).pieceArea:le.at(-1).area),a.$$.dirty[0]&28&&u(15,re=h==="vertical"?q[0].pieceArea:le[0].area),a.$$.dirty[0]&229376&&sn(je,Ve=qi().domain([J,re]).range([-l,l]),Ve),a.$$.dirty[0]&90112&&u(11,te=(J-D)/K),a.$$.dirty[0]&57344&&u(12,ce=(re-D)/K),a.$$.dirty[0]&6144&&sn(tt,ge=Wa().domain([0,Math.max(ce,Math.abs(te))]).interpolator(Do("purple","orange")),ge)},[A,be,le,q,h,S,m,d,Re,je,tt,te,ce,K,D,re,J,l,H,z,fe,Fe,ze]}class Qa extends qt{constructor(r){super(),Ht(this,r,Bl,Vl,Ft,{yScale:0,highlightExtremes:1},null,[-1,-1])}}function Zs(a,r,u){const l=a.slice();return l[12]=r[u],l}function Ks(a){let r,u;return{c(){r=Ae("div"),u=yt(a[1]),this.h()},l(l){r=Ee(l,"DIV",{class:!0,id:!0});var d=De(r);u=wt(d,a[1]),d.forEach(ae),this.h()},h(){ee(r,"class","legend svelte-13oh5yk"),ee(r,"id","legend-"+a[6])},m(l,d){Oe(l,r,d),we(r,u)},p(l,d){d&2&&ei(u,l[1])},d(l){l&&ae(r)}}}function Xs(a){let r,u,l,d,h=!1,m,S,N=(a[12].label||a[12].value)+"",z,H,D,K,q,le,J;return q=Eu(a[10][0]),{c(){r=Ae("div"),u=Ae("input"),m=ut(),S=Ae("label"),z=yt(N),K=ut(),this.h()},l(re){r=Ee(re,"DIV",{class:!0});var te=De(r);u=Ee(te,"INPUT",{type:!0,id:!0,name:!0,class:!0}),m=ot(te),S=Ee(te,"LABEL",{class:!0,for:!0});var ce=De(S);z=wt(ce,N),ce.forEach(ae),K=ot(te),te.forEach(ae),this.h()},h(){ee(u,"type","radio"),ee(u,"id",l=`${a[6]}-${a[12].slug}`),ee(u,"name","name-"+a[6]),ee(u,"class","sr-only svelte-13oh5yk"),u.__value=d=a[12].value,xi(u,u.__value),u.disabled=a[3],ee(S,"class",H="option "+a[2]+" svelte-13oh5yk"),ee(S,"for",D=`${a[6]}-${a[12].slug}`),ee(r,"class","option svelte-13oh5yk"),q.p(u)},m(re,te){Oe(re,r,te),we(r,u),u.checked=u.__value===a[0],we(r,m),we(r,S),we(S,z),we(r,K),le||(J=Ni(u,"change",a[9]),le=!0)},p(re,te){te&32&&l!==(l=`${re[6]}-${re[12].slug}`)&&ee(u,"id",l),te&32&&d!==(d=re[12].value)&&(u.__value=d,xi(u,u.__value),h=!0),te&8&&(u.disabled=re[3]),(h||te&33)&&(u.checked=u.__value===re[0]),te&32&&N!==(N=(re[12].label||re[12].value)+"")&&ei(z,N),te&4&&H!==(H="option "+re[2]+" svelte-13oh5yk")&&ee(S,"class",H),te&32&&D!==(D=`${re[6]}-${re[12].slug}`)&&ee(S,"for",D)},d(re){re&&ae(r),q.r(),le=!1,J()}}}function Dl(a){let r,u,l,d,h=a[1]&&Ks(a),m=ht(a[5]),S=[];for(let N=0;N<m.length;N+=1)S[N]=Xs(Zs(a,m,N));return{c(){r=Ae("div"),u=Ae("div"),h&&h.c(),l=ut(),d=Ae("div");for(let N=0;N<S.length;N+=1)S[N].c();this.h()},l(N){r=Ee(N,"DIV",{class:!0});var z=De(r);u=Ee(z,"DIV",{id:!0,class:!0,role:!0,"aria-labelledby":!0});var H=De(u);h&&h.l(H),l=ot(H),d=Ee(H,"DIV",{class:!0});var D=De(d);for(let K=0;K<S.length;K+=1)S[K].l(D);D.forEach(ae),H.forEach(ae),z.forEach(ae),this.h()},h(){ee(d,"class","options svelte-13oh5yk"),ee(u,"id",`group-${a[6]}`),ee(u,"class","group svelte-13oh5yk"),ee(u,"role","radiogroup"),ee(u,"aria-labelledby",`label-${a[6]}`),pt(u,"is-top",a[4]),ee(r,"class","button-set svelte-13oh5yk")},m(N,z){Oe(N,r,z),we(r,u),h&&h.m(u,null),we(u,l),we(u,d);for(let H=0;H<S.length;H+=1)S[H]&&S[H].m(d,null)},p(N,[z]){if(N[1]?h?h.p(N,z):(h=Ks(N),h.c(),h.m(u,l)):h&&(h.d(1),h=null),z&109){m=ht(N[5]);let H;for(H=0;H<m.length;H+=1){const D=Zs(N,m,H);S[H]?S[H].p(D,z):(S[H]=Xs(D),S[H].c(),S[H].m(d,null))}for(;H<S.length;H+=1)S[H].d(1);S.length=m.length}z&16&&pt(u,"is-top",N[4])},i:et,o:et,d(N){N&&ae(r),h&&h.d(),Gt(S,N)}}}function Fl(a,r,u){let l,d,{options:h=[]}=r,{legend:m=""}=r,{legendPosition:S="top"}=r,{labelClass:N=""}=r,{disabled:z=!1}=r,{value:H=h.length?h[0].value:""}=r;const D=`legend-${Math.floor(Math.random()*1e6)}`,K=(J="")=>`${J}`.toLowerCase().replace(/\W/g,""),q=[[]];function le(){H=this.__value,u(0,H)}return a.$$set=J=>{"options"in J&&u(7,h=J.options),"legend"in J&&u(1,m=J.legend),"legendPosition"in J&&u(8,S=J.legendPosition),"labelClass"in J&&u(2,N=J.labelClass),"disabled"in J&&u(3,z=J.disabled),"value"in J&&u(0,H=J.value)},a.$$.update=()=>{a.$$.dirty&128&&u(5,l=h.map(J=>({...J,val:J.value,slug:K(J.value)}))),a.$$.dirty&256&&u(4,d=S==="top")},[H,m,N,z,d,l,D,h,S,le,q]}class ql extends qt{constructor(r){super(),Ht(this,r,Fl,Dl,Ft,{options:7,legend:1,legendPosition:8,labelClass:2,disabled:3,value:0})}}function Ys(a,r,u){const l=a.slice();return l[10]=r[u],l}function Qs(a){let r,u=fn(`.${a[6]}f`)(a[10])+"",l;return{c(){r=Ae("span"),l=yt(u),this.h()},l(d){r=Ee(d,"SPAN",{class:!0});var h=De(r);l=wt(h,u),h.forEach(ae),this.h()},h(){ee(r,"class","tick svelte-q7ecsm")},m(d,h){Oe(d,r,h),we(r,l)},p(d,h){h&96&&u!==(u=fn(`.${d[6]}f`)(d[10])+"")&&ei(l,u)},d(d){d&&ae(r)}}}function Hl(a){let r,u,l,d,h,m,S=ht(a[5]),N=[];for(let z=0;z<S.length;z+=1)N[z]=Qs(Ys(a,S,z));return{c(){r=Ae("div"),u=Ae("div");for(let z=0;z<N.length;z+=1)N[z].c();l=ut(),d=Ae("input"),this.h()},l(z){r=Ee(z,"DIV",{class:!0});var H=De(r);u=Ee(H,"DIV",{class:!0});var D=De(u);for(let K=0;K<N.length;K+=1)N[K].l(D);D.forEach(ae),l=ot(H),d=Ee(H,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),H.forEach(ae),this.h()},h(){ee(u,"class","ticks svelte-q7ecsm"),ee(d,"type","range"),ee(d,"aria-label",a[4]),ee(d,"min",a[1]),ee(d,"max",a[2]),ee(d,"step",a[3]),ee(d,"class","svelte-q7ecsm"),ee(r,"class","range svelte-q7ecsm")},m(z,H){Oe(z,r,H),we(r,u);for(let D=0;D<N.length;D+=1)N[D]&&N[D].m(u,null);we(r,l),we(r,d),xi(d,a[0]),h||(m=[Ni(d,"change",a[8]),Ni(d,"input",a[8])],h=!0)},p(z,[H]){if(H&96){S=ht(z[5]);let D;for(D=0;D<S.length;D+=1){const K=Ys(z,S,D);N[D]?N[D].p(K,H):(N[D]=Qs(K),N[D].c(),N[D].m(u,null))}for(;D<N.length;D+=1)N[D].d(1);N.length=S.length}H&16&&ee(d,"aria-label",z[4]),H&2&&ee(d,"min",z[1]),H&4&&ee(d,"max",z[2]),H&8&&ee(d,"step",z[3]),H&1&&xi(d,z[0])},i:et,o:et,d(z){z&&ae(r),Gt(N,z),h=!1,Tu(m)}}}function Ul(a,r,u){let l,d,{min:h=0}=r,{max:m=100}=r,{step:S=1}=r,{showTicks:N=!1}=r,{value:z=h}=r,{label:H=""}=r;const D=q=>Math.floor(q)===q?0:q.toString().split(".")[1].length||0;function K(){z=Ur(this.value),u(0,z)}return a.$$set=q=>{"min"in q&&u(1,h=q.min),"max"in q&&u(2,m=q.max),"step"in q&&u(3,S=q.step),"showTicks"in q&&u(7,N=q.showTicks),"value"in q&&u(0,z=q.value),"label"in q&&u(4,H=q.label)},a.$$.update=()=>{a.$$.dirty&8&&u(6,l=D(S)),a.$$.dirty&142&&u(5,d=N?lo(h,m+S,S):[])},[z,h,m,S,H,d,l,N,K]}class pr extends qt{constructor(r){super(),Ht(this,r,Ul,Hl,Ft,{min:1,max:2,step:3,showTicks:7,value:0,label:4})}}function Js(a){let r,u=a[2][0]+"",l,d,h,m=a[2][1]+"",S;return{c(){r=Ae("span"),l=yt(u),d=ut(),h=Ae("span"),S=yt(m),this.h()},l(N){r=Ee(N,"SPAN",{class:!0});var z=De(r);l=wt(z,u),z.forEach(ae),d=ot(N),h=Ee(N,"SPAN",{class:!0});var H=De(h);S=wt(H,m),H.forEach(ae),this.h()},h(){ee(r,"class","svelte-157h5as"),ee(h,"class","svelte-157h5as")},m(N,z){Oe(N,r,z),we(r,l),Oe(N,d,z),Oe(N,h,z),we(h,S)},p(N,z){z&4&&u!==(u=N[2][0]+"")&&ei(l,u),z&4&&m!==(m=N[2][1]+"")&&ei(S,m)},d(N){N&&(ae(r),ae(d),ae(h))}}}function jl(a){let r,u,l,d,h,m,S,N,z=a[1]==="inner"&&Js(a);return{c(){r=Ae("div"),u=Ae("span"),l=yt(a[0]),d=ut(),h=Ae("button"),z&&z.c(),this.h()},l(H){r=Ee(H,"DIV",{class:!0});var D=De(r);u=Ee(D,"SPAN",{class:!0,id:!0});var K=De(u);l=wt(K,a[0]),K.forEach(ae),d=ot(D),h=Ee(D,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var q=De(h);z&&z.l(q),q.forEach(ae),D.forEach(ae),this.h()},h(){ee(u,"class","label svelte-157h5as"),ee(u,"id",a[4]),ee(h,"role","switch"),ee(h,"aria-checked",a[3]),ee(h,"aria-labelledby",a[4]),ee(h,"class","svelte-157h5as"),ee(r,"class",m="toggle toggle--"+a[1]+" svelte-157h5as")},m(H,D){Oe(H,r,D),we(r,u),we(u,l),we(r,d),we(r,h),z&&z.m(h,null),S||(N=Ni(h,"click",a[5]),S=!0)},p(H,[D]){D&1&&ei(l,H[0]),H[1]==="inner"?z?z.p(H,D):(z=Js(H),z.c(),z.m(h,null)):z&&(z.d(1),z=null),D&8&&ee(h,"aria-checked",H[3]),D&2&&m!==(m="toggle toggle--"+H[1]+" svelte-157h5as")&&ee(r,"class",m)},i:et,o:et,d(H){H&&ae(r),z&&z.d(),S=!1,N()}}}function Wl(a,r,u){let{label:l}=r,{style:d="inner"}=r,{options:h=["on","off"]}=r,{value:m=h[0]}=r,S=m===h[0];const N=`toggle-${Math.floor(Math.random()*1e6)}`,z=H=>{const K=H.target.getAttribute("aria-checked");u(3,S=K!=="true"),u(6,m=S?h[0]:h[1])};return a.$$set=H=>{"label"in H&&u(0,l=H.label),"style"in H&&u(1,d=H.style),"options"in H&&u(2,h=H.options),"value"in H&&u(6,m=H.value)},[l,d,h,S,N,z,m]}class Gl extends qt{constructor(r){super(),Ht(this,r,Wl,jl,Ft,{label:0,style:1,options:2,value:6})}}function $s(a){let r,u,l,d=a[10]&&ea(a),h=a[11]&&ta(a);return{c(){r=Ae("div"),d&&d.c(),u=ut(),h&&h.c(),this.h()},l(m){r=Ee(m,"DIV",{class:!0});var S=De(r);d&&d.l(S),u=ot(S),h&&h.l(S),S.forEach(ae),this.h()},h(){ee(r,"class","controls top svelte-mo4xt9")},m(m,S){Oe(m,r,S),d&&d.m(r,null),we(r,u),h&&h.m(r,null),l=!0},p(m,S){m[10]?d?(d.p(m,S),S[0]&1024&&He(d,1)):(d=ea(m),d.c(),He(d,1),d.m(r,u)):d&&(di(),Xe(d,1,1,()=>{d=null}),pi()),m[11]?h?h.p(m,S):(h=ta(m),h.c(),h.m(r,null)):h&&(h.d(1),h=null)},i(m){l||(He(d),l=!0)},o(m){Xe(d),l=!1},d(m){m&&ae(r),d&&d.d(),h&&h.d()}}}function ea(a){let r,u,l;function d(m){a[28](m)}let h={label:"explode",style:"slider"};return a[16]!==void 0&&(h.value=a[16]),r=new Gl({props:h}),ji.push(()=>hn(r,"value",d)),{c(){Pt(r.$$.fragment)},l(m){At(r.$$.fragment,m)},m(m,S){Et(r,m,S),l=!0},p(m,S){const N={};!u&&S[0]&65536&&(u=!0,N.value=m[16],ln(()=>u=!1)),r.$set(N)},i(m){l||(He(r.$$.fragment,m),l=!0)},o(m){Xe(r.$$.fragment,m),l=!1},d(m){Tt(r,m)}}}function ta(a){let r,u,l,d,h,m;return{c(){r=Ae("label"),u=yt(`standard deviation
					`),l=Ae("input"),d=yt(`
					%`),this.h()},l(S){r=Ee(S,"LABEL",{class:!0});var N=De(r);u=wt(N,`standard deviation
					`),l=Ee(N,"INPUT",{type:!0}),d=wt(N,`
					%`),N.forEach(ae),this.h()},h(){ee(l,"type","number"),l.readOnly=!0,ee(r,"class","standard-deviation")},m(S,N){Oe(S,r,N),we(r,u),we(r,l),xi(l,a[18].standardDeviationString),we(r,d),h||(m=Ni(l,"input",a[29]),h=!0)},p(S,N){N[0]&262144&&Ur(l.value)!==S[18].standardDeviationString&&xi(l,S[18].standardDeviationString)},d(S){S&&ae(r),h=!1,m()}}}function Zl(a){let r,u;return r=new Qa({props:{yScale:a[20],highlightExtremes:!1}}),{c(){Pt(r.$$.fragment)},l(l){At(r.$$.fragment,l)},m(l,d){Et(r,l,d),u=!0},p:et,i(l){u||(He(r.$$.fragment,l),u=!0)},o(l){Xe(r.$$.fragment,l),u=!1},d(l){Tt(r,l)}}}function Kl(a){let r,u,l,d,h,m,S,N;u=new xl({props:{width:Ei,height:a[19],isBottom:!0,isHalfWidth:a[12]}}),l=new kl({props:{height:a[19]}});let z=a[2]&&ia(a),H=a[12]&&na(a);return m=new Qa({props:{yScale:a[20],highlightExtremes:a[3]}}),{c(){r=ai("svg"),Pt(u.$$.fragment),Pt(l.$$.fragment),z&&z.c(),d=zt(),H&&H.c(),h=zt(),Pt(m.$$.fragment),this.h()},l(D){r=ui(D,"svg",{viewBox:!0});var K=De(r);At(u.$$.fragment,K),At(l.$$.fragment,K),z&&z.l(K),d=zt(),H&&H.l(K),h=zt(),At(m.$$.fragment,K),K.forEach(ae),this.h()},h(){ee(r,"viewBox",S=-Ei/2+" 0 "+Ei+" "+(a[12]?a[19]*(5/3):a[19]))},m(D,K){Oe(D,r,K),Et(u,r,null),Et(l,r,null),z&&z.m(r,null),we(r,d),H&&H.m(r,null),we(r,h),Et(m,r,null),N=!0},p(D,K){const q={};K[0]&4096&&(q.isHalfWidth=D[12]),u.$set(q),D[2]?z?(z.p(D,K),K[0]&4&&He(z,1)):(z=ia(D),z.c(),He(z,1),z.m(r,d)):z&&(di(),Xe(z,1,1,()=>{z=null}),pi()),D[12]?H?H.p(D,K):(H=na(D),H.c(),H.m(r,h)):H&&(H.d(1),H=null);const le={};K[0]&8&&(le.highlightExtremes=D[3]),m.$set(le),(!N||K[0]&4096&&S!==(S=-Ei/2+" 0 "+Ei+" "+(D[12]?D[19]*(5/3):D[19])))&&ee(r,"viewBox",S)},i(D){N||(He(u.$$.fragment,D),He(l.$$.fragment,D),He(z),He(m.$$.fragment,D),N=!0)},o(D){Xe(u.$$.fragment,D),Xe(l.$$.fragment,D),Xe(z),Xe(m.$$.fragment,D),N=!1},d(D){D&&ae(r),Tt(u),Tt(l),z&&z.d(),H&&H.d(),Tt(m)}}}function ia(a){let r,u;return r=new Tl({props:{width:Ei,height:a[19],yScale:a[20]}}),{c(){Pt(r.$$.fragment)},l(l){At(r.$$.fragment,l)},m(l,d){Et(r,l,d),u=!0},p:et,i(l){u||(He(r.$$.fragment,l),u=!0)},o(l){Xe(r.$$.fragment,l),u=!1},d(l){Tt(r,l)}}}function na(a){let r,u,l,d;return{c(){r=ai("clipPath"),u=ai("rect"),l=ai("circle"),this.h()},l(h){r=ui(h,"clipPath",{id:!0});var m=De(r);u=ui(m,"rect",{width:!0,height:!0,x:!0}),De(u).forEach(ae),m.forEach(ae),l=ui(h,"circle",{r:!0,cx:!0,cy:!0,class:!0}),De(l).forEach(ae),this.h()},h(){ee(u,"width",Ei),ee(u,"height",a[19]),ee(u,"x",-Ei/2),ee(r,"id","layer-mask"),ee(l,"r","10"),ee(l,"cx","0"),ee(l,"cy",d=a[20](-a[17])),ee(l,"class","radial-target svelte-mo4xt9")},m(h,m){Oe(h,r,m),we(r,u),Oe(h,l,m)},p(h,m){m[0]&131072&&d!==(d=h[20](-h[17]))&&ee(l,"cy",d)},d(h){h&&(ae(r),ae(l))}}}function ra(a){let r,u,l,d,h,m,S,N,z,H,D,K=a[5]&&sa(a);function q(te){a[31](te)}let le={min:gl,max:Ka,label:"number of cuts"};a[14]!==void 0&&(le.value=a[14]),S=new pr({props:le}),ji.push(()=>hn(S,"value",q));let J=a[6]&&aa(a),re=a[8]&&ua(a);return{c(){r=Ae("div"),K&&K.c(),u=ut(),l=Ae("p"),d=yt("number of cuts: "),h=yt(a[14]),m=ut(),Pt(S.$$.fragment),z=ut(),J&&J.c(),H=ut(),re&&re.c(),this.h()},l(te){r=Ee(te,"DIV",{class:!0});var ce=De(r);K&&K.l(ce),u=ot(ce),l=Ee(ce,"P",{});var ge=De(l);d=wt(ge,"number of cuts: "),h=wt(ge,a[14]),ge.forEach(ae),m=ot(ce),At(S.$$.fragment,ce),z=ot(ce),J&&J.l(ce),H=ot(ce),re&&re.l(ce),ce.forEach(ae),this.h()},h(){ee(r,"class","controls bottom svelte-mo4xt9")},m(te,ce){Oe(te,r,ce),K&&K.m(r,null),we(r,u),we(r,l),we(l,d),we(l,h),we(r,m),Et(S,r,null),we(r,z),J&&J.m(r,null),we(r,H),re&&re.m(r,null),D=!0},p(te,ce){te[5]?K?(K.p(te,ce),ce[0]&32&&He(K,1)):(K=sa(te),K.c(),He(K,1),K.m(r,u)):K&&(di(),Xe(K,1,1,()=>{K=null}),pi()),(!D||ce[0]&16384)&&ei(h,te[14]);const ge={};!N&&ce[0]&16384&&(N=!0,ge.value=te[14],ln(()=>N=!1)),S.$set(ge),te[6]?J?(J.p(te,ce),ce[0]&64&&He(J,1)):(J=aa(te),J.c(),He(J,1),J.m(r,H)):J&&(di(),Xe(J,1,1,()=>{J=null}),pi()),te[8]?re?(re.p(te,ce),ce[0]&256&&He(re,1)):(re=ua(te),re.c(),He(re,1),re.m(r,null)):re&&(di(),Xe(re,1,1,()=>{re=null}),pi())},i(te){D||(He(K),He(S.$$.fragment,te),He(J),He(re),D=!0)},o(te){Xe(K),Xe(S.$$.fragment,te),Xe(J),Xe(re),D=!1},d(te){te&&ae(r),K&&K.d(),Tt(S),J&&J.d(),re&&re.d()}}}function sa(a){let r,u,l,d,h,m,S;function N(H){a[30](H)}let z={min:Dr,max:Za,label:"number of layers"};return a[13]!==void 0&&(z.value=a[13]),h=new pr({props:z}),ji.push(()=>hn(h,"value",N)),{c(){r=Ae("p"),u=yt("number of layers: "),l=yt(a[13]),d=ut(),Pt(h.$$.fragment)},l(H){r=Ee(H,"P",{});var D=De(r);u=wt(D,"number of layers: "),l=wt(D,a[13]),D.forEach(ae),d=ot(H),At(h.$$.fragment,H)},m(H,D){Oe(H,r,D),we(r,u),we(r,l),Oe(H,d,D),Et(h,H,D),S=!0},p(H,D){(!S||D[0]&8192)&&ei(l,H[13]);const K={};!m&&D[0]&8192&&(m=!0,K.value=H[13],ln(()=>m=!1)),h.$set(K)},i(H){S||(He(h.$$.fragment,H),S=!0)},o(H){Xe(h.$$.fragment,H),S=!1},d(H){H&&(ae(r),ae(d)),Tt(h,H)}}}function aa(a){let r,u,l,d,h,m,S=Fr(-a[1])+"",N,z,H,D,K,q;function le(ce){a[32](ce)}let J={legend:"cut type",options:a[21]};a[0]!==void 0&&(J.value=a[0]),r=new ql({props:J}),ji.push(()=>hn(r,"value",le));function re(ce){a[33](ce)}let te={min:0,max:1,step:.01,label:"cut target depth percentage"};return a[1]!==void 0&&(te.value=a[1]),D=new pr({props:te}),ji.push(()=>hn(D,"value",re)),{c(){Pt(r.$$.fragment),l=ut(),d=Ae("div"),h=Ae("p"),m=yt(`cut target height:
						`),N=yt(S),z=yt(" of outer radius"),H=ut(),Pt(D.$$.fragment),this.h()},l(ce){At(r.$$.fragment,ce),l=ot(ce),d=Ee(ce,"DIV",{class:!0});var ge=De(d);h=Ee(ge,"P",{});var Ve=De(h);m=wt(Ve,`cut target height:
						`),N=wt(Ve,S),z=wt(Ve," of outer radius"),Ve.forEach(ae),H=ot(ge),At(D.$$.fragment,ge),ge.forEach(ae),this.h()},h(){ee(d,"class","svelte-mo4xt9"),pt(d,"hidden",!(a[0]==="radial"&&a[7]))},m(ce,ge){Et(r,ce,ge),Oe(ce,l,ge),Oe(ce,d,ge),we(d,h),we(h,m),we(h,N),we(h,z),we(d,H),Et(D,d,null),q=!0},p(ce,ge){const Ve={};!u&&ge[0]&1&&(u=!0,Ve.value=ce[0],ln(()=>u=!1)),r.$set(Ve),(!q||ge[0]&2)&&S!==(S=Fr(-ce[1])+"")&&ei(N,S);const fe={};!K&&ge[0]&2&&(K=!0,fe.value=ce[1],ln(()=>K=!1)),D.$set(fe),(!q||ge[0]&129)&&pt(d,"hidden",!(ce[0]==="radial"&&ce[7]))},i(ce){q||(He(r.$$.fragment,ce),He(D.$$.fragment,ce),q=!0)},o(ce){Xe(r.$$.fragment,ce),Xe(D.$$.fragment,ce),q=!1},d(ce){ce&&(ae(l),ae(d)),Tt(r,ce),Tt(D)}}}function ua(a){let r,u,l,d,h,m,S;function N(H){a[34](H)}let z={min:Xa,max:_l,label:"horizontal cuts"};return a[15]!==void 0&&(z.value=a[15]),h=new pr({props:z}),ji.push(()=>hn(h,"value",N)),{c(){r=Ae("p"),u=yt("horizontal cuts: "),l=yt(a[15]),d=ut(),Pt(h.$$.fragment)},l(H){r=Ee(H,"P",{});var D=De(r);u=wt(D,"horizontal cuts: "),l=wt(D,a[15]),D.forEach(ae),d=ot(H),At(h.$$.fragment,H)},m(H,D){Oe(H,r,D),we(r,u),we(r,l),Oe(H,d,D),Et(h,H,D),S=!0},p(H,D){(!S||D[0]&32768)&&ei(l,H[15]);const K={};!m&&D[0]&32768&&(m=!0,K.value=H[15],ln(()=>m=!1)),h.$set(K)},i(H){S||(He(h.$$.fragment,H),S=!0)},o(H){Xe(h.$$.fragment,H),S=!1},d(H){H&&(ae(r),ae(d)),Tt(h,H)}}}function oa(a){let r,u;return{c(){r=Ae("figcaption"),u=yt(a[9])},l(l){r=Ee(l,"FIGCAPTION",{});var d=De(r);u=wt(d,a[9]),d.forEach(ae)},m(l,d){Oe(l,r,d),we(r,u)},p(l,d){d[0]&512&&ei(u,l[9])},d(l){l&&ae(r)}}}function Xl(a){let r,u,l,d,h,m,S,N=(a[10]||a[11])&&$s(a);const z=[Kl,Zl],H=[];function D(le,J){return le[16]==="off"?0:le[16]==="on"?1:-1}~(l=D(a))&&(d=H[l]=z[l](a));let K=a[4]&&ra(a),q=a[9]&&oa(a);return{c(){r=Ae("figure"),N&&N.c(),u=ut(),d&&d.c(),h=ut(),K&&K.c(),m=ut(),q&&q.c(),this.h()},l(le){r=Ee(le,"FIGURE",{class:!0});var J=De(r);N&&N.l(J),u=ot(J),d&&d.l(J),h=ot(J),K&&K.l(J),m=ot(J),q&&q.l(J),J.forEach(ae),this.h()},h(){ee(r,"class","svelte-mo4xt9"),pt(r,"explode",a[16]==="on")},m(le,J){Oe(le,r,J),N&&N.m(r,null),we(r,u),~l&&H[l].m(r,null),we(r,h),K&&K.m(r,null),we(r,m),q&&q.m(r,null),S=!0},p(le,J){le[10]||le[11]?N?(N.p(le,J),J[0]&3072&&He(N,1)):(N=$s(le),N.c(),He(N,1),N.m(r,u)):N&&(di(),Xe(N,1,1,()=>{N=null}),pi());let re=l;l=D(le),l===re?~l&&H[l].p(le,J):(d&&(di(),Xe(H[re],1,1,()=>{H[re]=null}),pi()),~l?(d=H[l],d?d.p(le,J):(d=H[l]=z[l](le),d.c()),He(d,1),d.m(r,h)):d=null),le[4]?K?(K.p(le,J),J[0]&16&&He(K,1)):(K=ra(le),K.c(),He(K,1),K.m(r,m)):K&&(di(),Xe(K,1,1,()=>{K=null}),pi()),le[9]?q?q.p(le,J):(q=oa(le),q.c(),q.m(r,null)):q&&(q.d(1),q=null),(!S||J[0]&65536)&&pt(r,"explode",le[16]==="on")},i(le){S||(He(N),He(d),He(K),S=!0)},o(le){Xe(N),Xe(d),Xe(K),S=!1},d(le){le&&ae(r),N&&N.d(),~l&&H[l].d(),K&&K.d(),q&&q.d()}}}const Ei=600;function Yl(a,r,u){let l,d,h,m,S,N,{showCuts:z=!0}=r,{highlightExtremes:H=!1}=r,{showControls:D=!0}=r,{controlLayers:K=!1}=r,{controlCutType:q=!1}=r,{controlRadialDepth:le=!1}=r,{controlHorizontalCuts:J=!1}=r,{caption:re=""}=r,{cutType:te="vertical"}=r,{cutTargetDepthPercentage:ce=0}=r,{toggleExplode:ge=!1}=r,{showStandardDeviation:Ve=!1}=r,{showRadialTarget:fe=!1}=r;const A=Ei/2,be=A*.8,Re=qi().domain([0,A]).range([A,0]),je=[{value:"vertical"},{value:"radial"}];let tt=10,Fe=Ka,ze=Xa,Ce="off";Bi.setup(new Bi.Size(1,1)),Bi.view.autoUpdate=!1;const me=an(new Ms({radius:be,numLayers:tt,numCuts:Fe,cutType:te,cutTargetDepthPercentage:ce,numHorizontalCuts:ze}));Jt(a,me,Be=>u(18,h=Be)),Ai("onionStore",me);const Ge=an([]);Jt(a,Ge,Be=>u(38,N=Be)),Ai("layerPathStore",Ge);const de=an([]);Jt(a,de,Be=>u(37,S=Be)),Ai("cutPathStore",de);const mt=an([]);Jt(a,mt,Be=>u(36,m=Be)),Ai("horizontalCutPathStore",mt);const Ot=an(Ce==="on");Jt(a,Ot,Be=>u(35,d=Be)),Ai("explodeStore",Ot);function qe(Be){Ce=Be,u(16,Ce)}function ft(){h.standardDeviationString=Ur(this.value),me.set(h)}function Yt(Be){tt=Be,u(13,tt)}function ni(Be){Fe=Be,u(14,Fe)}function xt(Be){te=Be,u(0,te)}function Wi(Be){ce=Be,u(1,ce)}function St(Be){ze=Be,u(15,ze)}return a.$$set=Be=>{"showCuts"in Be&&u(2,z=Be.showCuts),"highlightExtremes"in Be&&u(3,H=Be.highlightExtremes),"showControls"in Be&&u(4,D=Be.showControls),"controlLayers"in Be&&u(5,K=Be.controlLayers),"controlCutType"in Be&&u(6,q=Be.controlCutType),"controlRadialDepth"in Be&&u(7,le=Be.controlRadialDepth),"controlHorizontalCuts"in Be&&u(8,J=Be.controlHorizontalCuts),"caption"in Be&&u(9,re=Be.caption),"cutType"in Be&&u(0,te=Be.cutType),"cutTargetDepthPercentage"in Be&&u(1,ce=Be.cutTargetDepthPercentage),"toggleExplode"in Be&&u(10,ge=Be.toggleExplode),"showStandardDeviation"in Be&&u(11,Ve=Be.showStandardDeviation),"showRadialTarget"in Be&&u(12,fe=Be.showRadialTarget)},a.$$.update=()=>{a.$$.dirty[0]&57347&&sn(me,h=new Ms({radius:be,numLayers:tt,numCuts:Fe,cutType:te,cutTargetDepthPercentage:ce,numHorizontalCuts:ze}),h),a.$$.dirty[0]&262144&&u(17,{cutTargetDepth:l}=h,l),a.$$.dirty[0]&134479872&&sn(Ge,N=h.layerRadii.map(Be=>{const{layerThickness:vi}=h,ri=Be-vi,lt=[`M ${Be} ${A}`,`A ${Be} ${Be} 0 0 0 ${-Be} ${A}`,`H ${-ri}`,`A ${ri} ${ri} 0 0 1 ${ri} ${A}`,"z"].join(" ");return new Bi.Path(lt)}),N),a.$$.dirty[0]&134610945&&sn(de,S=h.cutNumbers.map((Be,vi,ri)=>{let lt;if(te==="vertical"){const{cutThickness:ct}=h;lt=[`M ${h.cutWidthScale(Be)} ${A}`,"V 0",`h ${ct}`,`V ${A}`,"z"].join(" ")}if(te==="radial"){const ct=ri.length-Be,vt=h.cutAngleScale(ct),dn=h.cutAngleScale(ct-1),[Si,pn]=qr(be,vt),[Mi,gn]=qr(be,dn);lt=[`M 0 ${Re(-l)}`,`L ${Si*2} ${Re(pn*2+l)}`,`L ${Mi*2} ${Re(gn*2+l)}`,"z"].join(" ")}return new Bi.Path(lt)}),S),a.$$.dirty[0]&134479872&&sn(mt,m=[...h.horizontalCutNumbers.length?[new Bi.Path([`M 0 ${Re(be)}`,`V ${Re(h.horizontalCutScale(h.horizontalCutNumbers.length-1)*be)}`,`H ${be}`,`V ${Re(be)}`,"z"].join(" "))]:[],...h.horizontalCutNumbers.map(Be=>{const vi=h.horizontalCutScale(Be)*be,ri=Re(vi),lt=Re(h.horizontalCutScale(Be-1)*be),ct=[`M 0 ${lt}`,`V ${ri}`,`H ${be}`,`V ${lt}`,"z"].join(" ");return new Bi.Path(ct)})].reverse(),m),a.$$.dirty[0]&65536&&sn(Ot,d=Ce==="on",d)},[te,ce,z,H,D,K,q,le,J,re,ge,Ve,fe,tt,Fe,ze,Ce,l,h,A,Re,je,me,Ge,de,mt,Ot,Bi,qe,ft,Yt,ni,xt,Wi,St]}class Ql extends qt{constructor(r){super(),Ht(this,r,Yl,Xl,Ft,{showCuts:2,highlightExtremes:3,showControls:4,controlLayers:5,controlCutType:6,controlRadialDepth:7,controlHorizontalCuts:8,caption:9,cutType:0,cutTargetDepthPercentage:1,toggleExplode:10,showStandardDeviation:11,showRadialTarget:12},null,[-1,-1])}}function la(a,r,u){const l=a.slice();return l[6]=r[u],l}function ha(a){let r,u;return{c(){r=Ae("label"),u=yt(a[2]),this.h()},l(l){r=Ee(l,"LABEL",{for:!0,class:!0});var d=De(r);u=wt(d,a[2]),d.forEach(ae),this.h()},h(){ee(r,"for",a[4]),ee(r,"class","svelte-u4o027")},m(l,d){Oe(l,r,d),we(r,u)},p(l,d){d&4&&ei(u,l[2])},d(l){l&&ae(r)}}}function fa(a){let r,u=(a[6].label||a[6].value)+"",l,d;return{c(){r=Ae("option"),l=yt(u),this.h()},l(h){r=Ee(h,"OPTION",{});var m=De(r);l=wt(m,u),m.forEach(ae),this.h()},h(){r.__value=d=a[6].label||a[6].value,xi(r,r.__value)},m(h,m){Oe(h,r,m),we(r,l)},p(h,m){m&2&&u!==(u=(h[6].label||h[6].value)+"")&&ei(l,u),m&2&&d!==(d=h[6].label||h[6].value)&&(r.__value=d,xi(r,r.__value))},d(h){h&&ae(r)}}}function Jl(a){let r,u,l,d,h,m=a[2]&&ha(a),S=ht(a[1]),N=[];for(let z=0;z<S.length;z+=1)N[z]=fa(la(a,S,z));return{c(){r=Ae("div"),m&&m.c(),u=ut(),l=Ae("select");for(let z=0;z<N.length;z+=1)N[z].c();this.h()},l(z){r=Ee(z,"DIV",{class:!0});var H=De(r);m&&m.l(H),u=ot(H),l=Ee(H,"SELECT",{id:!0,class:!0});var D=De(l);for(let K=0;K<N.length;K+=1)N[K].l(D);D.forEach(ae),H.forEach(ae),this.h()},h(){ee(l,"id",a[4]),l.disabled=a[3],ee(l,"class","svelte-u4o027"),a[0]===void 0&&Nu(()=>a[5].call(l)),ee(r,"class","select svelte-u4o027")},m(z,H){Oe(z,r,H),m&&m.m(r,null),we(r,u),we(r,l);for(let D=0;D<N.length;D+=1)N[D]&&N[D].m(l,null);us(l,a[0],!0),d||(h=Ni(l,"change",a[5]),d=!0)},p(z,[H]){if(z[2]?m?m.p(z,H):(m=ha(z),m.c(),m.m(r,u)):m&&(m.d(1),m=null),H&2){S=ht(z[1]);let D;for(D=0;D<S.length;D+=1){const K=la(z,S,D);N[D]?N[D].p(K,H):(N[D]=fa(K),N[D].c(),N[D].m(l,null))}for(;D<N.length;D+=1)N[D].d(1);N.length=S.length}H&8&&(l.disabled=z[3]),H&3&&us(l,z[0])},i:et,o:et,d(z){z&&ae(r),m&&m.d(),Gt(N,z),d=!1,h()}}}function $l(a,r,u){let{options:l=[]}=r,{label:d=""}=r,{disabled:h=!1}=r,{value:m=l.length?l[0].value:""}=r;const S=`select-${Math.floor(Math.random()*1e6)}`;function N(){m=Mu(this),u(0,m),u(1,l)}return a.$$set=z=>{"options"in z&&u(1,l=z.options),"label"in z&&u(2,d=z.label),"disabled"in z&&u(3,h=z.disabled),"value"in z&&u(0,m=z.value)},[m,l,d,h,S,N]}class eh extends qt{constructor(r){super(),Ht(this,r,$l,Jl,Ft,{options:1,label:2,disabled:3,value:0})}}function ca(a,r,u){const l=a.slice();return l[19]=r[u],l}function da(a,r,u){const l=a.slice();l[22]=r[u].label,l[23]=r[u].prop,l[24]=r[u].type,l[25]=r[u].formatFn!==void 0?r[u].formatFn:h=>h;const d=l[25](l[19][l[23]]);return l[26]=d,l}function pa(a,r,u){const l=a.slice();return l[22]=r[u].label,l[23]=r[u].prop,l[24]=r[u].type,l[29]=r[u].sort,l[30]=r[u].dir,l[32]=u,l}function th(a){let r=a[22]+"",u;return{c(){u=yt(r)},l(l){u=wt(l,r)},m(l,d){Oe(l,u,d)},p(l,d){d[0]&64&&r!==(r=l[22]+"")&&ei(u,r)},d(l){l&&ae(u)}}}function ih(a){let r,u=a[22]+"",l,d,h;function m(){return a[13](a[23],a[32])}return{c(){r=Ae("button"),l=yt(u),this.h()},l(S){r=Ee(S,"BUTTON",{class:!0});var N=De(r);l=wt(N,u),N.forEach(ae),this.h()},h(){ee(r,"class","svelte-wj0ceg")},m(S,N){Oe(S,r,N),we(r,l),d||(h=Ni(r,"click",m),d=!0)},p(S,N){a=S,N[0]&64&&u!==(u=a[22]+"")&&ei(l,u)},d(S){S&&ae(r),d=!1,h()}}}function ga(a){let r,u;function l(m,S){return m[29]?ih:th}let d=l(a),h=d(a);return{c(){r=Ae("th"),h.c(),u=ut(),this.h()},l(m){r=Ee(m,"TH",{class:!0});var S=De(r);h.l(S),u=ot(S),S.forEach(ae),this.h()},h(){ee(r,"class","svelte-wj0ceg"),pt(r,"is-sortable",a[29]),pt(r,"is-number",a[24]==="number"),pt(r,"is-asc",a[30]==="asc"),pt(r,"is-desc",a[30]==="desc")},m(m,S){Oe(m,r,S),h.m(r,null),we(r,u)},p(m,S){d===(d=l(m))&&h?h.p(m,S):(h.d(1),h=d(m),h&&(h.c(),h.m(r,u))),S[0]&64&&pt(r,"is-sortable",m[29]),S[0]&64&&pt(r,"is-number",m[24]==="number"),S[0]&64&&pt(r,"is-asc",m[30]==="asc"),S[0]&64&&pt(r,"is-desc",m[30]==="desc")},d(m){m&&ae(r),h.d()}}}function _a(a){let r,u,l,d,h,m;return{c(){r=Ae("tr"),u=Ae("th"),l=Ae("input"),this.h()},l(S){r=Ee(S,"TR",{class:!0});var N=De(r);u=Ee(N,"TH",{class:!0});var z=De(u);l=Ee(z,"INPUT",{type:!0,placeholder:!0,class:!0}),z.forEach(ae),N.forEach(ae),this.h()},h(){ee(l,"type","text"),ee(l,"placeholder",d="Filter "+a[9]+"..."),ee(l,"class","svelte-wj0ceg"),ee(u,"class","svelte-wj0ceg"),ee(r,"class","svelte-wj0ceg")},m(S,N){Oe(S,r,N),we(r,u),we(u,l),xi(l,a[5]),h||(m=Ni(l,"input",a[14]),h=!0)},p(S,N){N[0]&512&&d!==(d="Filter "+S[9]+"...")&&ee(l,"placeholder",d),N[0]&32&&l.value!==S[5]&&xi(l,S[5])},d(S){S&&ae(r),h=!1,m()}}}function ma(a){let r,u,l=a[26]+"",d;return{c(){r=Ae("td"),u=new Hi(!1),this.h()},l(h){r=Ee(h,"TD",{"data-th":!0,class:!0});var m=De(r);u=Ui(m,!1),m.forEach(ae),this.h()},h(){u.a=null,ee(r,"data-th",d=a[22]),ee(r,"class","svelte-wj0ceg"),pt(r,"is-number",a[24]==="number")},m(h,m){Oe(h,r,m),u.m(l,r)},p(h,m){m[0]&130&&l!==(l=h[26]+"")&&u.p(l),m[0]&2&&d!==(d=h[22])&&ee(r,"data-th",d),m[0]&2&&pt(r,"is-number",h[24]==="number")},d(h){h&&ae(r)}}}function va(a){let r,u,l,d,h,m,S=ht(a[1]),N=[];for(let H=0;H<S.length;H+=1)N[H]=ma(da(a,S,H));function z(){return a[15](a[19])}return{c(){r=Ae("tr");for(let H=0;H<N.length;H+=1)N[H].c();u=ut(),this.h()},l(H){r=Ee(H,"TR",{style:!0,class:!0});var D=De(r);for(let K=0;K<N.length;K+=1)N[K].l(D);u=ot(D),D.forEach(ae),this.h()},h(){ee(r,"style",l=a[19].style),ee(r,"class",d=nr(a[19].class)+" svelte-wj0ceg")},m(H,D){Oe(H,r,D);for(let K=0;K<N.length;K+=1)N[K]&&N[K].m(r,null);we(r,u),h||(m=Ni(r,"click",z),h=!0)},p(H,D){if(a=H,D[0]&130){S=ht(a[1]);let K;for(K=0;K<S.length;K+=1){const q=da(a,S,K);N[K]?N[K].p(q,D):(N[K]=ma(q),N[K].c(),N[K].m(r,u))}for(;K<N.length;K+=1)N[K].d(1);N.length=S.length}D[0]&128&&l!==(l=a[19].style)&&ee(r,"style",l),D[0]&128&&d!==(d=nr(a[19].class)+" svelte-wj0ceg")&&ee(r,"class",d)},d(H){H&&ae(r),Gt(N,H),h=!1,m()}}}function nh(a){let r,u,l,d,h,m,S,N,z,H=ht(a[6]),D=[];for(let J=0;J<H.length;J+=1)D[J]=ga(pa(a,H,J));let K=a[4]&&_a(a),q=ht(a[7]),le=[];for(let J=0;J<q.length;J+=1)le[J]=va(ca(a,q,J));return{c(){r=Ae("table"),u=Ae("caption"),l=yt(a[0]),d=ut(),h=Ae("thead"),m=Ae("tr");for(let J=0;J<D.length;J+=1)D[J].c();S=ut(),K&&K.c(),N=ut(),z=Ae("tbody");for(let J=0;J<le.length;J+=1)le[J].c();this.h()},l(J){r=Ee(J,"TABLE",{class:!0});var re=De(r);u=Ee(re,"CAPTION",{class:!0});var te=De(u);l=wt(te,a[0]),te.forEach(ae),d=ot(re),h=Ee(re,"THEAD",{class:!0});var ce=De(h);m=Ee(ce,"TR",{class:!0});var ge=De(m);for(let fe=0;fe<D.length;fe+=1)D[fe].l(ge);ge.forEach(ae),S=ot(ce),K&&K.l(ce),ce.forEach(ae),N=ot(re),z=Ee(re,"TBODY",{class:!0});var Ve=De(z);for(let fe=0;fe<le.length;fe+=1)le[fe].l(Ve);Ve.forEach(ae),re.forEach(ae),this.h()},h(){ee(u,"class","svelte-wj0ceg"),ee(m,"class","svelte-wj0ceg"),ee(h,"class","svelte-wj0ceg"),ee(z,"class","svelte-wj0ceg"),ee(r,"class","svelte-wj0ceg"),pt(r,"scrollable",a[2]),pt(r,"mobile",a[3]),pt(r,"filter",!!a[4])},m(J,re){Oe(J,r,re),we(r,u),we(u,l),we(r,d),we(r,h),we(h,m);for(let te=0;te<D.length;te+=1)D[te]&&D[te].m(m,null);we(h,S),K&&K.m(h,null),we(r,N),we(r,z);for(let te=0;te<le.length;te+=1)le[te]&&le[te].m(z,null);a[16](z)},p(J,re){if(re[0]&1&&ei(l,J[0]),re[0]&2112){H=ht(J[6]);let te;for(te=0;te<H.length;te+=1){const ce=pa(J,H,te);D[te]?D[te].p(ce,re):(D[te]=ga(ce),D[te].c(),D[te].m(m,null))}for(;te<D.length;te+=1)D[te].d(1);D.length=H.length}if(J[4]?K?K.p(J,re):(K=_a(J),K.c(),K.m(h,null)):K&&(K.d(1),K=null),re[0]&1154){q=ht(J[7]);let te;for(te=0;te<q.length;te+=1){const ce=ca(J,q,te);le[te]?le[te].p(ce,re):(le[te]=va(ce),le[te].c(),le[te].m(z,null))}for(;te<le.length;te+=1)le[te].d(1);le.length=q.length}re[0]&4&&pt(r,"scrollable",J[2]),re[0]&8&&pt(r,"mobile",J[3]),re[0]&16&&pt(r,"filter",!!J[4])},i:et,o:et,d(J){J&&ae(r),Gt(D,J),K&&K.d(),Gt(le,J),a[16](null)}}}function rh(a,r,u){let l,d,h,{caption:m=""}=r,{rows:S=[]}=r,{columns:N=[]}=r,{scrollable:z=!1}=r,{mobile:H=!1}=r,{filter:D=void 0}=r;const K=Lu(),q={asc:(A,be)=>A==null||be==null?NaN:A<be?-1:A>be?1:A>=be?0:NaN,desc:(A,be)=>A==null||be==null?NaN:be<A?-1:be>A?1:be>=A?0:NaN},le=({prop:A,i:be,same:Re})=>{const je=l[be].dir,tt=Re?je:je==="asc"?"desc":"asc",Fe=l[be].sortFn;l.forEach(ze=>ze.dir=void 0),u(6,l[be].dir=tt,l),u(6,l=[...l]),d.sort((ze,Ce)=>Fe?Fe(ze,Ce,q[tt]):q[tt](ze[A],Ce[A])),u(7,d=[...d]),re&&u(8,re.scrollTop=0,re)},J=()=>{const A=l.find(be=>be.dir);if(A){const{prop:be,i:Re}=A;le({prop:be,i:Re,same:!0})}};let re,te;const ce=(A,be)=>le({prop:A,i:be});function ge(){te=this.value,u(5,te)}const Ve=A=>K("chart",A);function fe(A){ji[A?"unshift":"push"](()=>{re=A,u(8,re)})}return a.$$set=A=>{"caption"in A&&u(0,m=A.caption),"rows"in A&&u(12,S=A.rows),"columns"in A&&u(1,N=A.columns),"scrollable"in A&&u(2,z=A.scrollable),"mobile"in A&&u(3,H=A.mobile),"filter"in A&&u(4,D=A.filter)},a.$$.update=()=>{a.$$.dirty[0]&2&&u(6,l=N.map((A,be)=>({sort:!0,type:"text",...A,i:be}))),a.$$.dirty[0]&4144&&u(7,d=S.map(A=>({...A,style:A.style||"",class:A.class||""})).filter(A=>{var je;if(!D||!te)return!0;const be=(je=A[D])==null?void 0:je.toLowerCase(),Re=te.toLowerCase();return be.includes(Re)})),a.$$.dirty[0]&128&&J(),a.$$.dirty[0]&80&&u(9,h=D?l.find(A=>A.prop===D).label:"")},[m,N,z,H,D,te,l,d,re,h,K,le,S,ce,ge,Ve,fe]}class sh extends qt{constructor(r){super(),Ht(this,r,rh,nh,Ft,{caption:0,rows:12,columns:1,scrollable:2,mobile:3,filter:4},null,[-1,-1])}}const ah=new Intl.PluralRules("en-US"),uh=new Map([["one",""],["other","s"]]);function oh(a,r){const u=ah.select(r),l=uh.get(u);return`${a}${l}`}const lh=[["7l:1c:v:2h",47.25],["7l:2c:r:48%d:0h",48.156],["7l:3c:r:49%d:0h",43.65],["7l:4c:r:63%d:0h",38.723],["7l:5c:r:94%d:0h",35.094],["7l:6c:r:49%d:0h",38.507],["7l:7c:v:0h",31.795],["7l:8c:r:63%d:0h",34.666],["7l:9c:r:68%d:0h",37.064],["7l:10c:r:82%d:0h",35.138],["8l:1c:v:1h",43.441],["8l:2c:v:0h",43.441],["8l:3c:r:87%d:0h",42.595],["8l:4c:v:0h",35.593],["8l:5c:r:65%d:0h",35.891],["8l:6c:r:91%d:0h",31.271],["8l:7c:r:58%d:0h",36.715],["8l:8c:r:84%d:0h",32.178],["8l:9c:r:69%d:0h",33.147],["8l:10c:r:65%d:0h",33.435],["9l:1c:v:2h",38.072],["9l:2c:r:64%d:0h",47.521],["9l:3c:v:0h",38.072],["9l:4c:r:64%d:0h",39.534],["9l:5c:r:73%d:0h",35.747],["9l:6c:r:73%d:0h",35.227],["9l:7c:r:98%d:0h",30.659],["9l:8c:r:64%d:0h",34.496],["9l:9c:r:90%d:0h",30.555],["9l:10c:r:76%d:0h",32.44],["10l:1c:v:1h",43.514],["10l:2c:v:0h",43.514],["10l:3c:r:69%d:0h",41.633],["10l:4c:r:53%d:0h",40.97],["10l:5c:r:96%d:0h",35.429],["10l:6c:r:69%d:0h",33.192],["10l:7c:r:87%d:0h",33.165],["10l:8c:r:53%d:0h",34.227],["10l:9c:r:76%d:0h",32.499],["10l:10c:r:96%d:0h",29.482],["11l:1c:v:2h",44.736],["11l:2c:r:75%d:0h",46.969],["11l:3c:r:56%d:0h",42.053],["11l:4c:r:85%d:0h",36.121],["11l:5c:r:76%d:0h",36.611],["11l:6c:r:86%d:0h",34.753],["11l:7c:r:68%d:0h",30.995],["11l:8c:r:86%d:0h",30.641],["11l:9c:r:59%d:0h",33.237],["11l:10c:r:76%d:0h",29.302],["12l:1c:v:2h",38.618],["12l:2c:v:0h",43.511],["12l:3c:v:0h",38.618],["12l:4c:v:0h",37.271],["12l:5c:r:73%d:0h",37.497],["12l:6c:r:69%d:0h",35.566],["12l:7c:r:80%d:0h",33.227],["12l:8c:r:74%d:0h",31.383],["12l:9c:r:96%d:0h",29.314],["12l:10c:r:64%d:0h",32.133],["13l:1c:v:2h",44.138],["13l:2c:r:85%d:0h",46.825],["13l:3c:r:83%d:0h",40.652],["13l:4c:r:85%d:0h",37.838],["13l:5c:r:95%d:0h",34.827],["13l:6c:r:85%d:0h",34.134],["13l:7c:r:94%d:0h",33.019],["13l:8c:r:77%d:0h",31.681],["13l:9c:r:83%d:0h",30.478],["13l:10c:r:96%d:0h",27.725]];function hh(a){let r,u,l,d,h;function m(N){a[5](N)}let S={label:"number of layers",options:a[2]};return a[0]!==void 0&&(S.value=a[0]),r=new eh({props:S}),ji.push(()=>hn(r,"value",m)),d=new sh({props:{rows:a[1],columns:a[3]}}),{c(){Pt(r.$$.fragment),l=ut(),Pt(d.$$.fragment)},l(N){At(r.$$.fragment,N),l=ot(N),At(d.$$.fragment,N)},m(N,z){Et(r,N,z),Oe(N,l,z),Et(d,N,z),h=!0},p(N,[z]){const H={};!u&&z&1&&(u=!0,H.value=N[0],ln(()=>u=!1)),r.$set(H);const D={};z&2&&(D.rows=N[1]),d.$set(D)},i(N){h||(He(r.$$.fragment,N),He(d.$$.fragment,N),h=!0)},o(N){Xe(r.$$.fragment,N),Xe(d.$$.fragment,N),h=!1},d(N){N&&ae(l),Tt(r,N),Tt(d,N)}}}const rn=32,ba=4;function fh(a,r,u){let l,d;const h=rn/2,m=h-ba,S=ba/2;let N=10;const z=Array.from({length:Za-Dr+1}).map((K,q)=>({value:Dr+q})),H=[{label:"Cuts",prop:"numCuts",sort:!0,type:"number"},{label:"Method",prop:"cuttingDiagram",sort:!1,type:"string"},{label:"Standard Deviation",prop:"standardDeviation",sort:!0,type:"number"}];function D(K){N=K,u(0,N)}return a.$$.update=()=>{a.$$.dirty&1&&u(4,l=lh.filter(([K])=>K.startsWith(N)).map(([K,q],le)=>({numCuts:le+1,storageKey:K,standardDeviation:fn(".1f")(q)+"%"}))),a.$$.dirty&16&&u(1,d=l.map(K=>{const{numCuts:q,storageKey:le}=K,J={v:"vertical",r:"radial"},re=le[le.indexOf("c")+2],te=+le.substring(le.indexOf(re)+2,le.indexOf("%")),ce=+le[le.indexOf("h")-1],ge=qi().domain([0,ce]).range([1/(ce+1),1]),Ve=re==="r",fe=[`${J[re]}`,...Ve?[`${te}%${Ts}depth`]:[],...ce?[`${ce} horizontal${Ts}${oh("cut",ce)}`]:[]].join(", ");return K.cuttingDiagram=`<svg viewBox="${-h} ${-h} ${rn} ${rn}" width="${rn}" style="min-width: ${rn}">
			<style>
				rect {
					fill: rgba(239, 239, 239, 1);
				}

				.cut {
					stroke-dasharray: 2;
				}</style>

			<title>${fe}</title>

			<rect x="${-h}" y="${-h}" width="${rn}" height="${rn}" />

			${Ve?`
							<!-- TODO is showing cutting board + vertical cut helpful? -->
							<!-- <line x1="${-m}" y1="${-m}" x2="${m}" y2="${-m}" />
							<line x1="0" y1="${-m}" x2="0" y2="${S}" class="cut" /> -->
							<line x1="${m}" y1="${-m}" x2="0" y2="${S}" class="cut" />

							<circle r="1.5" cy="${S}" />

							<text y=${m} text-anchor="middle" font-size="8">
								${te}%
							</text>
						`:`<line x1="0" y1="${-m}" x2="0" y2="${m}" class="cut" />`}

			${ce?Array.from({length:ce}).map((A,be)=>{const Re=-m+ge(be)*2*m;return`<line x1="${-m}" y1="${Re}" x2="${m}" y2="${Re}" class="cut" />`}):""}
		</svg>`,K.cuttingDiagram+=fe,K}))},[N,d,z,H,l,D]}class ch extends qt{constructor(r){super(),Ht(this,r,fh,hh,Ft,{})}}function ya(a,r,u){const l=a.slice();return l[1]=r[u].type,l[2]=r[u].value,l[4]=u,l}function wa(a,r,u){const l=a.slice();return l[7]=r[u],l}function dh(a){const r=a.slice(),u=r[2];return r[5]=u.src,r[6]=u.alt,r}function ph(a){let r,u,l=a[2]+"";return{c(){r=Ae("p"),u=new Hi(!1),this.h()},l(d){r=Ee(d,"P",{class:!0});var h=De(r);u=Ui(h,!1),h.forEach(ae),this.h()},h(){u.a=null,ee(r,"class",nr(a[1])+" svelte-rnb746")},m(d,h){Oe(d,r,h),u.m(l,r)},p:et,i:et,o:et,d(d){d&&ae(r)}}}function gh(a){let r,u,l=ht(a[2]),d=[];for(let h=0;h<l.length;h+=1)d[h]=xa(wa(a,l,h));return{c(){r=Ae("ul");for(let h=0;h<d.length;h+=1)d[h].c();u=ut()},l(h){r=Ee(h,"UL",{});var m=De(r);for(let S=0;S<d.length;S+=1)d[S].l(m);u=ot(m),m.forEach(ae)},m(h,m){Oe(h,r,m);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(r,null);we(r,u)},p(h,m){if(m&1){l=ht(h[2]);let S;for(S=0;S<l.length;S+=1){const N=wa(h,l,S);d[S]?d[S].p(N,m):(d[S]=xa(N),d[S].c(),d[S].m(r,u))}for(;S<d.length;S+=1)d[S].d(1);d.length=l.length}},i:et,o:et,d(h){h&&ae(r),Gt(d,h)}}}function _h(a){let r,u;return{c(){r=Ae("img"),this.h()},l(l){r=Ee(l,"IMG",{src:!0,alt:!0}),this.h()},h(){Ou(r.src,u=a[5])||ee(r,"src",u),ee(r,"alt",a[6])},m(l,d){Oe(l,r,d)},p:et,i:et,o:et,d(l){l&&ae(r)}}}function mh(a){let r,u;return r=new ch({}),{c(){Pt(r.$$.fragment)},l(l){At(r.$$.fragment,l)},m(l,d){Et(r,l,d),u=!0},p:et,i(l){u||(He(r.$$.fragment,l),u=!0)},o(l){Xe(r.$$.fragment,l),u=!1},d(l){Tt(r,l)}}}function vh(a){let r,u;const l=[cs(a[2])];let d={};for(let h=0;h<l.length;h+=1)d=Ru(d,l[h]);return r=new Ql({props:d}),{c(){Pt(r.$$.fragment)},l(h){At(r.$$.fragment,h)},m(h,m){Et(r,h,m),u=!0},p(h,m){const S=m&1?Du(l,[Fu(cs(h[2]))]):{};r.$set(S)},i(h){u||(He(r.$$.fragment,h),u=!0)},o(h){Xe(r.$$.fragment,h),u=!1},d(h){Tt(r,h)}}}function xa(a){let r,u,l=a[7]+"";return{c(){r=Ae("li"),u=new Hi(!1),this.h()},l(d){r=Ee(d,"LI",{});var h=De(r);u=Ui(h,!1),h.forEach(ae),this.h()},h(){u.a=null},m(d,h){Oe(d,r,h),u.m(l,r)},p:et,d(d){d&&ae(r)}}}function Sa(a){let r,u,l,d;const h=[vh,mh,_h,gh,ph],m=[];function S(z,H){return z[1]==="Component"?0:z[1]==="Report"?1:z[1]==="image"?2:z[1]==="list"?3:4}function N(z,H){return H===2?dh(z):z}return r=S(a),u=m[r]=h[r](N(a,r)),{c(){u.c(),l=zt()},l(z){u.l(z),l=zt()},m(z,H){m[r].m(z,H),Oe(z,l,H),d=!0},p(z,H){u.p(N(z,r),H)},i(z){d||(He(u),d=!0)},o(z){Xe(u),d=!1},d(z){z&&ae(l),m[r].d(z)}}}function bh(a){let r,u=a[0].hed+"",l,d,h,m,S,N,z=a[0].author1+"",H,D,K,q,le=a[0].author2+"",J,re,te,ce=ht(a[0].story),ge=[];for(let fe=0;fe<ce.length;fe+=1)ge[fe]=Sa(ya(a,ce,fe));const Ve=fe=>Xe(ge[fe],1,1,()=>{ge[fe]=null});return{c(){r=Ae("h1"),l=yt(u),d=ut(),h=Ae("div"),m=Ae("span"),S=yt("By "),N=new Hi(!1),H=ut(),D=Ae("span"),K=yt("With "),q=new Hi(!1),J=ut();for(let fe=0;fe<ge.length;fe+=1)ge[fe].c();re=zt(),this.h()},l(fe){r=Ee(fe,"H1",{});var A=De(r);l=wt(A,u),A.forEach(ae),d=ot(fe),h=Ee(fe,"DIV",{class:!0});var be=De(h);m=Ee(be,"SPAN",{});var Re=De(m);S=wt(Re,"By "),N=Ui(Re,!1),Re.forEach(ae),H=ot(be),D=Ee(be,"SPAN",{});var je=De(D);K=wt(je,"With "),q=Ui(je,!1),je.forEach(ae),be.forEach(ae),J=ot(fe);for(let tt=0;tt<ge.length;tt+=1)ge[tt].l(fe);re=zt(),this.h()},h(){N.a=null,q.a=null,ee(h,"class","authors svelte-rnb746")},m(fe,A){Oe(fe,r,A),we(r,l),Oe(fe,d,A),Oe(fe,h,A),we(h,m),we(m,S),N.m(z,m),we(h,H),we(h,D),we(D,K),q.m(le,D),Oe(fe,J,A);for(let be=0;be<ge.length;be+=1)ge[be]&&ge[be].m(fe,A);Oe(fe,re,A),te=!0},p(fe,[A]){if(A&1){ce=ht(fe[0].story);let be;for(be=0;be<ce.length;be+=1){const Re=ya(fe,ce,be);ge[be]?(ge[be].p(Re,A),He(ge[be],1)):(ge[be]=Sa(Re),ge[be].c(),He(ge[be],1),ge[be].m(re.parentNode,re))}for(di(),be=ce.length;be<ge.length;be+=1)Ve(be);pi()}},i(fe){if(!te){for(let A=0;A<ce.length;A+=1)He(ge[A]);te=!0}},o(fe){ge=ge.filter(Boolean);for(let A=0;A<ge.length;A+=1)Xe(ge[A]);te=!1},d(fe){fe&&(ae(r),ae(d),ae(h),ae(J),ae(re)),Gt(ge,fe)}}}function yh(a){return[si("copy")]}class wh extends qt{constructor(r){super(),Ht(this,r,yh,bh,Ft,{})}}function Ca(a,r,u){const l=a.slice();l[1]=r[u].type,l[2]=r[u].value;const d=["us","kenji"].includes(l[1]);l[3]=d;const h=l[3]?"blockquote":"svelte:fragment";return l[4]=h,l}function xh(a){let r,u=a[1]+"",l,d;return{c(){r=Ae("b"),l=yt(u),d=yt(":"),this.h()},l(h){r=Ee(h,"B",{class:!0});var m=De(r);l=wt(m,u),d=wt(m,":"),m.forEach(ae),this.h()},h(){ee(r,"class","speaker svelte-chcwu")},m(h,m){Oe(h,r,m),we(r,l),we(r,d)},p:et,d(h){h&&ae(r)}}}function Sh(a){let r,u,l,d,h=a[2]+"",m,S=a[3]&&xh(a);return{c(){r=Ae(a[4]),u=Ae("p"),S&&S.c(),l=ut(),d=new Hi(!1),m=ut(),this.h()},l(N){r=Ee(N,(a[4]||"null").toUpperCase(),{class:!0});var z=De(r);u=Ee(z,"P",{class:!0});var H=De(u);S&&S.l(H),l=ot(H),d=Ui(H,!1),H.forEach(ae),m=ot(z),z.forEach(ae),this.h()},h(){d.a=null,ee(u,"class",nr(a[1])+" svelte-chcwu"),zu(a[4])(r,{class:"svelte-chcwu"})},m(N,z){Oe(N,r,z),we(r,u),S&&S.m(u,null),we(u,l),d.m(h,u),we(r,m)},p(N,z){N[3]&&S.p(N,z)},d(N){N&&ae(r),S&&S.d()}}}function ka(a){let r=a[4]&&Sh(a);return{c(){r&&r.c()},l(u){r&&r.l(u)},m(u,l){r&&r.m(u,l)},p(u,l){u[4]&&r.p(u,l)},d(u){r&&r.d(u)}}}function Ch(a){let r,u=ht(a[0].conclusion),l=[];for(let d=0;d<u.length;d+=1)l[d]=ka(Ca(a,u,d));return{c(){r=Ae("section");for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l(d){r=Ee(d,"SECTION",{class:!0});var h=De(r);for(let m=0;m<l.length;m+=1)l[m].l(h);h.forEach(ae),this.h()},h(){ee(r,"class","conclusion")},m(d,h){Oe(d,r,h);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(r,null)},p(d,[h]){if(h&1){u=ht(d[0].conclusion);let m;for(m=0;m<u.length;m+=1){const S=Ca(d,u,m);l[m]?l[m].p(S,h):(l[m]=ka(S),l[m].c(),l[m].m(r,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=u.length}},i:et,o:et,d(d){d&&ae(r),Gt(l,d)}}}function kh(a){return[si("copy")]}class Ih extends qt{constructor(r){super(),Ht(this,r,kh,Ch,Ft,{})}}function Ia(a,r,u){const l=a.slice();return l[1]=r[u].type,l[2]=r[u].value,l}function Pa(a){let r,u,l=a[2]+"",d;return{c(){r=Ae("p"),u=new Hi(!1),d=ut(),this.h()},l(h){r=Ee(h,"P",{class:!0});var m=De(r);u=Ui(m,!1),d=ot(m),m.forEach(ae),this.h()},h(){u.a=d,ee(r,"class",a[1])},m(h,m){Oe(h,r,m),u.m(l,r),we(r,d)},p:et,d(h){h&&ae(r)}}}function Ph(a){let r,u=ht(a[0].appendix),l=[];for(let d=0;d<u.length;d+=1)l[d]=Pa(Ia(a,u,d));return{c(){r=Ae("section");for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l(d){r=Ee(d,"SECTION",{class:!0});var h=De(r);for(let m=0;m<l.length;m+=1)l[m].l(h);h.forEach(ae),this.h()},h(){ee(r,"class","appendix")},m(d,h){Oe(d,r,h);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(r,null)},p(d,[h]){if(h&1){u=ht(d[0].appendix);let m;for(m=0;m<u.length;m+=1){const S=Ia(d,u,m);l[m]?l[m].p(S,h):(l[m]=Pa(S),l[m].c(),l[m].m(r,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=u.length}},i:et,o:et,d(d){d&&ae(r),Gt(l,d)}}}function Ah(a){return[si("copy")]}class Eh extends qt{constructor(r){super(),Ht(this,r,Ah,Ph,Ft,{})}}function Th(a){let r,u,l,d,h,m,S,N,z,H;return r=new Gu({}),l=new Xu({}),h=new wh({}),S=new Ih({}),z=new Eh({}),{c(){Pt(r.$$.fragment),u=ut(),Pt(l.$$.fragment),d=ut(),Pt(h.$$.fragment),m=ut(),Pt(S.$$.fragment),N=ut(),Pt(z.$$.fragment)},l(D){At(r.$$.fragment,D),u=ot(D),At(l.$$.fragment,D),d=ot(D),At(h.$$.fragment,D),m=ot(D),At(S.$$.fragment,D),N=ot(D),At(z.$$.fragment,D)},m(D,K){Et(r,D,K),Oe(D,u,K),Et(l,D,K),Oe(D,d,K),Et(h,D,K),Oe(D,m,K),Et(S,D,K),Oe(D,N,K),Et(z,D,K),H=!0},p:et,i(D){H||(He(r.$$.fragment,D),He(l.$$.fragment,D),He(h.$$.fragment,D),He(S.$$.fragment,D),He(z.$$.fragment,D),H=!0)},o(D){Xe(r.$$.fragment,D),Xe(l.$$.fragment,D),Xe(h.$$.fragment,D),Xe(S.$$.fragment,D),Xe(z.$$.fragment,D),H=!1},d(D){D&&(ae(u),ae(d),ae(m),ae(N)),Tt(r,D),Tt(l,D),Tt(h,D),Tt(S,D),Tt(z,D)}}}function Nh(a){const r=si("copy");return console.log({copy:r}),[]}class Mh extends qt{constructor(r){super(),Ht(this,r,Nh,Th,Ft,{})}}const Lh=[{type:"text",value:"This is a story about onions and math."},{type:"small",value:"Not your taste? Try something else from <a href=https://pudding.cool>The Pudding</a>."},{type:"text",value:"Tens of millions of people are curious about how to properly dice an onion, <a href=https://www.youtube.com/results?search_query=how+to+dice+an+onion target=_blank rel=noreferrer>according to YouTube</a>."},{type:"text",value:"In 2021, renowned chef / food journalist J. Kenji López-Alt <a href=https://www.instagram.com/p/CV6L30MBFy8/ target=_blank rel=noreferrer>broke out some math</a> to optimize a technique for getting uniform piece sizes. How does it work?"}],Oh="Dicing an Onion, The Mathematically Optimal Way",Rh="<a target=_blank rel=noreferrer href=https://pudding.cool/author/andrew-aquino>Andrew Aquino</a>",zh="<a target=_blank rel=noreferrer href=https://pudding.cool/author/russell-samora>Russell Samora</a>",Vh=[{type:"text",value:"This is an onion."},{type:"Component",value:{showControls:"false",showCuts:"false"}},{type:"text",value:"What’s the best way to cut it? That is, how do we get the most uniform piece size?"},{type:"text",value:"The average onion has 7-13 layers <mark>[citation needed]</mark>. For the sake of example, let’s assume our onion has 10 layers. We can represent the layers as concentric circles."},{type:"text",value:"Let’s try a common approach: <mark>vertical cuts</mark>."},{type:"Component",value:{showControls:"false",highlightExtremes:"true"}},{type:"text",value:"The pieces <strong class=primary>near the center line</strong> are fairly consistent in shape and size."},{type:"text",value:"But <strong class=secondary>along the bottom</strong> there are some noticeably larger pieces. When you dice an onion, you’re probably not imagining pieces like these."},{type:"text",value:"This inconsistency can be measured by calculating the <strong>standard deviation</strong> of our pieces’ areas. A higher standard deviation means a greater variation in piece size. So to obtain the most consistently sized pieces, we want to make the standard deviation <em>as small as possible</em>."},{type:"Component",value:{toggleExplode:"true",showStandardDeviation:"true",caption:"Adjust the slider to see how the standard deviation changes with the number of cuts."}},{type:"text",value:"Okay, let’s try a different technique: <mark>radial cuts</mark>."},{type:"Component",value:{showControls:"false",cutType:"radial",highlightExtremes:"true"}},{type:"text",value:"The piece size still isn’t very consistent&mdash;those <strong class=primary>near the outside</strong> are much larger than those <strong class=secondary>near the center</strong>."},{type:"text",value:"How does the standard deviation of pieces cut radially compare to those cut vertically?"},{type:"Component",value:{cutType:"radial",controlCutType:"true",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"When making 10 cuts into a 10-layer onion radially, the standard deviation (57.7%) is <em>greater</em> than when cutting vertically (37.3%), which means that our piece size is now <em>less</em> consistent."},{type:"text",value:"But we can improve the radial cut strategy."},{type:"text",value:"Kenji claims that the most uniform pieces can be produced by <strong>aiming at a point ~60% of the onion’s radius below the cutting surface.</strong>"},{type:"Component",value:{showControls:"false",cutType:"radial",cutTargetDepthPercentage:"0.6",highlightExtremes:"true",showStandardDeviation:"true",showRadialTarget:"true"}},{type:"text",value:"The pieces now look more consistent, except for a few smaller ones <strong class=primary>along the bottom</strong>."},{type:"text",value:"Does the math confirm ~60% depth as the superior technique?"},{type:"text",value:"Indeed, 34.5% is the smallest standard deviation we’ve seen so far. This finding is further supported by Dr. Dylan Poulsen, an associate professor of mathematics at Washington College, who calculated that the ideal “onion constant” is ~55.731% depth (<a href=https://medium.com/@drspoulsen/a-solution-to-the-onion-problem-of-j-kenji-l%C3%B3pez-alt-c3c4ab22e67c target=_blank rel=noreferrer>source</a>, <a href=https://drspoulsen.github.io/MARP/ target=_blank rel=noreferrer>another source</a>). Kenji backs Dr. Poulsen’s method in <a href=https://www.nytimes.com/article/how-to-cut-onion.html target=_blank rel=noreferrer>this New York Times article</a>."},{type:"text",value:"But we can improve the radial cut strategy even more!"},{type:"text",value:"Dr. Poulsen’s analysis is based on making <em>infinitely many cuts</em> into an onion with <em>infinitely many layers</em>:"},{type:"text",value:'<img width="1440" alt="Screenshot from Dr. Poulsen’s slides. A diagram shows an onion cross-section with an unrealistically large number of layers. A caption reads: ‘So, we might as well consider the limiting case as the number of layers approaches infinity.’" src="https://github.com/user-attachments/assets/c9154a67-6b5a-48f9-be6e-4ca689153d8b">'},{type:"text",value:"However, in the physical world we’re only capable of making a finite number of cuts, and real onions have a finite number of layers. The diagrams from Kenji’s original claim show 10 cuts being made into an onion with 10 layers. How can we optimize that?"},{type:"text",value:"<mark>would another visualization help here? to show ideal depth converging to 55.731% as number of layers and number of cuts approach infinity</mark>"},{type:"text",value:"When making 10 cuts into a 10-layer onion, the smallest standard deviation (29.5%) occurs when making radial cuts <strong>aimed 96% of the onion’s radius below the cutting surface.</strong>"},{type:"Component",value:{controlCutType:"true",cutType:"radial",controlRadialDepth:"true",cutTargetDepthPercentage:"0.96",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"Before we explain how we got that result, let’s briefly consider another popular technique: making 1-2 horizontal cuts before vertical, <a href=https://www.youtube.com/watch?v=BuebC0CfD8E&t=79s target=_blank rel=noreferrer>which Kenji recommended in 2016</a>. What does the math say about this strategy? How does combining it with vertical/radial cuts affect our piece size?"},{type:"text",value:"<h2>Exploring all the possibilities</h2>"},{type:"Component",value:{controlLayers:"true",controlCutType:"true",controlRadialDepth:"true",controlHorizontalCuts:"true",toggleExplode:"true",showStandardDeviation:"true"}},{type:"text",value:"<h3>Optimal techniques</h3>"},{type:"text",value:"Here are the minimum standard deviations for every combination of layer numbers, vertical/radial cut numbers, radial cut depth, and horizontal cut numbers:"},{type:"Report",value:{}},{type:"text",value:"<h3>Insights</h3>"},{type:"list",value:["It turns out that making horizontal cuts almost never helps with consistency.","Radial cuts are usually more consistent than vertical cuts, but you have to aim below the center of the onion.","The ideal radial depth varies depending on the number of layers/cuts&mdash;but it’s always ≥48%. (Recall that this converges to the onion constant of ~55.731%, mentioned above.)"]}],Bh=[{type:"text",value:"<h2>The importance of optimal technique</h2>"},{type:"text",value:"Armed with this knowledge, we can apply the optimal dicing strategy to any onion. 🥷But how big a difference does being mathematically optimal make? We got in touch with Kenji to find out."},{type:"us",value:"How much does uniformity matter?"},{type:"kenji",value:"<em>It matters*</em> far more for winning internet debates and solving interesting math problems than it does for cooking. For home cooks, having onion dice that are a little off from perfect is not really an issue anyone should seriously worry about."},{type:"note",value:"*Emphasis our own"},{type:"text",value:"Good enough for us!"}],Dh=[{type:"text",value:"<mark>Appendix (a.k.a bonus nerd content): How do you calculate the area of an onion piece?</mark>"}],Aa={intro:Lh,hed:Oh,author1:Rh,author2:zh,story:Vh,conclusion:Bh,appendix:Dh};function Fh(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.14.0"),console.log("build: 2024-08-16-10:06"),console.log("--- --- --- --- --- ---")}function qh(a){let r,u,l,d;return r=new ju({props:{title:a[1],description:a[2],url:a[3],preloadFont:a[0],keywords:a[4]}}),l=new Mh({}),{c(){Pt(r.$$.fragment),u=ut(),Pt(l.$$.fragment)},l(h){At(r.$$.fragment,h),u=ot(h),At(l.$$.fragment,h)},m(h,m){Et(r,h,m),Oe(h,u,m),Et(l,h,m),d=!0},p:et,i(h){d||(He(r.$$.fragment,h),He(l.$$.fragment,h),d=!0)},o(h){Xe(r.$$.fragment,h),Xe(l.$$.fragment,h),d=!1},d(h){h&&ae(u),Tt(r,h),Tt(l,h)}}}function Hh(a,r,u){let{data:l}=r;Fh();const d=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:h,description:m,url:S,keywords:N}=Aa;return Ai("copy",Aa),Ai("data",l.data),a.$$set=z=>{"data"in z&&u(5,l=z.data)},[d,h,m,S,N,l]}class Yh extends qt{constructor(r){super(),Ht(this,r,Hh,qh,Ft,{data:5})}}export{Yh as component};
